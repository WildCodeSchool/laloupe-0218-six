webpackJsonp([1],{"+3/4":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("TToO"),i=function(t){function e(e){t.call(this),this.scheduler=e}return Object(r.__extends)(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(n("YaPU").a)},"+CnV":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e,r=n("AMGY").a.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}()},"+iia":function(t,e,n){(function(t){var e=function(){if("undefined"!=typeof t)return t;if("undefined"!=typeof window)return window;if("undefined"!=typeof self)return self;throw new Error("unable to locate global object")}();"undefined"==typeof Promise&&(e.Promise=Promise=n("Gs/g"))}).call(e,n("DuR2"))},"+lT7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("9/vk");e.assert=r.assert,e.assertionError=r.assertionError;var i=n("ZCyv");e.base64=i.base64,e.base64Decode=i.base64Decode,e.base64Encode=i.base64Encode;var o=n("Ex2A");e.CONSTANTS=o.CONSTANTS;var a=n("iNRZ");e.deepCopy=a.deepCopy,e.deepExtend=a.deepExtend,e.patchProperty=a.patchProperty;var s=n("T970");e.Deferred=s.Deferred;var u=n("C2tt");e.getUA=u.getUA,e.isMobileCordova=u.isMobileCordova,e.isNodeSdk=u.isNodeSdk,e.isReactNative=u.isReactNative;var c=n("GmLp");e.ErrorFactory=c.ErrorFactory,e.FirebaseError=c.FirebaseError,e.patchCapture=c.patchCapture;var l=n("sA4o");e.jsonEval=l.jsonEval,e.stringify=l.stringify;var h=n("lt8x");e.decode=h.decode,e.isAdmin=h.isAdmin,e.issuedAtTime=h.issuedAtTime,e.isValidFormat=h.isValidFormat,e.isValidTimestamp=h.isValidTimestamp;var f=n("Whum");e.clone=f.clone,e.contains=f.contains,e.every=f.every,e.extend=f.extend,e.findKey=f.findKey,e.findValue=f.findValue,e.forEach=f.forEach,e.getAnyKey=f.getAnyKey,e.getCount=f.getCount,e.getValues=f.getValues,e.isEmpty=f.isEmpty,e.isNonNullObject=f.isNonNullObject,e.map=f.map,e.safeGet=f.safeGet;var d=n("YNQF");e.querystring=d.querystring,e.querystringDecode=d.querystringDecode;var p=n("IYGj");e.Sha1=p.Sha1;var y=n("r3eQ");e.async=y.async,e.createSubscribe=y.createSubscribe;var m=n("U/B+");e.errorPrefix=m.errorPrefix,e.validateArgCount=m.validateArgCount,e.validateCallback=m.validateCallback,e.validateContextObject=m.validateContextObject,e.validateNamespace=m.validateNamespace;var g=n("m4rg");e.stringLength=g.stringLength,e.stringToByteArray=g.stringToByteArray},"/iUD":function(t,e,n){"use strict";e.a=function(t){return"function"==typeof t}},"/nXB":function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,s=null,u=t[t.length-1];return Object(o.a)(u)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof r.a?t[0]:Object(a.a)(n)(new i.a(t,s))};var r=n("YaPU"),i=n("Veqx"),o=n("1Q68"),a=n("8D5t")},0:function(t,e,n){t.exports=n("x35b")},"1Q68":function(t,e,n){"use strict";e.a=function(t){return t&&"function"==typeof t.schedule}},"8D5t":function(t,e,n){"use strict";var r=n("Qnch");function i(t){return t}e.a=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(i,null,t)}},"9/vk":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Ex2A");e.assert=function(t,n){if(!t)throw e.assertionError(n)},e.assertionError=function(t){return new Error("Firebase Database ("+r.CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)}},"9eBd":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+lT7"),i=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o="[DEFAULT]",a=[],s=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e,this.options_=Object(r.deepCopy)(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){a.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){a=a.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=o),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==o?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;Object(r.deepExtend)(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(a.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),a=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},t}();function u(t,e){throw c.create(t,e)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var c=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."});n.d(e,"firebase",function(){return l});var l=function t(){var e={},n={},a={},c={__esModule:!0,initializeApp:function(t,n){void 0===n?n=o:"string"==typeof n&&""!==n||u("bad-app-name",{name:n+""}),i(e,n)&&u("duplicate-app",{name:n});var r=new s(t,n,c);return e[n]=r,f(r,"create"),r},app:l,apps:null,Promise:Promise,SDK_VERSION:"4.10.1",INTERNAL:{registerService:function(t,e,i,o,f){n[t]&&u("duplicate-service",{name:t}),n[t]=e,o&&(a[t]=o,h().forEach(function(t){o("create",t)}));var d=function(e){return void 0===e&&(e=l()),"function"!=typeof e[t]&&u("invalid-app-argument",{name:t}),e[t]()};return void 0!==i&&Object(r.deepExtend)(d,i),c[t]=d,s.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,f?e:[])},d},createFirebaseNamespace:t,extendNamespace:function(t){Object(r.deepExtend)(c,t)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(t){f(e[t],"delete"),delete e[t]},factories:n,useAsService:d,Promise:Promise,deepExtend:r.deepExtend}};function l(t){return i(e,t=t||o)||u("no-app",{name:t}),e[t]}function h(){return Object.keys(e).map(function(t){return e[t]})}function f(t,e){Object.keys(n).forEach(function(n){var r=d(0,n);null!==r&&a[r]&&a[r](e,t)})}function d(t,e){return"serverAuth"===e?null:e}return Object(r.patchProperty)(c,"default",c),Object.defineProperty(c,"apps",{get:h}),Object(r.patchProperty)(l,"App",s),c}();e.default=l},AMGY:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});var r="undefined"!=typeof window&&window,i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=r||"undefined"!=typeof t&&t||i}).call(e,n("DuR2"))},BX3T:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},C2tt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Ex2A");e.getUA=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(e.getUA())},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isNodeSdk=function(){return!0===r.CONSTANTS.NODE_CLIENT||!0===r.CONSTANTS.NODE_ADMIN}},Df3s:function(module,exports,__webpack_require__){(function(global){(function(){var g,goog=goog||{},k=this;function l(t){return"string"==typeof t}function aa(){}function ba(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function n(t){return"array"==ba(t)}function ca(t){var e=ba(t);return"array"==e||"object"==e&&"number"==typeof t.length}function da(t){return"function"==ba(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var q="closure_uid_"+(1e9*Math.random()>>>0),ea=0;function fa(t,e,n){return t.call.apply(t.bind,arguments)}function ha(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function r(t,e,n){return(r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fa:ha).apply(null,arguments)}function ia(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var t=Date.now||function(){return+new Date};function u(t,e){function n(){}n.prototype=e.prototype,t.H=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Cb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ja(t){if(Error.captureStackTrace)Error.captureStackTrace(this,ja);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function ka(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}u(ja,Error),ja.prototype.name="CustomError";var la=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function ma(t,e){return t<e?-1:t>e?1:0}function na(t,e){e.unshift(t),ja.call(this,ka.apply(null,e)),e.shift()}function oa(t,e){throw new na("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function w(){0!=qa&&(ra[this[q]||(this[q]=++ea)]=this),this.i=this.i,this.w=this.w}u(na,ja),na.prototype.name="AssertionError";var qa=0,ra={};w.prototype.i=!1,w.prototype.Z=function(){if(!this.i&&(this.i=!0,this.A(),0!=qa)){var t=this[q]||(this[q]=++ea);delete ra[t]}},w.prototype.A=function(){if(this.w)for(;this.w.length;)this.w.shift()()};var sa=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(l(t))return l(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ta=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=l(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},x;function ua(t){t:{for(var e=va,n=t.length,r=l(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}function wa(t){if(!n(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0}function xa(t){return Array.prototype.concat.apply([],arguments)}function ya(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}t:{var za=k.navigator;if(za){var Aa=za.userAgent;if(Aa){x=Aa;break t}}x=""}function y(t){return-1!=x.indexOf(t)}function Ba(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ca(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function Da(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function Ea(t){var e,n={};for(e in t)n[e]=t[e];return n}var Fa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ga(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Fa.length;o++)n=Fa[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ha(t){return Ha[" "](t),t}function Ia(t,e){var n=Ja;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}Ha[" "]=aa;var Ka=y("Opera"),z=y("Trident")||y("MSIE"),La=y("Edge"),Ma=y("Gecko")&&!(-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),Na=-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"),Pa,a;function Oa(){var t=k.document;return t?t.documentMode:void 0}t:{var Qa="",Ra=(a=x,Ma?/rv:([^\);]+)(\)|;)/.exec(a):La?/Edge\/([\d\.]+)/.exec(a):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Na?/WebKit\/(\S+)/.exec(a):Ka?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Ra&&(Qa=Ra?Ra[1]:""),z){var Sa=Oa();if(null!=Sa&&Sa>parseFloat(Qa)){Pa=String(Sa);break t}}Pa=Qa}var Ja={},Ua;function Ta(t){return Ia(t,function(){for(var e=0,n=la(String(Pa)).split("."),r=la(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ma(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ma(0==a[2].length,0==s[2].length)||ma(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var Va=k.document;Ua=Va&&z?Oa()||("CSS1Compat"==Va.compatMode?parseInt(Pa,10):5):void 0;var Wa=Object.freeze||function(t){return t},Xa=!z||9<=Number(Ua),Ya=z&&!Ta("9"),Za=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return k.addEventListener("test",aa,e),k.removeEventListener("test",aa,e),t}();function A(t,e){this.type=t,this.a=this.target=e,this.Pa=!0}function $a(t,e){if(A.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ma){t:{try{Ha(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:ab[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}A.prototype.b=function(){this.Pa=!1},u($a,A);var ab=Wa({2:"touch",3:"pen",4:"mouse"});$a.prototype.b=function(){$a.H.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ya)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var bb="closure_listenable_"+(1e6*Math.random()|0);function cb(t){return!(!t||!t[bb])}var db=0;function eb(t,e,n,r,i){this.listener=t,this.a=null,this.src=e,this.type=n,this.capture=!!r,this.ga=i,this.key=++db,this.Y=this.ca=!1}function fb(t){t.Y=!0,t.listener=null,t.a=null,t.src=null,t.ga=null}function gb(t){this.src=t,this.a={},this.b=0}function ib(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=sa(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(fb(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function jb(t,e,n,r,i){return t=t.a[e.toString()],e=-1,t&&(e=hb(t,n,r,i)),-1<e?t[e]:null}function hb(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ga==r)return i}return-1}gb.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=hb(t,e,r,i);return-1<a?(e=t[a],n||(e.ca=!1)):((e=new eb(e,this.src,o,!!r,i)).ca=n,t.push(e)),e};var kb="closure_lm_"+(1e6*Math.random()|0),lb={},mb=0;function nb(t,e,r,i,o){if(i&&i.once)return ob(t,e,r,i,o);if(n(e)){for(var a=0;a<e.length;a++)nb(t,e[a],r,i,o);return null}return r=pb(r),cb(t)?t.aa(e,r,p(i)?!!i.capture:!!i,o):qb(t,e,r,!1,i,o)}function qb(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=rb(t);if(s||(t[kb]=s=new gb(t)),(n=s.add(e,n,r,a,o)).a)return n;if(r=sb(),n.a=r,r.src=t,r.listener=n,t.addEventListener)Za||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(tb(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return mb++,n}function sb(){var t=ub,e=Xa?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function ob(t,e,r,i,o){if(n(e)){for(var a=0;a<e.length;a++)ob(t,e[a],r,i,o);return null}return r=pb(r),cb(t)?t.Ha(e,r,p(i)?!!i.capture:!!i,o):qb(t,e,r,!0,i,o)}function vb(t,e,r,i,o){if(n(e))for(var a=0;a<e.length;a++)vb(t,e[a],r,i,o);else i=p(i)?!!i.capture:!!i,r=pb(r),cb(t)?t.va(e,r,i,o):t&&(t=rb(t))&&(e=jb(t,e,r,i,o))&&wb(e)}function wb(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(cb(e))ib(e.c,t);else{var n=t.type,r=t.a;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(tb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),mb--,(n=rb(e))?(ib(n,t),0==n.b&&(n.src=null,e[kb]=null)):fb(t)}}}function tb(t){return t in lb?lb[t]:lb[t]="on"+t}function xb(t,e,n,r){var i=!0;if((t=rb(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.Y&&(o=yb(o,r),i=i&&!1!==o)}return i}function yb(t,e){var n=t.listener,r=t.ga||t.src;return t.ca&&wb(t),n.call(r,e)}function ub(t,e){if(t.Y)return!0;if(!Xa){if(!e)t:{e=["window","event"];for(var n=k,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new $a(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.a;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.a=r[i];var o=xb(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.a=r[i],o=xb(r[i],t,!1,e),n=n&&o}return n}return yb(t,new $a(e,this))}function rb(t){return(t=t[kb])instanceof gb?t:null}var zb="__closure_events_fn_"+(1e9*Math.random()>>>0);function pb(t){return da(t)?t:(t[zb]||(t[zb]=function(e){return t.handleEvent(e)}),t[zb])}function B(){w.call(this),this.c=new gb(this),this.P=this,this.K=null}function Ab(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ga||a.src;a.ca&&ib(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Pa}function Bb(t){return!/^\s*$/.test(t)&&/^[\],:{}\s\u2028\u2029]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function Cb(a){if(a=String(a),Bb(a))try{return eval("("+a+")")}catch(t){}throw Error("Invalid JSON string: "+a)}function Db(t){var e=[];return Eb(new Fb,t,e),e.join("")}function Fb(){}function Eb(t,e,r){if(null==e)r.push("null");else{if("object"==typeof e){if(n(e)){var i=e;e=i.length,r.push("[");for(var o="",a=0;a<e;a++)r.push(o),Eb(t,i[a],r),o=",";return void r.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(i in r.push("{"),o="",e)Object.prototype.hasOwnProperty.call(e,i)&&"function"!=typeof(a=e[i])&&(r.push(o),Gb(i,r),r.push(":"),Eb(t,a,r),o=",");return void r.push("}")}e=e.valueOf()}switch(typeof e){case"string":Gb(e,r);break;case"number":r.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":r.push(String(e));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}u(B,w),B.prototype[bb]=!0,g=B.prototype,g.addEventListener=function(t,e,n,r){nb(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){vb(this,t,e,n,r)},g.dispatchEvent=function(t){var e,n=this.K;if(n)for(e=[];n;n=n.K)e.push(n);n=this.P;var r=t.type||t;if(l(t))t=new A(t,n);else if(t instanceof A)t.target=t.target||n;else{var i=t;Ga(t=new A(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Ab(a,r,!0,t)&&i}if(i=Ab(a=t.a=n,r,!0,t)&&i,i=Ab(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ab(a=t.a=e[o],r,!1,t)&&i;return i},g.A=function(){if(B.H.A.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)fb(n[r]);delete e.a[t],e.b--}}this.K=null},g.aa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},g.Ha=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)},g.va=function(t,e,n,r){var i=this.c;if((t=String(t).toString())in i.a){var o=i.a[t];-1<(e=hb(o,e,n,r))&&(fb(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete i.a[t],i.b--))}};var Hb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ib=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Gb(t,e){e.push('"',t.replace(Ib,function(t){var e=Hb[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Hb[t]=e),e}),'"')}function Jb(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Kb(){this.b=this.a=null}Jb.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Nb=new Jb(function(){return new Lb},function(t){t.reset()}),Rb,Tb;function Ob(){var t=Pb,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Lb(){this.next=this.b=this.a=null}function Qb(t){k.setTimeout(function(){throw t},0)}function Sb(){var t=k.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=r(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),"undefined"!=typeof t&&!y("Trident")&&!y("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).za;n.za=null,t()}},function(t){i.next={za:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){k.setTimeout(t,0)}}function Ub(){if(-1!=String(k.Promise).indexOf("[native code]")){var t=k.Promise.resolve(void 0);Tb=function(){t.then(Vb)}}else Tb=function(){var t=Vb;!da(k.setImmediate)||k.Window&&k.Window.prototype&&!y("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(Rb||(Rb=Sb()),Rb(t)):k.setImmediate(t)}}Kb.prototype.add=function(t,e){var n=Nb.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Lb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Lb.prototype.reset=function(){this.next=this.b=this.a=null};var Wb=!1,Pb=new Kb;function Vb(){for(var t;t=Ob();){try{t.a.call(t.b)}catch(t){Qb(t)}var e=Nb;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Wb=!1}function Xb(e,n){B.call(this),this.b=e||1,this.a=n||k,this.f=r(this.kb,this),this.g=t()}function Yb(t){t.$=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Zb(t,e,n){if(da(t))n&&(t=r(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=r(t.handleEvent,t)}return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function $b(t,e,n){w.call(this),this.f=null!=n?r(t,n):t,this.c=e,this.b=r(this.eb,this),this.a=[]}function ac(t){t.X=Zb(t.b,t.c),t.f.apply(null,t.a)}function C(t){w.call(this),this.b=t,this.a={}}u(Xb,B),g=Xb.prototype,g.$=!1,g.L=null,g.kb=function(){if(this.$){var e=t()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.$&&(this.L=this.a.setTimeout(this.f,this.b),this.g=t()))}},g.start=function(){this.$=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=t())},g.A=function(){Xb.H.A.call(this),Yb(this),delete this.a},u($b,w),g=$b.prototype,g.ha=!1,g.X=null,g.Xa=function(t){this.a=arguments,this.X?this.ha=!0:ac(this)},g.A=function(){$b.H.A.call(this),this.X&&(k.clearTimeout(this.X),this.X=null,this.ha=!1,this.a=[])},g.eb=function(){this.X=null,this.ha&&(this.ha=!1,ac(this))},u(C,w);var bc=[];function cc(t){Ba(t.a,function(t,e){this.a.hasOwnProperty(e)&&wb(t)},t),t.a={}}function dc(t,e,n){this.reset(t,e,n,void 0,void 0)}C.prototype.aa=function(t,e,r,i){n(e)||(e&&(bc[0]=e.toString()),e=bc);for(var o=0;o<e.length;o++){var a=nb(t,e[o],r||this.handleEvent,i||!1,this.b||this);if(!a)break;this.a[a.key]=a}return this},C.prototype.va=function(t,e,r,i,o){if(n(e))for(var a=0;a<e.length;a++)this.va(t,e[a],r,i,o);else r=r||this.handleEvent,i=p(i)?!!i.capture:!!i,o=o||this.b||this,r=pb(r),i=!!i,(e=cb(t)?jb(t.c,String(e),r,i,o):t&&(t=rb(t))?jb(t,e,r,i,o):null)&&(wb(e),delete this.a[e.key])},C.prototype.A=function(){C.H.A.call(this),cc(this)},C.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dc.prototype.a=null;var ec=0;function fc(t){this.f=t,this.b=this.c=this.a=null}function D(t,e){this.name=t,this.value=e}dc.prototype.reset=function(e,n,r,i,o){"number"==typeof o||ec++,i||t(),delete this.a},D.prototype.toString=function(){return this.name};var gc=new D("SEVERE",1e3),hc=new D("WARNING",900),ic=new D("INFO",800),jc=new D("CONFIG",700),kc=new D("FINE",500);function lc(t){return t.c?t.c:t.a?lc(t.a):(oa("Root logger has no level set."),null)}fc.prototype.log=function(t,e,n){if(t.value>=lc(this).value)for(da(e)&&(e=e()),t=new dc(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var mc={},nc=null;function oc(t){var e;if(nc||(nc=new fc(""),mc[""]=nc,nc.c=jc),!(e=mc[t])){e=new fc(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=oc(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,mc[t]=e}return e}function E(t,e){t&&t.log(hc,e,void 0)}function pc(t,e){t&&t.log(ic,e,void 0)}function F(t,e){t&&t.log(kc,e,void 0)}function qc(){this.a=oc("goog.labs.net.webChannel.WebChannelDebug"),this.b=!0}function rc(t,e,n,r,i,o){H(t,function(){if(t.b)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}function sc(t,e,n,r,i,o,a){H(t,function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}function tc(t,e,n,r){H(t,function(){return"XMLHTTP TEXT ("+e+"): "+uc(t,n)+(r?" "+r:"")})}function vc(t,e){H(t,function(){return"TIMEOUT: "+e})}function I(t,e){F(t.a,e)}function wc(t,e,n){(t=t.a)&&t.log(gc,n||"Exception",e)}function H(t,e){pc(t.a,e)}function xc(t,e){(t=t.a)&&t.log(gc,e,void 0)}function uc(t,e){if(!t.b)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(var i=0;i<r.length;i++)if(n(r[i])){var o=r[i];if(!(2>o.length)){var a=o[1];if(n(a)&&!(1>a.length)){var s=a[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<a.length;u++)a[u]=""}}}return Db(r)}catch(n){return I(t,"Exception parsing expected JS array - probably was not JS"),e}}qc.prototype.Ea=function(){this.b=!1};var yc=new B;function zc(t){A.call(this,"serverreachability",t)}function Ac(t){yc.dispatchEvent(new zc(yc,t))}function Bc(t){A.call(this,"statevent",t)}function J(t){yc.dispatchEvent(new Bc(yc,t))}function Cc(t){A.call(this,"timingevent",t)}function Dc(t,e,n){yc.dispatchEvent(new Cc(yc,t,e,n))}function Ec(t,e){if(!da(t))throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}u(zc,A),u(Bc,A),u(Cc,A);var Fc={NO_ERROR:0,lb:1,sb:2,rb:3,ob:4,qb:5,tb:6,Ra:7,TIMEOUT:8,wb:9},Gc={nb:"complete",Ab:"success",Sa:"error",Ra:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",pb:"downloadprogress",Bb:"uploadprogress"},Kc;function Hc(){}function Ic(t){var e;return(e=t.a)||(e={},Jc(t)&&(e[0]=!0,e[1]=!0),e=t.a=e),e}function Lc(){}function Mc(t){return(t=Jc(t))?new ActiveXObject(t):new XMLHttpRequest}function Jc(t){if(!t.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.b=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.b}function K(t,e,n,r){this.i=t,this.b=e,this.f=n,this.T=r||1,this.N=new C(this),this.S=Nc,(t=this.I=new Xb).b=Oc,t.L&&t.$?(Yb(t),t.start()):t.L&&Yb(t),this.j=null,this.c=!1,this.m=this.g=this.h=this.K=this.D=this.U=this.w=null,this.u=[],this.a=null,this.F=0,this.l=this.o=null,this.C=-1,this.B=!1,this.P=0,this.J=null,this.M=!1}Hc.prototype.a=null,u(Lc,Hc),Kc=new Lc;var Nc=45e3,Oc=250;function Pc(t,e){switch(t){case 0:return"Non-200 return code ("+e+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}var Qc={},Rc={};function Sc(t,e,n){t.K=1,t.h=Tc(L(e)),t.m=n,t.M=!0,Uc(t,null)}function Vc(t,e,n,r){t.K=1,t.h=Tc(L(e)),t.m=null,t.M=n,Uc(t,r)}function Uc(e,n){e.D=t(),Wc(e),e.g=L(e.h),Xc(e.g,"t",e.T),e.F=0,e.a=e.i.da(e.i.ia()?n:null),0<e.P&&(e.J=new $b(r(e.Qa,e,e.a),e.P)),e.N.aa(e.a,"readystatechange",e.hb),n=e.j?Ea(e.j):{},e.m?(e.o||(e.o="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.a.fa(e.g,e.o,e.m,n)):(e.o="GET",e.a.fa(e.g,e.o,null,n)),Ac(1),rc(e.b,e.o,e.g,e.f,e.T,e.m)}function Yc(t){var e=M(t.a),n=t.a.Fa(),r=t.a.W();if(!(3>e||3==e&&!Ka&&!t.a.V())){t.B||4!=e||7==n||Ac(8==n||0>=r?3:2),Zc(t);var i=t.a.W();t.C=i,(n=t.a.V())||I(t.b,function(){return"No response text for uri "+t.g+" status "+i}),t.c=200==i,sc(t.b,t.o,t.g,t.f,t.T,e,i),t.c?(t.M?($c(t,e,n),Ka&&t.c&&3==e&&ad(t)):(tc(t.b,t.f,n,null),bd(t,n)),4==e&&cd(t),t.c&&!t.B&&(4==e?t.i.ua(t):(t.c=!1,Wc(t)))):(400==i&&0<n.indexOf("Unknown SID")?(t.l=3,J(12),E(t.b.a,"XMLHTTP Unknown SID ("+t.f+")")):(t.l=0,J(13),E(t.b.a,"XMLHTTP Bad status "+i+" ("+t.f+")")),cd(t),dd(t))}}function $c(t,e,n){for(var r=!0;!t.B&&t.F<n.length;){var i=ed(t,n);if(i==Rc){4==e&&(t.l=4,J(14),r=!1),tc(t.b,t.f,null,"[Incomplete Response]");break}if(i==Qc){t.l=4,J(15),tc(t.b,t.f,n,"[Invalid Chunk]"),r=!1;break}tc(t.b,t.f,i,null),bd(t,i)}4==e&&0==n.length&&(t.l=1,J(16),r=!1),t.c=t.c&&r,r||(tc(t.b,t.f,n,"[Invalid Chunked Response]"),cd(t),dd(t))}function ad(t){t.N.aa(t.I,"tick",t.gb),t.I.start()}function ed(t,e){var n=t.F,r=e.indexOf("\n",n);return-1==r?Rc:(n=Number(e.substring(n,r)),isNaN(n)?Qc:(r+=1)+n>e.length?Rc:(e=e.substr(r,n),t.F=r+n,e))}function Wc(e){e.U=t()+e.S,fd(e,e.S)}function fd(t,e){if(null!=t.w)throw Error("WatchDog timer not null");t.w=Ec(r(t.fb,t),e)}function Zc(t){t.w&&(k.clearTimeout(t.w),t.w=null)}function dd(t){t.i.Ja()||t.B||t.i.ua(t)}function cd(t){Zc(t);var e=t.J;e&&"function"==typeof e.Z&&e.Z(),t.J=null,Yb(t.I),cc(t.N),t.a&&(e=t.a,t.a=null,e.abort(),e.Z())}function bd(t,e){try{t.i.Ma(t,e),Ac(4)}catch(e){wc(t.b,e,"Error in httprequest callback")}}function gd(t){if(t.v&&"function"==typeof t.v)return t.v();if(l(t))return t.split("");if(ca(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}return Ca(t)}function hd(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ca(t)||l(t))ta(t,e,void 0);else{if(t.O&&"function"==typeof t.O)var n=t.O();else if(t.v&&"function"==typeof t.v)n=void 0;else if(ca(t)||l(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else n=Da(t);i=(r=gd(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function N(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t){t instanceof N?(n=t.O(),r=t.v()):(n=Da(t),r=Ca(t));for(var i=0;i<n.length;i++)this.set(n[i],r[i])}}function jd(t){t.b={},t.a.length=0,t.c=0}function kd(t,e){return!!O(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&id(t),!0)}function id(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];O(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)O(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}g=K.prototype,g.setTimeout=function(t){this.S=t},g.hb=function(t){t=t.target;var e=this.J;e&&3==M(t)?(I(this.b,"Throttling readystatechange."),e.Xa()):this.Qa(t)},g.Qa=function(t){try{t==this.a?Yc(this):E(this.b.a,"Called back with an unexpected xmlhttp")}catch(t){if(I(this.b,"Failed call to OnXmlHttpReadyStateChanged_"),this.a&&this.a.V()){var e=this;wc(this.b,t,function(){return"ResponseText: "+e.a.V()})}else wc(this.b,t,"No response text")}},g.gb=function(){var t=M(this.a),e=this.a.V();this.F<e.length&&(Zc(this),$c(this,t,e),this.c&&4!=t&&Wc(this))},g.cancel=function(){this.B=!0,cd(this)},g.fb=function(){this.w=null;var e=t();0<=e-this.U?(this.c&&xc(this.b,"Received watchdog timeout even though request loaded successfully"),vc(this.b,this.g),2!=this.K&&(Ac(3),J(17)),cd(this),this.l=2,dd(this)):(E(this.b.a,"WatchDog timer called too early"),fd(this,this.U-e))},g=N.prototype,g.s=function(){return this.c},g.v=function(){id(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},g.O=function(){return id(this),this.a.concat()},g.get=function(t,e){return O(this.b,t)?this.b[t]:e},g.set=function(t,e){O(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},g.forEach=function(t,e){for(var n=this.O(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ld=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function md(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function P(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof P?(this.h=void 0!==e?e:t.h,nd(this,t.f),this.j=t.j,od(this,t.b),pd(this,t.i),this.a=t.a,qd(this,rd(t.c)),this.g=t.g):t&&(n=String(t).match(ld))?(this.h=!!e,nd(this,n[1]||"",!0),this.j=sd(n[2]||""),od(this,n[3]||"",!0),pd(this,n[4]),this.a=sd(n[5]||"",!0),qd(this,n[6]||"",!0),this.g=sd(n[7]||"")):(this.h=!!e,this.c=new td(null,this.h))}function L(t){return new P(t)}function nd(t,e,n){t.f=n?sd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function od(t,e,n){t.b=n?sd(e,!0):e}function pd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function qd(t,e,n){e instanceof td?(t.c=e,zd(t.c,t.h)):(n||(e=ud(e,Ad)),t.c=new td(e,t.h))}function Q(t,e,n){t.c.set(e,n)}function Xc(t,e,r){n(r)||(r=[String(r)]),Bd(t.c,e,r)}function Tc(e){return Q(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36)),e}function Cd(t){return t instanceof P?L(t):new P(t,void 0)}function Dd(t,e,n,r){var i=new P(null,void 0);return t&&nd(i,t),e&&od(i,e),n&&pd(i,n),r&&(i.a=r),i}function sd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ud(t,e,n){return l(t)?(t=encodeURI(t).replace(e,Ed),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ed(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}P.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ud(e,vd,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ud(e,vd,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(ud(n,"/"==n.charAt(0)?wd:xd,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",ud(n,yd)),t.join("")},P.prototype.resolve=function(t){var e=L(this),n=!!t.f;n?nd(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?od(e,t.b):n=null!=t.i;var r=t.a;if(n)pd(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?qd(e,rd(t.c)):n=!!t.g,n&&(e.g=t.g),e};var vd=/[#\/\?@]/g,xd=/[#\?:]/g,wd=/[#\?]/g,Ad=/[#\?@]/g,yd=/#/g;function td(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function R(t){t.a||(t.a=new N,t.b=0,t.c&&md(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Gd(t,e){R(t),e=Fd(t,e),O(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,kd(t.a,e))}function Hd(t,e){return R(t),e=Fd(t,e),O(t.a.b,e)}function Bd(t,e,n){Gd(t,e),0<n.length&&(t.c=null,t.a.set(Fd(t,e),ya(n)),t.b+=n.length)}function rd(t){var e=new td;return e.c=t.c,t.a&&(e.a=new N(t.a),e.b=t.b),e}function Fd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function zd(t,e){e&&!t.f&&(R(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Gd(this,e),Bd(this,n,t))},t)),t.f=e}function Id(){this.a=t()}g=td.prototype,g.s=function(){return R(this),this.b},g.add=function(t,e){R(this),this.c=null,t=Fd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},g.forEach=function(t,e){R(this),this.a.forEach(function(n,r){ta(n,function(n){t.call(e,n,r,this)},this)},this)},g.O=function(){R(this);for(var t=this.a.v(),e=this.a.O(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},g.v=function(t){R(this);var e=[];if(l(t))Hd(this,t)&&(e=xa(e,this.a.get(Fd(this,t))));else{t=this.a.v();for(var n=0;n<t.length;n++)e=xa(e,t[n])}return e},g.set=function(t,e){return R(this),this.c=null,Hd(this,t=Fd(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},g.get=function(t,e){return 0<(t=t?this.v(t):[]).length?String(t[0]):e},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.O(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.v(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Jd=null;function Kd(){Jd||(Jd=new Id)}function Ld(){Jd||(Jd=new Id)}function Md(){}Id.prototype.set=function(t){this.a=t},Id.prototype.reset=function(){this.set(t())},Id.prototype.get=function(){return this.a},u(Ld,Kd);var Nd={OPEN:"a",mb:"b",Sa:"c",vb:"d"};function Od(){A.call(this,"d")}function Pd(){A.call(this,"c")}function Qd(t,e){this.a=t,this.b=e,this.c=this.i=null,this.h=!1,this.l=null,this.f=-1,this.m=this.g=null}function Rd(t){I(t.b,"TestConnection: starting stage 2");var e=t.a.I.a;if(null!=e)I(t.b,function(){return"Buffered"}),J(4),e?(J(10),Sd(t.a,t,!1)):(J(11),Sd(t.a,t,!0));else{t.c=new K(t,t.b,void 0,void 0),t.c.j=t.i;var n=Td(t.a,t.g,t.l);J(4),Xc(n,"TYPE","xmlhttp");var r=t.a.j,i=t.a.K;r&&i&&Q(n,r,i),Vc(t.c,n,!1,t.g)}}function Vd(){this.a=this.b=null}function S(){this.a=new N}function Wd(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[q]||(t[q]=++ea)):e.charAt(0)+t}function Xd(t,e){this.a=t,this.b=e}function Yd(t){this.g=t||Zd,this.f=k.pa&&k.pa.Ka&&k.pa.Ka()&&k.pa.Ka().Db?this.g:1,this.a=null,1<this.f&&(this.a=new S),this.b=null,this.c=[]}u(Od,A),u(Pd,A),g=Qd.prototype,g.R=null,g.da=function(t){return this.a.da(t)},g.abort=function(){this.c&&(this.c.cancel(),this.c=null),this.f=-1},g.Ja=function(){return!1},g.Ma=function(t,e){if(this.f=t.C,0==this.R){if(I(this.b,"TestConnection: Got data for stage 1"),!this.a.D&&(t=t.a)){var n=t.a?t.a.getResponseHeader("X-Client-Wire-Protocol"):null;this.m=n||null,this.a.j&&((t=t.a?t.a.getResponseHeader("X-HTTP-Session-Id"):null)?this.a.K=t:E(this.b.a,"Missing X_HTTP_SESSION_ID in the handshake response"))}if(e){try{var r=this.a.ma.a.parse(e)}catch(t){return wc(this.b,t),void Ud(this.a,this)}this.g=r[0]}else I(this.b,"TestConnection: Null responseText"),Ud(this.a,this)}else 1==this.R&&(this.h?J(6):"11111"==e?(J(5),this.h=!0,(!z||10<=Number(Ua))&&(this.f=200,this.c.cancel(),I(this.b,"Test connection succeeded; using streaming connection"),J(11),Sd(this.a,this,!0))):(J(7),this.h=!1))},g.ua=function(){this.f=this.c.C,this.c.c?0==this.R?(this.R=1,I(this.b,"TestConnection: request complete for initial check"),Rd(this)):1==this.R&&(I(this.b,"TestConnection: request complete for stage 2"),this.h?(I(this.b,"Test connection succeeded; using streaming connection"),J(11),Sd(this.a,this,!0)):(I(this.b,"Test connection failed; not using streaming"),J(10),Sd(this.a,this,!1))):(I(this.b,"TestConnection: request failed, in state "+this.R),0==this.R?J(8):1==this.R&&J(9),Ud(this.a,this))},g.ia=function(){return this.a.ia()},g.ra=function(){return this.a.ra()},S.prototype.s=function(){return this.a.s()},S.prototype.add=function(t){this.a.set(Wd(t),t)},S.prototype.contains=function(t){return t=Wd(t),O(this.a.b,t)},S.prototype.v=function(){return this.a.v()};var Zd=10;function $d(t,e){t.a||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(t.f=t.g,t.a=new S,t.b&&(ae(t,t.b),t.b=null))}function be(t){return!!t.b||!!t.a&&t.a.s()>=t.f}function ce(t,e){return t.b?t.b==e:!!t.a&&t.a.contains(e)}function ae(t,e){t.a?t.a.add(e):t.b=e}function de(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.contains(e)&&kd(t.a.a,Wd(e))}function ee(t){if(null!=t.b)return t.c.concat(t.b.u);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return ta(t.a.v(),function(t){e=e.concat(t.u)}),e}return ya(t.c)}function fe(t,e){t.c=t.c.concat(e)}function ge(){}function he(){this.a=new ge}function ie(t,e,n){var r=n||"";try{hd(t,function(t,n){var i=t;p(t)&&(i=Db(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function je(t,e){var n=new qc;I(n,"TestLoadImage: loading "+t);var r=new Image;r.onload=ia(ke,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ia(ke,n,r,"TestLoadImage: error",!1,e),r.onabort=ia(ke,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ia(ke,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}function ke(t,e,n,r,i){try{I(t,n),e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(e){wc(t,e)}}function T(t){B.call(this),this.headers=new N,this.F=t||null,this.f=!1,this.D=this.a=null,this.M=this.u="",this.j=0,this.g="",this.h=this.J=this.o=this.I=!1,this.l=0,this.B=null,this.N=le,this.C=this.m=!1}Yd.prototype.cancel=function(){this.c=ee(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(ta(this.a.v(),function(t){t.cancel()}),jd(this.a.a))},ge.prototype.stringify=function(t){return k.JSON.stringify(t,void 0)},ge.prototype.parse=function(t){return k.JSON.parse(t,void 0)},u(T,B);var le="";T.prototype.b=oc("goog.net.XhrIo");var me=/^https?$/i,ne=["POST","PUT"];function qe(t){return z&&Ta(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function va(t){return"content-type"==t.toLowerCase()}function oe(t,e){t.f=!1,t.a&&(t.h=!0,t.a.abort(),t.h=!1),t.g=e,t.j=5,re(t),se(t)}function re(t){t.I||(t.I=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function te(t){if(t.f&&"undefined"!=typeof goog)if(t.D[1]&&4==M(t)&&2==t.W())F(t.b,U(t,"Local request error detected and ignored"));else if(t.o&&4==M(t))Zb(t.La,0,t);else if(t.dispatchEvent("readystatechange"),4==M(t)){F(t.b,U(t,"Request complete")),t.f=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.u).match(ld)[1]||null;if(!o&&k.self&&k.self.location){var a=k.self.location.protocol;o=a.substr(0,a.length-1)}i=!me.test(o?o.toLowerCase():"")}e=i}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.j=6,t.g=t.Ga()+" ["+t.W()+"]",re(t))}finally{se(t)}}}function se(t,e){if(t.a){pe(t);var n=t.a,r=t.D[0]?aa:null;t.a=null,t.D=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(gc,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function pe(t){t.a&&t.C&&(t.a.ontimeout=null),t.B&&(k.clearTimeout(t.B),t.B=null)}function M(t){return t.a?t.a.readyState:0}function U(t,e){return e+" ["+t.M+" "+t.u+" "+t.W()+"]"}function ue(t){var e="";return Ba(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function ve(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=ue(n),l(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Q(t,e,n),t}function we(t){this.ya=0,this.g=[],this.a=new qc,this.I=new Vd,this.ja=this.wa=this.F=this.ka=this.b=this.K=this.j=this.U=this.h=this.M=this.i=null,this.Ua=this.P=0,this.la=this.B=this.o=this.m=this.l=this.f=null,this.u=this.xa=this.N=-1,this.T=this.w=this.C=0,this.S=t&&t.supportsCrossDomainXhr||!1,this.J="",this.c=new Yd(t&&t.concurrentRequestLimit),this.ma=new he,this.D=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,this.Ta=t&&t.fastHandshake||!1,t&&t.Ea&&this.a.Ea()}function xe(e){if(I(e.a,"disconnect()"),ye(e),3==e.G){var n=e.P++,r=L(e.F);Q(r,"SID",e.J),Q(r,"RID",n),Q(r,"TYPE","terminate"),ze(e,r),(n=new K(e,e.a,n,void 0)).K=2,n.h=Tc(L(r)),r=!1,k.navigator&&k.navigator.sendBeacon&&(r=k.navigator.sendBeacon(n.h.toString(),"")),!r&&k.Image&&((new Image).src=n.h,r=!0),r||(n.a=n.i.da(null),n.a.fa(n.h)),n.D=t(),Wc(n)}Ae(e)}function ye(t){t.B&&(t.B.abort(),t.B=null),t.b&&(t.b.cancel(),t.b=null),t.m&&(k.clearTimeout(t.m),t.m=null),Be(t),t.c.cancel(),t.l&&(k.clearTimeout(t.l),t.l=null)}function Ce(t,e){1e3==t.g.length&&xc(t.a,function(){return"Already have 1000 queued maps upon queueing "+Db(e)}),t.g.push(new Xd(t.Ua++,e)),3==t.G&&De(t)}function De(t){be(t.c)||t.l||(t.l=Ec(r(t.Oa,t),0),t.C=0)}function Ee(t,e){var n=t.c;return(n.b?1:n.a?n.a.s():0)>=t.c.f-(t.l?1:0)?(xc(t.a,"Unexpected retry request is scheduled."),!1):t.l?(I(t.a,"Use the retry request that is already scheduled."),t.g=e.u.concat(t.g),!0):!(1==t.G||2==t.G||2<=t.C||(I(t.a,"Going to retry POST"),t.l=Ec(r(t.Oa,t,e),Fe(t,t.C)),t.C++,0))}function He(t,e){var n;n=e?e.f:t.P++;var r=L(t.F);Q(r,"SID",t.J),Q(r,"RID",n),Q(r,"AID",t.N),ze(t,r),t.h&&t.i&&ve(r,t.h,t.i),n=new K(t,t.a,n,t.C+1),null===t.h&&(n.j=t.i),e&&(t.g=e.u.concat(t.g)),e=Ge(t,n),n.setTimeout(1e4+Math.round(1e4*Math.random())),ae(t.c,n),Sc(n,r,e)}function ze(t,e){t.f&&hd({},function(t,n){Q(e,n,t)})}function Ge(t,e){var n=Math.min(t.g.length,1e3),i=t.f?r(t.f.Va,t.f,t):null;t:for(var o=t.g,a=-1;;){var s=["count="+n];-1==a?0<n?s.push("ofs="+(a=o[0].a)):a=0:s.push("ofs="+a);for(var u=!0,c=0;c<n;c++){var l=o[c].a,h=o[c].b;if(0>(l-=a))a=Math.max(0,o[c].a-100),u=!1;else try{ie(h,s,"req"+l+"_")}catch(t){i&&i(h)}}if(u){i=s.join("&");break t}}return t=t.g.splice(0,n),e.u=t,i}function Ie(t){if(!t.b&&!t.m){t.T=1;var e=t.Na;Tb||Ub(),Wb||(Tb(),Wb=!0),Pb.add(e,t),t.w=0}}function Je(t){return t.b||t.m?(xc(t.a,"Request already in progress"),!1):!(3<=t.w||(I(t.a,"Going to retry GET"),t.T++,t.m=Ec(r(t.Na,t),Fe(t,t.w)),t.w++,0))}function Sd(t,e,n){I(t.a,"Test Connection Finished");var r=e.m;r&&$d(t.c,r),t.la=n,t.u=e.f,I(t.a,"connectChannel_()"),t.F=Ke(t,t.ka),De(t)}function Ud(t,e){I(t.a,"Test Connection Failed"),t.u=e.f,V(t,2)}function Be(t){null!=t.o&&(k.clearTimeout(t.o),t.o=null)}function Fe(t,e){var n=5e3+Math.floor(1e4*Math.random());return t.ra()||(I(t.a,"Inactive channel"),n*=2),n*e}function V(t,e){if(H(t.a,"Error code "+e),2==e){var n=null;t.f&&(n=null);var i=r(t.jb,t);n||(n=new P("//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||nd(n,"https"),Tc(n)),je(n.toString(),i)}else J(2);I(t.a,"HttpChannel: error - "+e),t.G=0,t.f&&t.f.Ba(e),Ae(t),ye(t)}function Ae(t){if(t.G=0,t.u=-1,t.f){var e=ee(t.c);0==e.length&&0==t.g.length||(I(t.a,function(){return"Number of undelivered maps, pending: "+e.length+", outgoing: "+t.g.length}),t.c.c.length=0,ya(t.g),t.g.length=0),t.f.Aa()}}function Ke(t,e){return e=Le(t,null,e),I(t.a,"GetForwardChannelUri: "+e),e}function Td(t,e,n){return e=Le(t,t.ia()?e:null,n),I(t.a,"GetBackChannelUri: "+e),e}function Le(t,e,n){var r=Cd(n);if(""!=r.b)e&&od(r,e+"."+r.b),pd(r,r.i);else{var i=k.location;r=Dd(i.protocol,e?e+"."+i.hostname:i.hostname,i.port,n)}return t.U&&Ba(t.U,function(t,e){Q(r,e,t)}),n=t.K,(e=t.j)&&n&&Q(r,e,n),Q(r,"VER",t.oa),ze(t,r),r}function Me(){}function Ne(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}function Oe(){if(z&&!(10<=Number(Ua)))throw Error("Environmental error: no available transport.")}function W(t,e){B.call(this),this.a=new we(e),this.b=t,this.m=e&&e.testUrl?e.testUrl:Ne(this.b,"test"),this.f=oc("goog.labs.net.webChannel.WebChannelBaseTransport"),this.g=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),this.a.M=t,(t=e&&e.httpHeadersOverwriteParam)&&!/^[\s\xa0]*$/.test(t)&&(this.a.h=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.j=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!/^[\s\xa0]*$/.test(e)&&(this.a.j=e,null!==(t=this.g)&&e in t&&(e in(t=this.g)&&delete t[e],E(this.f,"Ignore httpSessionIdParam also specified with messageUrlParams: "+e))),this.h=new Pe(this)}function Qe(t){Od.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Re(){Pd.call(this),this.status=1}function Pe(t){this.a=t}g=T.prototype,g.fa=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.u+"; newUri="+t);e=e?e.toUpperCase():"GET",this.u=t,this.g="",this.j=0,this.M=e,this.I=!1,this.f=!0,this.a=Mc(this.F?this.F:Kc),this.D=Ic(this.F?this.F:Kc),this.a.onreadystatechange=r(this.La,this);try{F(this.b,U(this,"Opening Xhr")),this.J=!0,this.a.open(e,String(t),!0),this.J=!1}catch(t){return F(this.b,U(this,"Error opening Xhr: "+t.message)),void oe(this,t)}t=n||"";var o=new N(this.headers);i&&hd(i,function(t,e){o.set(e,t)}),i=ua(o.O()),n=k.FormData&&t instanceof k.FormData,!(0<=sa(ne,e))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.N&&(this.a.responseType=this.N),"withCredentials"in this.a&&this.a.withCredentials!==this.m&&(this.a.withCredentials=this.m);try{pe(this),0<this.l&&(this.C=qe(this.a),F(this.b,U(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+this.C)),this.C?(this.a.timeout=this.l,this.a.ontimeout=r(this.Ia,this)):this.B=Zb(this.Ia,this.l,this)),F(this.b,U(this,"Sending request")),this.o=!0,this.a.send(t),this.o=!1}catch(t){F(this.b,U(this,"Send error: "+t.message)),oe(this,t)}},g.Ia=function(){"undefined"!=typeof goog&&this.a&&(this.g="Timed out after "+this.l+"ms, aborting",this.j=8,F(this.b,U(this,this.g)),this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(t){this.a&&this.f&&(F(this.b,U(this,"Aborting")),this.f=!1,this.h=!0,this.a.abort(),this.h=!1,this.j=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),se(this))},g.A=function(){this.a&&(this.f&&(this.f=!1,this.h=!0,this.a.abort(),this.h=!1),se(this,!0)),T.H.A.call(this)},g.La=function(){this.i||(this.J||this.o||this.h?te(this):this.cb())},g.cb=function(){te(this)},g.W=function(){try{return 2<M(this)?this.a.status:-1}catch(t){return-1}},g.Ga=function(){try{return 2<M(this)?this.a.statusText:""}catch(t){return F(this.b,"Can not get status: "+t.message),""}},g.V=function(){try{return this.a?this.a.responseText:""}catch(t){return F(this.b,"Can not get responseText: "+t.message),""}},g.Ya=function(t){if(this.a){var e=this.a.responseText;t&&0==e.indexOf(t)&&(e=e.substring(t.length));t:{if(t=e,k.JSON)try{var n=k.JSON.parse(t);break t}catch(t){}n=Cb(t)}return n}},g.Fa=function(){return this.j},g.ab=function(){return l(this.g)?this.g:String(this.g)},g=we.prototype,g.oa=8,g.G=1,g.Ja=function(){return 0==this.G},g.Oa=function(t){if(this.l=null,I(this.a,"startForwardChannel_"),1==this.G)if(t)xc(this.a,"Not supposed to retry the open");else{I(this.a,"open_()"),this.P=Math.floor(1e5*Math.random()),t=this.P++;var e=new K(this,this.a,t,void 0),n=this.i;this.M&&(n?Ga(n=Ea(n),this.M):n=this.M),null===this.h&&(e.j=n);var r=Ge(this,e),i=L(this.F);Q(i,"RID",t),Q(i,"CVER",21),this.D&&this.j&&Q(i,"X-HTTP-Session-Id",this.j),ze(this,i),this.h&&n&&ve(i,this.h,n),ae(this.c,e),this.Ta?(Q(i,"$req",r),Sc(e,i,null)):Sc(e,i,r),this.G=2}else 3==this.G&&(t?He(this,t):0==this.g.length?I(this.a,"startForwardChannel_ returned: nothing to send"):be(this.c)?xc(this.a,"startForwardChannel_ returned: connection already in progress"):(He(this),I(this.a,"startForwardChannel_ finished, sent request")))},g.Na=function(){this.m=null,I(this.a,"Creating new HttpRequest"),this.b=new K(this,this.a,"rpc",this.T),null===this.h&&(this.b.j=this.i),this.b.P=0;var t=L(this.wa);Q(t,"RID","rpc"),Q(t,"SID",this.J),Q(t,"CI",this.la?"0":"1"),Q(t,"AID",this.N),ze(this,t),Q(t,"TYPE","xmlhttp"),this.h&&this.i&&ve(t,this.h,this.i),Vc(this.b,t,!0,this.ja),I(this.a,"New Request created")},g.Ma=function(t,e){if(0!=this.G&&(this.b==t||ce(this.c,t)))if(this.u=t.C,ce(this.c,t)&&3==this.G){try{var i=this.ma.a.parse(e)}catch(t){i=null}if(n(i)&&3==i.length)if(0==(e=i)[0])t:if(I(this.a,"Server claims our backchannel is missing."),this.m)I(this.a,"But we are currently starting the request.");else{if(this.b){if(!(this.b.D+3e3<t.D))break t;Be(this),this.b.cancel(),this.b=null}else E(this.a.a,"We do not have a BackChannel established");Je(this),J(18)}else this.xa=e[1],0<(t=this.xa-this.N)&&(I(this.a,(e=e[2])+" bytes (in "+t+" arrays) are outstanding on the BackChannel"),37500>e&&this.la&&0==this.w&&!this.o&&(this.o=Ec(r(this.bb,this),6e3)));else I(this.a,"Bad POST response data returned"),V(this,11)}else if(this.b==t&&Be(this),!/^[\s\xa0]*$/.test(e))for(e=i=this.ma.a.parse(e),i=0;i<e.length;i++){var o=e[i];if(this.N=o[0],o=o[1],2==this.G)if("c"==o[0]){this.J=o[1],this.ja=o[2];var a=o[3];null!=a&&(this.oa=a,H(this.a,"VER="+this.oa)),null!=(o=o[4])&&(this.ya=o,H(this.a,"SVER="+this.ya)),this.D&&(o=t.a)&&((a=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)&&$d(this.c,a),this.j&&((o=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)?(this.K=o,Q(this.F,this.j,o)):E(this.a.a,"Missing X_HTTP_SESSION_ID in the handshake response"))),this.G=3,this.f&&this.f.Da(),this.wa=Td(this,this.ja,this.ka),Ie(this)}else"stop"!=o[0]&&"close"!=o[0]||V(this,7);else 3==this.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?V(this,7):xe(this):"noop"!=o[0]&&this.f&&this.f.Ca(o),this.w=0)}},g.bb=function(){null!=this.o&&(this.o=null,this.b.cancel(),this.b=null,Je(this),J(19))},g.ua=function(e){I(this.a,"Request complete");var n=null;if(this.b==e){Be(this),this.b=null;var r=2}else{if(!ce(this.c,e))return;n=e.u,de(this.c,e),r=1}if(this.u=e.C,0!=this.G)if(e.c)1==r?(Dc(e.m?e.m.length:0,t()-e.D,this.C),De(this)):Ie(this);else{var i=e.l;if(3==i||0==i&&0<this.u)I(this.a,"Not retrying due to error type");else{var o=this;if(I(this.a,function(){return"Maybe retrying, last error: "+Pc(i,o.u)}),1==r&&Ee(this,e)||2==r&&Je(this))return;I(this.a,"Exceeded max number of retries")}switch(n&&0<n.length&&fe(this.c,n),I(this.a,"Error: HTTP request failed"),i){case 1:V(this,5);break;case 4:V(this,10);break;case 3:V(this,6);break;default:V(this,2)}}},g.jb=function(t){t?(H(this.a,"Successfully pinged google.com"),J(2)):(H(this.a,"Failed to ping google.com"),J(1))},g.da=function(t){if(t&&!this.S)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new T).m=this.S,t},g.ra=function(){return!!this.f&&!0},g.ia=function(){return this.S},new Ld,g=Me.prototype,g.Da=function(){},g.Ca=function(){},g.Ba=function(){},g.Aa=function(){},g.Va=function(){},Oe.prototype.a=function(t,e){return new W(t,e)},u(W,B),g=W.prototype,g.addEventListener=function(t,e,n,r){W.H.addEventListener.call(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){W.H.removeEventListener.call(this,t,e,n,r)},g.Za=function(){this.a.f=this.h,this.l&&(this.a.S=!0);var t=this.a,e=this.m,n=this.b,r=this.g||void 0;I(t.a,"connect()"),J(0),t.ka=n,t.U=r||{},t.D&&(I(t.a,"connect() bypassed channel-test."),t.I.b=[],t.I.a=!1),I(t.a,"connectTest_()"),t.B=new Qd(t,t.a),null===t.h&&(t.B.i=t.i),n=e,t.h&&t.i&&(n=ve(e,t.h,t.i)),(t=t.B).l=n,e=Ke(t.a,t.l),J(3),null!=(n=t.a.I.b)?(t.g=n[0],t.R=1,Rd(t)):(Xc(e,"MODE","init"),!t.a.D&&t.a.j&&Xc(e,"X-HTTP-Session-Id",t.a.j),t.c=new K(t,t.b,void 0,void 0),t.c.j=t.i,Vc(t.c,e,!1,null),t.R=0)},g.close=function(){xe(this.a)},g.$a=function(t){if(l(t)){var e={};e.__data__=t,Ce(this.a,e)}else this.j?((e={}).__data__=Db(t),Ce(this.a,e)):Ce(this.a,t)},g.A=function(){this.a.f=null,delete this.h,xe(this.a),delete this.a,W.H.A.call(this)},u(Qe,Od),u(Re,Pd),u(Pe,Me),Pe.prototype.Da=function(){pc(this.a.f,"WebChannel opened on "+this.a.b),this.a.dispatchEvent("a")},Pe.prototype.Ca=function(t){this.a.dispatchEvent(new Qe(t))},Pe.prototype.Ba=function(t){pc(this.a.f,"WebChannel aborted on "+this.a.b+" due to channel error: "+t),this.a.dispatchEvent(new Re(t))},Pe.prototype.Aa=function(){pc(this.a.f,"WebChannel closed on "+this.a.b),this.a.dispatchEvent("b")};var Se=ia(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Oe);function Te(){this.b=[],this.a=[]}function Ue(t){return 0==t.b.length&&(t.b=t.a,t.b.reverse(),t.a=[]),t.b.pop()}function Ve(t,e){if(w.call(this),this.h=t||0,this.c=e||10,this.h>this.c)throw Error(We);this.a=new Te,this.b=new S,this.g=null,this.ba()}Te.prototype.s=function(){return this.b.length+this.a.length},Te.prototype.contains=function(t){return 0<=sa(this.b,t)||0<=sa(this.a,t)},Te.prototype.v=function(){for(var t=[],e=this.b.length-1;0<=e;--e)t.push(this.b[e]);var n=this.a.length;for(e=0;e<n;++e)t.push(this.a[e]);return t},u(Ve,w);var We="[goog.structs.Pool] Min can not be greater than max";function Xe(t){if("function"==typeof t.Z)t.Z();else for(var e in t)t[e]=null}function Ye(t,e){this.a=t,this.b=e}function Ze(t){if(this.a=[],t)t:{if(t instanceof Ze){var e=t.O();if(t=t.v(),0>=this.s()){for(var n=this.a,r=0;r<e.length;r++)n.push(new Ye(e[r],t[r]));break t}}else e=Da(t),t=Ca(t);for(r=0;r<e.length;r++)$e(this,e[r],t[r])}}function $e(t,e,n){var r=t.a;for(r.push(new Ye(e,n)),n=(t=t.a)[e=r.length-1];0<e&&t[r=e-1>>1].a>n.a;)t[e]=t[r],e=r;t[e]=n}function af(){Ze.call(this)}function X(t,e){this.f=new af,Ve.call(this,t,e)}function Y(t,e,n,r){this.l=t,this.j=!!r,X.call(this,e,n)}g=Ve.prototype,g.ea=function(){var e=t();if(!(null!=this.g&&0>e-this.g)){for(var n;0<this.a.s()&&(n=Ue(this.a),!this.ta(n));)this.ba();return!n&&this.s()<this.c&&(n=this.qa()),n&&(this.g=e,this.b.add(n)),n}},g.ib=function(t){return!!kd(this.b.a,Wd(t))&&(this.na(t),!0)},g.na=function(t){kd(this.b.a,Wd(t)),this.ta(t)&&this.s()<this.c?this.a.a.push(t):Xe(t)},g.ba=function(){for(var t=this.a;this.s()<this.h;){var e=this.qa();t.a.push(e)}for(;this.s()>this.c&&0<this.a.s();)Xe(Ue(t))},g.qa=function(){return{}},g.ta=function(t){return"function"!=typeof t.Wa||t.Wa()},g.contains=function(t){return this.a.contains(t)||this.b.contains(t)},g.s=function(){return this.a.s()+this.b.s()},g.A=function(){if(Ve.H.A.call(this),0<this.b.s())throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var t=this.a;0!=t.b.length||0!=t.a.length;)Xe(Ue(t));delete this.a},Ze.prototype.v=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].b);return e},Ze.prototype.O=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].a);return e},Ze.prototype.s=function(){return this.a.length},u(af,Ze),u(X,Ve),g=X.prototype,g.ea=function(t,e){if(!t)return X.H.ea.call(this);$e(this.f,void 0!==e?e:100,t),this.sa()},g.sa=function(){for(var t=this.f;0<t.s();){var e=this.ea();if(!e)break;var n=t,r=n.a,i=r.length,o=r[0];if(0>=i)o=void 0;else{if(1==i)wa(r);else{r[0]=r.pop(),i=(n=n.a).length;for(var a=n[r=0];r<i>>1;){var s=2*r+1,u=2*r+2;if(n[s=u<i&&n[u].a<n[s].a?u:s].a>a.a)break;n[r]=n[s],r=s}n[r]=a}o=o.b}o.apply(this,[e])}},g.na=function(t){X.H.na.call(this,t),this.sa()},g.ba=function(){X.H.ba.call(this),this.sa()},g.A=function(){X.H.A.call(this),k.clearTimeout(void 0),wa(this.f.a),this.f=null},u(Y,X),Y.prototype.qa=function(){var t=new T,e=this.l;return e&&e.forEach(function(e,n){t.headers.set(n,e)}),this.j&&(t.m=!0),t},Y.prototype.ta=function(t){return!t.i&&!t.a},Oe.prototype.createWebChannel=Oe.prototype.a,W.prototype.send=W.prototype.$a,W.prototype.open=W.prototype.Za,W.prototype.close=W.prototype.close,Fc.NO_ERROR=0,Fc.TIMEOUT=8,Fc.HTTP_ERROR=6,Gc.COMPLETE="complete",Md.EventType=Nd,Nd.OPEN="a",Nd.CLOSE="b",Nd.ERROR="c",Nd.MESSAGE="d",B.prototype.listen=B.prototype.aa,Y.prototype.getObject=Y.prototype.ea,Y.prototype.releaseObject=Y.prototype.ib,T.prototype.listenOnce=T.prototype.Ha,T.prototype.getLastError=T.prototype.ab,T.prototype.getLastErrorCode=T.prototype.Fa,T.prototype.getStatus=T.prototype.W,T.prototype.getStatusText=T.prototype.Ga,T.prototype.getResponseJson=T.prototype.Ya,T.prototype.getResponseText=T.prototype.V,T.prototype.getResponseText=T.prototype.V,T.prototype.send=T.prototype.fa,module.exports={createWebChannelTransport:Se,ErrorCode:Fc,EventType:Gc,WebChannel:Md,XhrIoPool:Y}}).call("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(exports,__webpack_require__("DuR2"))},DuR2:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},E9F9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Hash=function(){this.blockSize=-1}},Ex2A:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"}},GmLp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Error.captureStackTrace;e.patchCapture=function(t){var e=r;return r=t,e};var i=function(){return function(t,e){if(this.code=t,this.message=e,r)r(this,o.prototype.create);else{var n=Error.apply(this,arguments);this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}}();e.FirebaseError=i,i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.name="FirebaseError";var o=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],o=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"});var a=new i(o,n=this.serviceName+": "+n+" ("+o+").");for(var s in e)e.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(a[s]=e[s]);return a},t}();e.ErrorFactory=o},"Gs/g":function(t,e,n){"use strict";var r=setTimeout;function i(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,r)}else(1===t._state?s:u)(e.promise,t._value)})):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void l((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(e){u(t,e)}var r,i}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return a(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},o.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},o.all=function(t){return new o(function(e,n){if(!t||"undefined"==typeof t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){o(t,e)},n)}r[t]=a,0==--i&&e(r)}catch(t){n(t)}}for(var a=0;a<r.length;a++)o(a,r[a])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},o._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){r(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},t.exports=o},IYGj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("TToO"),i=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return r.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},e}(n("E9F9").Hash);e.Sha1=i},It2I:function(t,e,n){n("bzVp"),t.exports=n("9eBd").default},Jnfr:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="Jnfr"},N4j0:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length}},OAVl:function(t,e){String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substr(!e||e<0?0:+e,t.length)===t})},OVmG:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("TToO"),i=n("/iUD"),o=n("VwZZ"),a=n("t7NR"),s=n("tLDX"),u=function(t){function e(n,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.a;break;case 1:if(!n){this.destination=a.a;break}if("object"==typeof n){n instanceof e?(this.syncErrorThrowable=n.syncErrorThrowable,this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,n,r,i)}}return Object(r.__extends)(e,t),e.prototype[s.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(o.a),c=function(t){function e(e,n,r,o){var s;t.call(this),this._parentSubscriber=e;var u=this;Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==a.a&&(u=Object.create(n),Object(i.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=r,this._complete=o}return Object(r.__extends)(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(u)},PIsA:function(t,e,n){"use strict";var r=n("AMGY"),i=n("N4j0"),o=n("cQXm"),a=n("dgOU"),s=n("YaPU"),u=n("etqZ"),c=n("TToO"),l=function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return Object(c.__extends)(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("OVmG").a),h=n("+CnV");e.a=function(t,e,n,c){var f=new l(t,n,c);if(f.closed)return null;if(e instanceof s.a)return e._isScalar?(f.next(e.value),f.complete(),null):(f.syncErrorThrowable=!0,e.subscribe(f));if(Object(i.a)(e)){for(var d=0,p=e.length;d<p&&!f.closed;d++)f.next(e[d]);f.closed||f.complete()}else{if(Object(o.a)(e))return e.then(function(t){f.closed||(f.next(t),f.complete())},function(t){return f.error(t)}).then(null,function(t){r.a.setTimeout(function(){throw t})}),f;if(e&&"function"==typeof e[u.a])for(var y=e[u.a]();;){var m=y.next();if(m.done){f.complete();break}if(f.next(m.value),f.closed)break}else if(e&&"function"==typeof e[h.a]){var g=e[h.a]();if("function"==typeof g.subscribe)return g.subscribe(new l(t,n,c));f.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var v=Object(a.a)(e)?"an invalid object":"'"+e+"'";f.error(new TypeError("You provided "+v+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}}return null}},Qnch:function(t,e,n){"use strict";e.a=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return"number"==typeof e&&(n=e,e=null),r.lift(new a(t,e,n))}};var r=n("TToO"),i=n("PIsA"),o=n("tZ2B"),a=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.resultSelector,this.concurrent))},t}(),s=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return Object(r.__extends)(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(Object(i.a)(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},Rf9G:function(t,e,n){"use strict";var r=n("TToO"),i=n("g5jc"),o=n("YaPU"),a=n("OVmG"),s=n("VwZZ");function u(){return function(t){return t.lift(new c(t))}}var c=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),l=function(t){function e(e,n){t.call(this,e),this.connectable=n}return Object(r.__extends)(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(a.a),h=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return Object(r.__extends)(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.a).add(this.source.subscribe(new d(this.getSubject(),this))),t.closed?(this._connection=null,t=s.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return u()(this)},e}(o.a).prototype,f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},d=function(t){function e(e,n){t.call(this,e),this.connectable=n}return Object(r.__extends)(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.b);function p(){return new i.a}e.a=function(){return this,u()((t=p,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,f);return r.source=e,r.subjectFactory=n,r})(this));var t}},T970:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Deferred=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}()},TILf:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("TToO"),i=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return Object(r.__extends)(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.value,n=t.subscriber;t.done?n.complete():(n.next(e),n.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(n("YaPU").a)},TToO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"__assign",function(){return i}),e.__rest=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n},e.__decorate=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},e.__param=function(t,e){return function(n,r){e(n,r,t)}},e.__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__awaiter=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},e.__generator=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},e.__exportStar=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},e.__values=o,e.__read=a,e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},e.__await=s,e.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||u(t,e)})})}function u(t,e){try{(n=i[t](e)).value instanceof s?Promise.resolve(n.value.v).then(c,l):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function c(t){u("next",t)}function l(t){u("throw",t)}function h(t,e){t(e),o.shift(),o.length&&u(o[0][0],o[0][1])}},e.__asyncDelegator=function(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:s(t[r](e)),done:"return"===r}:i?i(e):e})}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):"function"==typeof o?o(t):t[Symbol.iterator]()},e.__makeTemplateObject=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}};var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function o(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function s(t){return this instanceof s?(this.v=t,this):new s(t)}},"U/B+":function(t,e,n){"use strict";function r(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}Object.defineProperty(e,"__esModule",{value:!0}),e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.errorPrefix=r,e.validateNamespace=function(t,e,n,i){if((!i||n)&&"string"!=typeof n)throw new Error(r(t,e,i)+"must be a valid firebase namespace.")},e.validateCallback=function(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(r(t,e,i)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(r(t,e,i)+"must be a valid context object.")}},Veqx:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("TToO"),i=n("YaPU"),o=n("TILf"),a=n("+3/4"),s=n("1Q68"),u=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return Object(r.__extends)(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];Object(s.a)(r)?t.pop():r=null;var i=t.length;return i>1?new e(t,r):1===i?new o.a(t[0],r):new a.a(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.subscriber;n>=t.count?r.complete():(r.next(e[n]),r.closed||(t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:n,index:0,count:r,subscriber:t});for(var o=0;o<r&&!t.closed;o++)t.next(n[o]);t.complete()},e}(i.a)},VuKk:function(t,e,n){(function(t){(function(){var t,e=n("9eBd").default,r=r||{},i=this;function o(t){return"string"==typeof t}function a(t){return"boolean"==typeof t}function s(){}function u(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function c(t){return null===t}function l(t){return"array"==u(t)}function h(t){var e=u(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==u(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),y=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function v(t,e,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:g).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.lb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.$c=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function E(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function T(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function S(t){if(Error.captureStackTrace)Error.captureStackTrace(this,S);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function I(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");S.call(this,n+t[r])}function C(t,e){throw new I("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function A(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function k(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function N(){this.b=this.a=null}_(S,Error),S.prototype.name="CustomError",_(I,S),I.prototype.name="AssertionError",A.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var O=new A(function(){return new R},function(t){t.reset()});function x(){var t=pt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function R(){this.next=this.b=this.a=null}N.prototype.add=function(t,e){var n=O.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},R.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},R.prototype.reset=function(){this.next=this.b=this.a=null};var D=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(o(t))return o(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},P=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=o(t)?t.split(""):t,a=0;a<r;a++)a in i&&e.call(n,i[a],a,t)},M=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=o(t)?t.split(""):t,a=0;a<n;a++)a in i&&(r[a]=e.call(void 0,i[a],a,t));return r},L=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=o(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function j(t,e){return 0<=D(t,e)}function V(t,e){var n;return(n=0<=(e=D(t,e)))&&Array.prototype.splice.call(t,e,1),n}function U(t,e){!function(t,e){var n=t.length,r=o(t)?t.split(""):t;for(--n;0<=n;--n)n in r&&e.call(void 0,r[n],n,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function F(t){return Array.prototype.concat.apply([],arguments)}function B(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function q(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}var H=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function W(t){return Z.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(K,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Q,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Y,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(X,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(J,"&#0;")),t):t}var G,K=/&/g,z=/</g,Q=/>/g,Y=/"/g,X=/'/g,J=/\x00/g,Z=/[\x00&<>"']/;function $(t,e){return-1!=t.indexOf(e)}function tt(t,e){return t<e?-1:t>e?1:0}t:{var et=i.navigator;if(et){var nt=et.userAgent;if(nt){G=nt;break t}}G=""}function rt(t){return $(G,t)}function it(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ot(t){for(var e in t)return!1;return!0}function at(t){var e,n={};for(e in t)n[e]=t[e];return n}var st,ut,ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ct.length;o++)n=ct[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ht(t){i.setTimeout(function(){throw t},0)}function ft(t,e){ut||function(){if(-1!=String(i.Promise).indexOf("[native code]")){var t=i.Promise.resolve(void 0);ut=function(){t.then(yt)}}else ut=function(){var t=yt;!f(i.setImmediate)||i.Window&&i.Window.prototype&&!rt("Edge")&&i.Window.prototype.setImmediate==i.setImmediate?(st||(st=function(){var t=i.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!rt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=v(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!=typeof t&&!rt("Trident")&&!rt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).rb;n.rb=null,t()}},function(t){r.next={rb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){i.setTimeout(t,0)}}()),st(t)):i.setImmediate(t)}}(),dt||(ut(),dt=!0),pt.add(t,e)}var dt=!1,pt=new N;function yt(){for(var t;t=x();){try{t.a.call(t.b)}catch(t){ht(t)}k(O,t)}dt=!1}function mt(t,e){if(this.a=gt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=s)try{var n=this;t.call(e,function(t){kt(n,vt,t)},function(t){if(!(t instanceof Mt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}kt(n,bt,t)})}catch(t){kt(this,bt,t)}}var gt=0,vt=2,bt=3;function wt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}wt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var _t=new A(function(){return new wt},function(t){t.reset()});function Et(t,e,n){var r=_t.get();return r.g=t,r.b=e,r.f=n,r}function Tt(t){if(t instanceof mt)return t;var e=new mt(s);return kt(e,vt,t),e}function St(t){return new mt(function(e,n){n(t)})}function It(t,e,n){Nt(t,e,n,null)||ft(b(e,t))}function Ct(t,e){t.b||t.a!=vt&&t.a!=bt||Ot(t),t.f?t.f.next=e:t.b=e,t.f=e}function At(t,e,n,r){var i=Et(null,null,null);return i.a=new mt(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Mt?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,Ct(t,i),i.a}function kt(t,e,n){t.a==gt&&(t===n&&(e=bt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Nt(n,t.Jc,t.Kc,t)||(t.i=n,t.a=e,t.c=null,Ot(t),e!=bt||n instanceof Mt||function(t,e){t.g=!0,ft(function(){t.g&&Pt.call(null,e)})}(t,n)))}function Nt(t,e,n,r){if(t instanceof mt)return Ct(t,Et(e||s,n||null,r)),!0;if(T(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Ot(t){t.h||(t.h=!0,ft(t.Ub,t))}function xt(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Rt(t,e,n,r){if(n==bt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Dt(e,n,r);else try{e.c?e.g.call(e.f):Dt(e,n,r)}catch(t){Pt.call(null,t)}k(_t,e)}function Dt(t,e,n){e==vt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}mt.prototype.then=function(t,e,n){return At(this,f(t)?t:null,f(e)?e:null,n)},E(mt),(t=mt.prototype).ga=function(t,e){return(t=Et(t,t,e)).c=!0,Ct(this,t),this},t.o=function(t,e){return At(this,null,t,e)},t.cancel=function(t){this.a==gt&&ft(function(){!function t(e,n){if(e.a==gt)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==gt&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):xt(r),Rt(r,o,bt,n)))}e.c=null}else kt(e,bt,n)}(this,new Mt(t))},this)},t.Jc=function(t){this.a=gt,kt(this,vt,t)},t.Kc=function(t){this.a=gt,kt(this,bt,t)},t.Ub=function(){for(var t;t=xt(this);)Rt(this,t,this.a,this.i);this.h=!1};var Pt=ht;function Mt(t){S.call(this,t)}function Lt(){0!=jt&&(Vt[this[p]||(this[p]=++y)]=this),this.pa=this.pa,this.oa=this.oa}_(Mt,S),Mt.prototype.name="cancel";var jt=0,Vt={};function Ut(t){if(!t.pa&&(t.pa=!0,t.ua(),0!=jt)){var e=t[p]||(t[p]=++y);if(0!=jt&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Vt[e]}}function Ft(t){return Ft[" "](t),t}Lt.prototype.pa=!1,Lt.prototype.ua=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()},Ft[" "]=s;var Bt,qt,Ht=rt("Opera"),Wt=rt("Trident")||rt("MSIE"),Gt=rt("Edge"),Kt=Gt||Wt,zt=rt("Gecko")&&!($(G.toLowerCase(),"webkit")&&!rt("Edge"))&&!(rt("Trident")||rt("MSIE"))&&!rt("Edge"),Qt=$(G.toLowerCase(),"webkit")&&!rt("Edge");function Yt(){var t=i.document;return t?t.documentMode:void 0}t:{var Xt="",Jt=(qt=G,zt?/rv:([^\);]+)(\)|;)/.exec(qt):Gt?/Edge\/([\d\.]+)/.exec(qt):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(qt):Qt?/WebKit\/(\S+)/.exec(qt):Ht?/(?:Version)[ \/]?(\S+)/.exec(qt):void 0);if(Jt&&(Xt=Jt?Jt[1]:""),Wt){var Zt=Yt();if(null!=Zt&&Zt>parseFloat(Xt)){Bt=String(Zt);break t}}Bt=Xt}var $t,te={};function ee(t){return function(t,e){var n=te;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=H(String(Bt)).split("."),r=H(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=tt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||tt(0==a[2].length,0==s[2].length)||tt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var ne=i.document;$t=ne&&Wt?Yt()||("CSS1Compat"==ne.compatMode?parseInt(Bt,10):5):void 0;var re=Object.freeze||function(t){return t},ie=!Wt||9<=Number($t),oe=Wt&&!ee("9"),ae=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return i.addEventListener("test",s,e),i.removeEventListener("test",s,e),t}();function se(t,e){this.type=t,this.b=this.target=e,this.Eb=!0}function ue(t,e){if(se.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(zt){t:{try{Ft(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=o(t.pointerType)?t.pointerType:ce[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.c()}}se.prototype.c=function(){this.Eb=!1},_(ue,se);var ce=re({2:"touch",3:"pen",4:"mouse"});ue.prototype.c=function(){ue.lb.c.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,oe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},ue.prototype.g=function(){return this.a};var le="closure_listenable_"+(1e6*Math.random()|0),he=0;function fe(t){t.ma=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function de(t){this.src=t,this.a={},this.b=0}function pe(t,e){var n=e.type;n in t.a&&V(t.a[n],e)&&(fe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function ye(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ma&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}de.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ye(t,e,r,i);return-1<a?(e=t[a],n||(e.Ha=!1)):((e=new function(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++he,this.ma=this.Ha=!1}(e,this.src,o,!!r,i)).Ha=n,t.push(e)),e};var me="closure_lm_"+(1e6*Math.random()|0),ge={};function ve(t,e,n,r,i){if(r&&r.once)we(t,e,n,r,i);else if(l(e))for(var o=0;o<e.length;o++)ve(t,e[o],n,r,i);else n=Ne(n),t&&t[le]?xe(t,e,n,d(r)?!!r.capture:!!r,i):be(t,e,n,!1,r,i)}function be(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i,s=Ae(t);if(s||(t[me]=s=new de(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=Ce,e=ie?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ae||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Te(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function we(t,e,n,r,i){if(l(e))for(var o=0;o<e.length;o++)we(t,e[o],n,r,i);else n=Ne(n),t&&t[le]?Re(t,e,n,d(r)?!!r.capture:!!r,i):be(t,e,n,!0,r,i)}function _e(t,e,n,r,i){if(l(e))for(var o=0;o<e.length;o++)_e(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=Ne(n),t&&t[le]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=ye(o=t.a[e],n,r,i))&&(fe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Ae(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ye(e,n,r,i)),(n=-1<t?e[t]:null)&&Ee(n))}function Ee(t){if("number"!=typeof t&&t&&!t.ma){var e=t.src;if(e&&e[le])pe(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Te(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ae(e))?(pe(n,t),0==n.b&&(n.src=null,e[me]=null)):fe(t)}}}function Te(t){return t in ge?ge[t]:ge[t]="on"+t}function Se(t,e,n,r){var i=!0;if((t=Ae(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ma&&(o=Ie(o,r),i=i&&!1!==o)}return i}function Ie(t,e){var n=t.listener,r=t.La||t.src;return t.Ha&&Ee(t),n.call(r,e)}function Ce(t,e){if(t.ma)return!0;if(!ie){if(!e)t:{e=["window","event"];for(var n=i,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new ue(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=e.b;o;o=o.parentNode)r.push(o);for(t=t.type,o=r.length-1;0<=o;o--){e.b=r[o];var a=Se(r[o],t,!0,e);n=n&&a}for(o=0;o<r.length;o++)e.b=r[o],a=Se(r[o],t,!1,e),n=n&&a}return n}return Ie(t,new ue(e,this))}function Ae(t){return(t=t[me])instanceof de?t:null}var ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ne(t){return f(t)?t:(t[ke]||(t[ke]=function(e){return t.handleEvent(e)}),t[ke])}function Oe(){Lt.call(this),this.u=new de(this),this.Mb=this,this.Ta=null}function xe(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function Re(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function De(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ma&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ha&&pe(t.u,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Eb}function Pe(t,e,n){if(f(t))n&&(t=v(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:i.setTimeout(t,e||0)}function Me(t){var e=null;return new mt(function(n,r){-1==(e=Pe(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw i.clearTimeout(e),t})}function Le(t){if(t.R&&"function"==typeof t.R)return t.R();if(o(t))return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function je(t){if(t.T&&"function"==typeof t.T)return t.T();if(!t.R||"function"!=typeof t.R){if(h(t)||o(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Ve(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ve)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ue(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Fe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Fe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Fe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(Oe,Lt),Oe.prototype[le]=!0,Oe.prototype.addEventListener=function(t,e,n,r){ve(this,t,e,n,r)},Oe.prototype.removeEventListener=function(t,e,n,r){_e(this,t,e,n,r)},Oe.prototype.dispatchEvent=function(t){var e,n=this.Ta;if(n)for(e=[];n;n=n.Ta)e.push(n);n=this.Mb;var r=t.type||t;if(o(t))t=new se(t,n);else if(t instanceof se)t.target=t.target||n;else{var i=t;lt(t=new se(r,n),i)}if(i=!0,e)for(var a=e.length-1;0<=a;a--){var s=t.b=e[a];i=De(s,r,!0,t)&&i}if(i=De(s=t.b=n,r,!0,t)&&i,i=De(s,r,!1,t)&&i,e)for(a=0;a<e.length;a++)i=De(s=t.b=e[a],r,!1,t)&&i;return i},Oe.prototype.ua=function(){if(Oe.lb.ua.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)fe(n[r]);delete e.a[t],e.b--}}this.Ta=null},(t=Ve.prototype).R=function(){Ue(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.T=function(){return Ue(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Fe(this.b,t)?this.b[t]:e},t.set=function(t,e){Fe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Be=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qe(t,e){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof qe){this.f=void 0!==e?e:t.f,He(this,t.c),this.l=t.l,this.b=t.b,We(this,t.i),this.g=t.g,e=t.a;var n=new on;n.c=e.c,e.a&&(n.a=new Ve(e.a),n.b=e.b),Ge(this,n),this.h=t.h}else t&&(n=String(t).match(Be))?(this.f=!!e,He(this,n[1]||"",!0),this.l=Xe(n[2]||""),this.b=Xe(n[3]||"",!0),We(this,n[4]),this.g=Xe(n[5]||"",!0),Ge(this,n[6]||"",!0),this.h=Xe(n[7]||"")):(this.f=!!e,this.a=new on(null,this.f))}function He(t,e,n){t.c=n?Xe(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function We(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Ge(t,e,n){e instanceof on?(t.a=e,function(t,e){e&&!t.f&&(an(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(un(this,e),ln(this,n,t))},t)),t.f=e}(t.a,t.f)):(n||(e=Je(e,nn)),t.a=new on(e,t.f))}function Ke(t,e,n){t.a.set(e,n)}function ze(t,e){return t.a.get(e)}function Qe(t){return t instanceof qe?new qe(t):new qe(t,void 0)}function Ye(t,e){var n=new qe(null,void 0);return He(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function Xe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Je(t,e,n){return o(t)?(t=encodeURI(t).replace(e,Ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}qe.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Je(e,$e,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Je(e,$e,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Je(n,"/"==n.charAt(0)?en:tn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Je(n,rn)),t.join("")};var $e=/[#\/\?@]/g,tn=/[#\?:]/g,en=/[#\?]/g,nn=/[#\?@]/g,rn=/#/g;function on(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function an(t){t.a||(t.a=new Ve,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function sn(t){var e=je(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new on(null,void 0);t=Le(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];l(o)?ln(n,i,o):n.add(i,o)}return n}function un(t,e){an(t),e=hn(t,e),Fe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Fe((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ue(t)))}function cn(t,e){return an(t),e=hn(t,e),Fe(t.a.b,e)}function ln(t,e,n){un(t,e),0<n.length&&(t.c=null,t.a.set(hn(t,e),B(n)),t.b+=n.length)}function hn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=on.prototype).add=function(t,e){an(this),this.c=null,t=hn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){an(this),this.a.forEach(function(n,r){P(n,function(n){t.call(e,n,r,this)},this)},this)},t.T=function(){an(this);for(var t=this.a.R(),e=this.a.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.R=function(t){an(this);var e=[];if(o(t))cn(this,t)&&(e=F(e,this.a.get(hn(this,t))));else{t=this.a.R();for(var n=0;n<t.length;n++)e=F(e,t[n])}return e},t.set=function(t,e){return an(this),this.c=null,cn(this,t=hn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return 0<(t=t?this.R(t):[]).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var fn=!Wt||9<=Number($t);function dn(){this.a="",this.b=yn}function pn(t){return t instanceof dn&&t.constructor===dn&&t.b===yn?t.a:(C("expected object of type Const, got '"+t+"'"),"type_error:Const")}dn.prototype.la=!0,dn.prototype.ja=function(){return this.a},dn.prototype.toString=function(){return"Const{"+this.a+"}"};var yn={};function mn(t){var e=new dn;return e.a=t,e}function gn(){this.a="",this.b=En}function vn(t){return t instanceof gn&&t.constructor===gn&&t.b===En?t.a:(C("expected object of type TrustedResourceUrl, got '"+t+"' of type "+u(t)),"type_error:TrustedResourceUrl")}function bn(t,e){var n=pn(t);if(!_n.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=new gn;return e.a=t,e}(t=n.replace(wn,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof dn?pn(t):encodeURIComponent(String(t))}))}mn(""),gn.prototype.la=!0,gn.prototype.ja=function(){return this.a},gn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var wn=/%{(\w+)}/g,_n=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,En={};function Tn(){this.a="",this.b=An}function Sn(t){return t instanceof Tn&&t.constructor===Tn&&t.b===An?t.a:(C("expected object of type SafeUrl, got '"+t+"' of type "+u(t)),"type_error:SafeUrl")}Tn.prototype.la=!0,Tn.prototype.ja=function(){return this.a},Tn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var In=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Cn(t){return t instanceof Tn?t:(t=t.la?t.ja():String(t),In.test(t)||(t="about:invalid#zClosurez"),kn(t))}var An={};function kn(t){var e=new Tn;return e.a=t,e}function Nn(){this.a="",this.b=On}kn("about:blank"),Nn.prototype.la=!0,Nn.prototype.ja=function(){return this.a},Nn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var On={};function xn(t){var e=new Nn;return e.a=t,e}function Rn(t){var e=document;return o(t)?e.getElementById(t):t}function Dn(t,e){it(e,function(e,n){e&&e.la&&(e=e.ja()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Pn.hasOwnProperty(n)?t.setAttribute(Pn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}xn("<!DOCTYPE html>"),xn(""),xn("<br>");var Pn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Mn(t){if(t&&"number"==typeof t.length){if(d(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function Ln(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(l(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Un(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Un(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new function(){},t,e),e.join("")}var jn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Vn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Un(t,e){e.push('"',t.replace(Vn,function(t){var e=jn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),jn[t]=e),e}),'"')}function Fn(){var t=ir();return Wt&&!!$t&&11==$t||/Edge\/\d+/.test(t)}function Bn(){return i.window&&i.window.location.href||self&&self.location&&self.location.href||""}function qn(t,e){e=e||i.window;var n="about:blank";t&&(n=Sn(Cn(t))),e.location.href=n}function Hn(t){return!!((t=(t||ir()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Wn(t){t=t||i.window;try{t.close()}catch(t){}}function Gn(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=ir().toLowerCase(),r&&(e.target=r,$(n,"crios/")&&(e.target="_blank")),er(ir())==$n&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Tn?n:Cn("undefined"!=typeof n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((rt("iPhone")&&!rt("iPod")&&!rt("iPad")||rt("iPad")||rt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),e instanceof Tn||e instanceof Tn||(e=e.la?e.ja():String(e),In.test(e)||(e="about:invalid#zClosurez"),e=kn(e)),a.href=Sn(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=Sn(e),a&&(Kt&&$(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,mn("b/12014412, meta tag with sanitized URL"),t=xn(t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+W(t)+'">'),a.document.write(function(t){return t instanceof Nn&&t.constructor===Nn&&t.b===On?t.a:(C("expected object of type SafeHtml, got '"+t+"' of type "+u(t)),"type_error:SafeHtml")}(t)),a.document.close())):(a=r.open(Sn(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var Kn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;function zn(){var t=null;return new mt(function(e){"complete"==i.document.readyState?e():(t=function(){e()},we(window,"load",t))}).o(function(e){throw _e(window,"load",t),e})}function Qn(t){return t=t||ir(),!("file:"!==cr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yn(){var t=i.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Xn(){return"object"!=typeof i.window&&"function"==typeof i.importScripts}function Jn(){return e.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.INTERNAL.hasOwnProperty("node")?"Node":Xn()?"Worker":"Browser"}function Zn(){var t=Jn();return"ReactNative"===t||"Node"===t}var $n="Firefox",tr="Chrome";function er(t){var e=t.toLowerCase();return $(e,"opera/")||$(e,"opr/")||$(e,"opios/")?"Opera":$(e,"iemobile")?"IEMobile":$(e,"msie")||$(e,"trident/")?"IE":$(e,"edge/")?"Edge":$(e,"firefox/")?$n:$(e,"silk/")?"Silk":$(e,"blackberry")?"Blackberry":$(e,"webos")?"Webos":!$(e,"safari/")||$(e,"chrome/")||$(e,"crios/")||$(e,"android")?!$(e,"chrome/")&&!$(e,"crios/")||$(e,"edge/")?$(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":tr:"Safari"}var nr={Pc:"FirebaseCore-web",Rc:"FirebaseUI-web"};function rr(t,e){e=e||[];var n,r=[],i={};for(n in nr)i[nr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!=typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Jn())?r=er(i=ir()):"Worker"===r&&(r=er(i=ir())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function ir(){return i.navigator&&i.navigator.userAgent||""}function or(t,e){t=t.split("."),e=e||i;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function ar(){try{var t=i.localStorage,e=pr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Fn()||!!i.indexedDB}catch(t){return Xn()&&!!i.indexedDB}return!1}function sr(){return(ur()||"chrome-extension:"===cr()||Qn())&&!Zn()&&ar()&&!Xn()}function ur(){return"http:"===cr()||"https:"===cr()}function cr(){return i.location&&i.location.protocol||null}function lr(t){return!Hn(t=t||ir())&&er(t)!=$n}function hr(t){return"undefined"==typeof t?null:Ln(t)}function fr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function dr(t){if(null!==t)return JSON.parse(t)}function pr(t){return t||Math.floor(1e9*Math.random()).toString()}function yr(t){return"Safari"!=er(t=t||ir())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function mr(){var t=i.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function gr(){var t=i.navigator;return!t||"boolean"!=typeof t.onLine||!ur()&&"chrome-extension:"!==cr()&&"undefined"==typeof t.connection||t.onLine}function vr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.c=t,this.b=e,t=ir(),e=Jn(),this.a=Hn(t)||"ReactNative"===e}function br(){var t=i.document;return!t||"undefined"==typeof t.visibilityState||"visible"==t.visibilityState}function wr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function _r(){return!(!or("fireauth.oauthhelper",i)&&!or("fireauth.iframe",i))}vr.prototype.get=function(){return this.a?this.b:this.c};var Er,Tr={};try{var Sr={};Object.defineProperty(Sr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Sr,"abcd",{configurable:!0,enumerable:!0,value:2}),Er=2==Sr.abcd}catch(qt){Er=!1}function Ir(t,e,n){Er?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Cr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Ir(t,n,e[n])}function Ar(t){var e={};return Cr(e,t),e}function kr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Ir(e,n,kr(t[n]));return e}function Nr(t,e){this.code=xr+t,this.message=e||Rr[t]||""}function Or(t){var e=t&&t.code;return e?new Nr(e.substring(xr.length),t.message):null}_(Nr,Error),Nr.prototype.C=function(){return{code:this.code,message:this.message}},Nr.prototype.toJSON=function(){return this.C()};var xr="auth/",Rr={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Dr(t){var e=t[jr];if("undefined"==typeof e)throw new Nr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Nr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Pr];if(n&&"object"==typeof n){e=n[Fr];var r=n[Vr];if(n=n[Ur],"string"==typeof e&&e.length){if(this.a=e,"undefined"!=typeof r&&"boolean"!=typeof r)throw new Nr("argument-error",Vr+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!=typeof n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Nr("argument-error",Ur+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!=typeof e)throw new Nr("argument-error",Fr+" property must be a non empty string when specified.");if("undefined"!=typeof r||"undefined"!=typeof n)throw new Nr("missing-android-pkg-name")}}else if("undefined"!=typeof n)throw new Nr("argument-error",Pr+" property must be a non null object when specified.");if(this.f=null,(e=t[Lr])&&"object"==typeof e){if("string"==typeof(e=e[Br])&&e.length)this.f=e;else if("undefined"!=typeof e)throw new Nr("argument-error",Br+" property must be a non empty string when specified.")}else if("undefined"!=typeof e)throw new Nr("argument-error",Lr+" property must be a non null object when specified.");if("undefined"!=typeof(t=t[Mr])&&"boolean"!=typeof t)throw new Nr("argument-error",Mr+" property must be a boolean when specified.");this.c=!!t}var Pr="android",Mr="handleCodeInApp",Lr="iOS",jr="url",Vr="installApp",Ur="minimumVersion",Fr="packageName",Br="bundleId";function qr(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e)null===e[n]&&delete e[n];return e}var Hr=null,Wr=null;function Gr(t){this.c=t.sub,w(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Kr(t){if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Wr[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Hr){Hr={},Wr={};for(var t=0;65>t;t++)Hr[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Wr[Hr[t]]=t,62<=t&&(Wr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t));if(r.sub&&r.iss&&r.aud&&r.exp)return new Gr(r)}catch(t){}return null}Gr.prototype.f=function(){return this.b};var zr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Qr=["client_id","response_type","scope","redirect_uri","state"],Yr={Qc:{Ma:"locale",Aa:500,za:600,Na:"facebook.com",cb:Qr},Sc:{Ma:null,Aa:500,za:620,Na:"github.com",cb:Qr},Tc:{Ma:"hl",Aa:515,za:680,Na:"google.com",cb:Qr},Zc:{Ma:"lang",Aa:485,za:705,Na:"twitter.com",cb:zr}};function Xr(t){for(var e in Yr)if(Yr[e].Na==t)return Yr[e];return null}function Jr(t){var e={};e["facebook.com"]=ni,e["google.com"]=ii,e["github.com"]=ri,e["twitter.com"]=oi;var n=t&&t[$r];try{if(n)return e[n]?new e[n](t):new ei(t);if("undefined"!=typeof t[Zr])return new ti(t)}catch(t){}return null}var Zr="idToken",$r="providerId";function ti(t){var e=t[$r];if(!e&&t[Zr]){var n=Kr(t[Zr]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!=typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Ir(this,"providerId",e),Ir(this,"isNewUser",n)}function ei(t){ti.call(this,t),Ir(this,"profile",kr((t=dr(t.rawUserInfo||"{}"))||{}))}function ni(t){if(ei.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ri(t){if(ei.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ir(this,"username",this.profile&&this.profile.login||null)}function ii(t){if(ei.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function oi(t){if(ei.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ir(this,"username",t.screenName||null)}function ai(t,e){return t.then(function(t){if(t[Vo]){var n=Kr(t[Vo]);if(!n||e!=n.c)throw new Nr("user-mismatch");return t}throw new Nr("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==xr+"user-not-found"?new Nr("user-mismatch"):t})}function si(t,e,n){if(e.idToken||e.accessToken)e.idToken&&Ir(this,"idToken",e.idToken),e.accessToken&&Ir(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Nr("internal-error","failed to construct a credential");Ir(this,"accessToken",e.oauthToken),Ir(this,"secret",e.oauthTokenSecret)}Ir(this,"providerId",t),Ir(this,"signInMethod",n)}function ui(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:sn(e).toString(),requestUri:"http://localhost"}}function ci(t,e){this.zc=e||[],Cr(this,{providerId:t,isOAuthProvider:!0}),this.tb={},this.Za=(Xr(t)||{}).Ma||null,this.Xa=null}function li(t){ci.call(this,t,Qr),this.a=[]}function hi(){li.call(this,"facebook.com")}function fi(t){if(!t)throw new Nr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new hi).credential(null,e)}function di(){li.call(this,"github.com")}function pi(t){if(!t)throw new Nr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new di).credential(null,e)}function yi(){li.call(this,"google.com"),this.ta("profile")}function mi(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new yi).credential(n,e)}function gi(){ci.call(this,"twitter.com",zr)}function vi(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Nr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new si("twitter.com",n,"twitter.com")}function bi(t,e,n){this.a=t,this.b=e,Ir(this,"providerId","password"),Ir(this,"signInMethod",n===wi.EMAIL_LINK_SIGN_IN_METHOD?wi.EMAIL_LINK_SIGN_IN_METHOD:wi.EMAIL_PASSWORD_SIGN_IN_METHOD)}function wi(){Cr(this,{providerId:"password",isOAuthProvider:!1})}function _i(t,e){if(!(e=Ei(e)))throw new Nr("argument-error","Invalid email link!");return new bi(t,e,wi.EMAIL_LINK_SIGN_IN_METHOD)}function Ei(t){var e=ze((t=new function(t){this.a=Qe(t)}(t)).a,"oobCode")||null;return"signIn"===(ze(t.a,"mode")||null)&&e?e:null}function Ti(t){if(!(t.Ra&&t.Qa||t.Ea&&t.Y))throw new Nr("internal-error");this.a=t,Ir(this,"providerId","phone"),Ir(this,"signInMethod","phone")}function Si(t){return t.a.Ea&&t.a.Y?{temporaryProof:t.a.Ea,phoneNumber:t.a.Y}:{sessionInfo:t.a.Ra,code:t.a.Qa}}function Ii(t){try{this.a=t||e.auth()}catch(t){throw new Nr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Cr(this,{providerId:"phone",isOAuthProvider:!1})}function Ci(t,e){if(!t)throw new Nr("missing-verification-id");if(!e)throw new Nr("missing-verification-code");return new Ti({Ra:t,Qa:e})}function Ai(t){if(t.temporaryProof&&t.phoneNumber)return new Ti({Ea:t.temporaryProof,Y:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return mi(t,n);case"facebook.com":return fi(n);case"github.com":return pi(n);case"twitter.com":return vi(n,r);default:return new li(e).credential(t,n)}}catch(t){return null}}function ki(t){if(!t.isOAuthProvider)throw new Nr("invalid-oauth-provider")}function Ni(t,e,n,r,i){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.a=i||null,!this.f&&!this.a)throw new Nr("invalid-auth-event");if(this.f&&this.a)throw new Nr("invalid-auth-event");if(this.f&&!this.g)throw new Nr("invalid-auth-event")}function Oi(t){return(t=t||{}).type?new Ni(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Or(t.error)):null}function xi(){this.b=null,this.a=[]}_(ei,ti),_(ni,ei),_(ri,ei),_(ii,ei),_(oi,ei),si.prototype.xa=function(t){return ea(t,ui(this))},si.prototype.c=function(t,e){var n=ui(this);return n.idToken=e,na(t,n)},si.prototype.f=function(t,e){return ai(ra(t,ui(this)),e)},si.prototype.C=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t},ci.prototype.Ca=function(t){return this.tb=at(t),this},_(li,ci),li.prototype.ta=function(t){return j(this.a,t)||this.a.push(t),this},li.prototype.yb=function(){return B(this.a)},li.prototype.credential=function(t,e){if(!t&&!e)throw new Nr("argument-error","credential failed: must provide the ID token and/or the access token.");return new si(this.providerId,{idToken:t||null,accessToken:e||null},this.providerId)},_(hi,li),Ir(hi,"PROVIDER_ID","facebook.com"),Ir(hi,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(di,li),Ir(di,"PROVIDER_ID","github.com"),Ir(di,"GITHUB_SIGN_IN_METHOD","github.com"),_(yi,li),Ir(yi,"PROVIDER_ID","google.com"),Ir(yi,"GOOGLE_SIGN_IN_METHOD","google.com"),_(gi,ci),Ir(gi,"PROVIDER_ID","twitter.com"),Ir(gi,"TWITTER_SIGN_IN_METHOD","twitter.com"),bi.prototype.xa=function(t){return this.signInMethod==wi.EMAIL_LINK_SIGN_IN_METHOD?Ra(t,ha,{email:this.a,oobCode:this.b}):Ra(t,ka,{email:this.a,password:this.b})},bi.prototype.c=function(t,e){return this.signInMethod==wi.EMAIL_LINK_SIGN_IN_METHOD?Ra(t,fa,{idToken:e,email:this.a,oobCode:this.b}):Ra(t,Ea,{idToken:e,email:this.a,password:this.b})},bi.prototype.f=function(t,e){return ai(this.xa(t),e)},bi.prototype.C=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}},Cr(wi,{PROVIDER_ID:"password"}),Cr(wi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Cr(wi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ti.prototype.xa=function(t){return t.Sa(Si(this))},Ti.prototype.c=function(t,e){var n=Si(this);return n.idToken=e,Ra(t,Oa,n)},Ti.prototype.f=function(t,e){var n=Si(this);return n.operation="REAUTH",ai(t=Ra(t,xa,n),e)},Ti.prototype.C=function(){var t={providerId:"phone"};return this.a.Ra&&(t.verificationId=this.a.Ra),this.a.Qa&&(t.verificationCode=this.a.Qa),this.a.Ea&&(t.temporaryProof=this.a.Ea),this.a.Y&&(t.phoneNumber=this.a.Y),t},Ii.prototype.Sa=function(t,e){var n=this.a.b;return Tt(e.verify()).then(function(r){if(!o(r))throw new Nr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return Ra(n,wa,e)}(0,{phoneNumber:t,recaptchaToken:r}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new Nr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Cr(Ii,{PROVIDER_ID:"phone"}),Cr(Ii,{PHONE_SIGN_IN_METHOD:"phone"}),Ni.prototype.C=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.C()}};var Ri=null;function Di(t){var e="unauthorized-domain",n=void 0,r=Qe(t);t=r.b,"chrome-extension"==(r=r.c)?n=q("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=q("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Nr.call(this,e,n)}function Pi(t,e,n){Nr.call(this,t,n),(t=e||{}).ub&&Ir(this,"email",t.ub),t.Y&&Ir(this,"phoneNumber",t.Y),t.credential&&Ir(this,"credential",t.credential)}function Mi(t){if(t.code){var e=t.code||"";0==e.indexOf(xr)&&(e=e.substring(xr.length));var n={credential:Ai(t)};if(t.email)n.ub=t.email;else{if(!t.phoneNumber)return new Nr(e,t.message||void 0);n.Y=t.phoneNumber}return new Pi(e,n,t.message)}return null}xi.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=or("universalLinks.subscribe",i))&&t(null,this.b))},xi.prototype.unsubscribe=function(t){U(this.a,function(e){return e==t})},_(Di,Nr),_(Pi,Nr),Pi.prototype.C=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.C();return e&&lt(t,e),t},Pi.prototype.toJSON=function(){return this.C()};var Li,ji=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Vi(){}function Ui(){}function Fi(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Bi(){}function qi(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=v(this.ac,this),this.a.onerror=v(this.zb,this),this.a.onprogress=v(this.bc,this),this.a.ontimeout=v(this.ec,this)}function Hi(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Wi(t,e,n){this.reset(t,e,n,void 0,void 0)}function Gi(t){this.f=t,this.b=this.c=this.a=null}function Ki(t,e){this.name=t,this.value=e}Vi.prototype.c=null,_(Ui,Vi),Ui.prototype.a=function(){var t=Fi(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ui.prototype.b=function(){var t={};return Fi(this)&&(t[0]=!0,t[1]=!0),t},Li=new Ui,_(Bi,Vi),Bi.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new qi;throw Error("Unsupported browser")},Bi.prototype.b=function(){return{}},(t=qi.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.ac=function(){this.status=200,this.responseText=this.a.responseText,Hi(this,4)},t.zb=function(){this.status=500,this.responseText="",Hi(this,4)},t.ec=function(){this.zb()},t.bc=function(){this.status=200,Hi(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Wi.prototype.a=null,Wi.prototype.reset=function(t,e,n,r,i){r||w(),delete this.a},Ki.prototype.toString=function(){return this.name};var zi=new Ki("SEVERE",1e3),Qi=new Ki("WARNING",900),Yi=new Ki("CONFIG",700),Xi=new Ki("FINE",500);Gi.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(C("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new Wi(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Ji={},Zi=null;function $i(t){var e;if(Zi||(Zi=new Gi(""),Ji[""]=Zi,Zi.c=Yi),!(e=Ji[t])){e=new Gi(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=$i(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,Ji[t]=e}return e}function to(t,e){t&&t.log(Xi,e,void 0)}function eo(t){this.f=t}function no(t){Oe.call(this),this.i=t,this.readyState=ro,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=$i("goog.net.FetchXmlHttp")}_(eo,Vi),eo.prototype.a=function(){return new no(this.f)},eo.prototype.b=function(t){return function(){return t}}({}),_(no,Oe);var ro=0;function io(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function oo(t){Oe.call(this),this.headers=new Ve,this.D=t||null,this.c=!1,this.A=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.s=null,this.m=ao,this.v=this.O=!1}(t=no.prototype).open=function(t,e){if(this.readyState!=ro)throw this.abort(),Error("Error reopening a connection");this.h=t,this.c=e,this.readyState=1,io(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t),this.i.fetch(new Request(this.c,e)).then(this.dc.bind(this),this.Ab.bind(this))},t.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,io(this)),this.readyState=ro},t.dc=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,io(this)),this.a&&(this.readyState=3,io(this),this.a&&t.text().then(this.cc.bind(this,t),this.Ab.bind(this))))},t.cc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,io(this))},t.Ab=function(t){var e=this.f;e&&e.log(Qi,"Failed to fetch url "+this.c,t instanceof Error?t:Error(t)),this.a&&(this.readyState=4,io(this))},t.setRequestHeader=function(t,e){this.g.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.f)&&t.log(Qi,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.f;return t&&t.log(Qi,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},_(oo,Oe);var ao="";oo.prototype.b=$i("goog.net.XhrIo");var so=/^https?$/i,uo=["POST","PUT"];function co(t){return"content-type"==t.toLowerCase()}function lo(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ho(t),po(t)}function ho(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function fo(t){if(t.c&&"undefined"!=typeof r)if(t.A[1]&&4==mo(t)&&2==go(t))to(t.b,vo(t,"Local request error detected and ignored"));else if(t.i&&4==mo(t))Pe(t.Db,0,t);else if(t.dispatchEvent("readystatechange"),4==mo(t)){to(t.b,vo(t,"Request complete")),t.c=!1;try{var e,n=go(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}if(!(e=o)){var a;if(a=0===n){var s=String(t.l).match(Be)[1]||null;if(!s&&i.self&&i.self.location){var u=i.self.location.protocol;s=u.substr(0,u.length-1)}a=!so.test(s?s.toLowerCase():"")}e=a}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<mo(t)?t.a.statusText:""}catch(e){to(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+go(t)+"]",ho(t)}}finally{po(t)}}}function po(t,e){if(t.a){yo(t);var n=t.a,r=t.A[0]?s:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(zi,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function yo(t){t.a&&t.v&&(t.a.ontimeout=null),t.s&&(i.clearTimeout(t.s),t.s=null)}function mo(t){return t.a?t.a.readyState:0}function go(t){try{return 2<mo(t)?t.a.status:-1}catch(t){return-1}}function vo(t,e){return e+" ["+t.N+" "+t.l+" "+go(t)+"]"}function bo(t,e){this.g=[],this.v=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function wo(t,e,n){t.a=!0,t.c=n,t.f=!e,So(t)}function _o(t){if(t.a){if(!t.u)throw new Io(t);t.u=!1}}function Eo(t,e,n,r){t.g.push([e,n,r]),t.a&&So(t)}function To(t){return L(t.g,function(t){return f(t[1])})}function So(t){if(t.h&&t.a&&To(t)){var e=t.h,n=ko[e];n&&(i.clearTimeout(n.a),delete ko[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var o=t.g.shift(),a=o[0],s=o[1];if(o=o[2],a=t.f?s:a)try{var u=a.call(o||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(T(e)||"function"==typeof i.Promise&&e instanceof i.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,To(t)||(n=!0)}}t.c=e,r&&(u=v(t.m,t,!0),r=v(t.m,t,!1),e instanceof bo?(Eo(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new Ao(e),ko[e.a]=e,t.h=e.a)}function Io(){S.call(this)}function Co(){S.call(this)}function Ao(t){this.a=i.setTimeout(v(this.c,this),0),this.b=t}(t=oo.prototype).Fa=function(){"undefined"!=typeof r&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",to(this.b,vo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(to(this.b,vo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),po(this))},t.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),po(this,!0)),oo.lb.ua.call(this)},t.Db=function(){this.pa||(this.I||this.i||this.f?fo(this):this.sc())},t.sc=function(){fo(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ao:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(zi,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return to(this.b,"Can not get response: "+t.message),null}},bo.prototype.cancel=function(t){if(this.a)this.c instanceof bo&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.s,this):this.u=!0,this.a||(t=new Co(this),_o(this),wo(this,!1,t))}},bo.prototype.m=function(t,e){this.i=!1,wo(this,t,e)},bo.prototype.D=function(){_o(this),wo(this,!0,null)},bo.prototype.then=function(t,e,n){var r,i,o=new mt(function(t,e){r=t,i=e});return Eo(this,r,function(t){t instanceof Co?o.cancel():i(t)}),o.then(t,e,n)},E(bo),_(Io,S),Io.prototype.message="Deferred has already fired",Io.prototype.name="AlreadyCalledError",_(Co,S),Co.prototype.message="Deferred was canceled",Co.prototype.name="CanceledError",Ao.prototype.c=function(){throw delete ko[this.a],this.b};var ko={};function No(t){var e={},n=e.document||document,r=vn(t),i=document.createElement("SCRIPT"),o={Fb:i,Fa:void 0},a=new bo(Oo,o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){xo(i,!0);var t=new Po(Do,"Timeout reached for loading script "+r);_o(a),wo(a,!1,t)},u),o.Fa=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(xo(i,e.ad||!1,s),a.D())},i.onerror=function(){xo(i,!0,s);var t=new Po(Ro,"Error while loading script "+r);_o(a),wo(a,!1,t)},lt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Dn(i,o),i.src=vn(t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Oo(){if(this&&this.Fb){var t=this.Fb;t&&"SCRIPT"==t.tagName&&xo(t,!0,this.Fa)}}function xo(t,e,n){null!=n&&i.clearTimeout(n),t.onload=s,t.onerror=s,t.onreadystatechange=s,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Ro=0,Do=1;function Po(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),S.call(this,n),this.code=t}function Mo(t){this.f=t}function Lo(t,n,r){if(this.b=t,this.i=(t=n||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=t.secureTokenTimeout||Uo,this.f=at(t.secureTokenHeaders||Fo),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||Bo,this.a=at(t.firebaseHeaders||qo),r&&(this.a["X-Client-Version"]=r,this.f["X-Client-Version"]=r),r="Node"==Jn(),!(r=i.XMLHttpRequest||r&&e.INTERNAL.node&&e.INTERNAL.node.XMLHttpRequest)&&!Xn())throw new Nr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,this.c=Xn()?new eo(self):Zn()?new Mo(r):new Bi}_(Po,S),_(Mo,Vi),Mo.prototype.a=function(){return new this.f},Mo.prototype.b=function(){return{}};var jo,Vo="idToken",Uo=new vr(3e4,6e4),Fo={"Content-Type":"application/x-www-form-urlencoded"},Bo=new vr(3e4,6e4),qo={"Content-Type":"application/json"};function Ho(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Wo(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function Go(t,e,n,r,o,a,s){gr()?(function(){var t=ir();return!((t=er(t)!=tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Wt&&$t&&!(9<$t))}()||Xn()?t=v(t.m,t):(jo||(jo=new mt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{i[zo]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=bn(Ko,{onload:zo});!function(t,e){Eo(No(n),null,e,void 0)}(0,function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=v(t.u,t)),t(e,n,r,o,a,s)):n&&n(null)}Lo.prototype.m=function(t,e,n,r,a,s){var u=new oo(this.c);if(s){u.g=Math.max(0,s);var c=setTimeout(function(){u.dispatchEvent("timeout")},s)}xe(u,"complete",function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return to(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)}),Re(u,"ready",function(){c&&clearTimeout(c),Ut(this)}),Re(u,"timeout",function(){c&&clearTimeout(c),Ut(this),e&&e(null)}),function(t,e,n,r,a){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.N=n,t.G=!1,t.c=!0,t.a=t.D?t.D.a():Li.a(),t.A=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Li),t.a.onreadystatechange=v(t.Db,t);try{to(t.b,vo(t,"Opening Xhr")),t.I=!0,t.a.open(n,String(e),!0),t.I=!1}catch(e){return to(t.b,vo(t,"Error opening Xhr: "+e.message)),void lo(t,e)}e=r||"";var s=new Ve(t.headers);a&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||o(t))P(t,e,void 0);else for(var n=je(t),r=Le(t),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],n&&n[a],t)}(a,function(t,e){s.set(e,t)}),a=function(t){t:{for(var e=co,n=t.length,r=o(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:o(t)?t.charAt(e):t[e]}(s.T()),r=i.FormData&&e instanceof i.FormData,!j(uo,n)||a||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{yo(t),0<t.g&&(t.v=function(t){return Wt&&ee(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),to(t.b,vo(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=v(t.Fa,t)):t.s=Pe(t.Fa,t.g,t)),to(t.b,vo(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){to(t.b,vo(t,"Send error: "+e.message)),lo(t,e)}}(u,t,n,r,a)};var Ko=mn("https://apis.google.com/js/client.js?onload=%{onload}"),zo="__fcb"+Math.floor(1e6*Math.random()).toString();function Qo(t){if(!ji.test(t.email))throw new Nr("invalid-email")}function Yo(t){"email"in t&&Qo(t)}function Xo(t){if(!t[Vo])throw new Nr("internal-error")}function Jo(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Nr("internal-error")}else{if(!t.sessionInfo)throw new Nr("missing-verification-id");if(!t.code)throw new Nr("missing-verification-code")}}Lo.prototype.u=function(t,e,n,r,i){var o=this;jo.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Lo.prototype.jb=function(){return Ra(this,Ta,{})},Lo.prototype.mb=function(t,e){return Ra(this,_a,{idToken:t,email:e})},Lo.prototype.nb=function(t,e){return Ra(this,Ea,{idToken:t,password:e})};var Zo={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function $o(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new Nr("internal-error")}function ta(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Mi(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Mi(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Mi(t)):t.errorMessage&&(e=Da(t.errorMessage)),e)throw e;if(!t[Vo])throw new Nr("internal-error")}function ea(t,e){return e.returnIdpCredential=!0,Ra(t,Sa,e)}function na(t,e){return e.returnIdpCredential=!0,Ra(t,Ca,e)}function ra(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ra(t,Ia,e)}function ia(t){if(!t.oobCode)throw new Nr("invalid-action-code")}(t=Lo.prototype).ob=function(t,e){var n={idToken:t},r=[];return it(Zo,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Ra(this,_a,n)},t.gb=function(t,e){return lt(t={requestType:"PASSWORD_RESET",email:t},e),Ra(this,ma,t)},t.hb=function(t,e){return lt(t={requestType:"EMAIL_SIGNIN",email:t},e),Ra(this,pa,t)},t.fb=function(t,e){return lt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ra(this,ya,t)},t.Sa=function(t){return Ra(this,Na,t)},t.Wa=function(t,e){return Ra(this,ba,{oobCode:t,newPassword:e})},t.Ia=function(t){return Ra(this,aa,{oobCode:t})},t.Ua=function(t){return Ra(this,oa,{oobCode:t})};var oa={endpoint:"setAccountInfo",w:ia,$:"email"},aa={endpoint:"resetPassword",w:ia,J:function(t){if(!t.email||!t.requestType)throw new Nr("internal-error")}},sa={endpoint:"signupNewUser",w:function(t){if(Qo(t),!t.password)throw new Nr("weak-password")},J:Xo,P:!0},ua={endpoint:"createAuthUri"},ca={endpoint:"deleteAccount",S:["idToken"]},la={endpoint:"setAccountInfo",S:["idToken","deleteProvider"],w:function(t){if(!l(t.deleteProvider))throw new Nr("internal-error")}},ha={endpoint:"emailLinkSignin",S:["email","oobCode"],w:Qo,J:Xo,P:!0},fa={endpoint:"emailLinkSignin",S:["idToken","email","oobCode"],w:Qo,J:Xo,P:!0},da={endpoint:"getAccountInfo"},pa={endpoint:"getOobConfirmationCode",S:["requestType"],w:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Nr("internal-error");Qo(t)},$:"email"},ya={endpoint:"getOobConfirmationCode",S:["idToken","requestType"],w:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Nr("internal-error")},$:"email"},ma={endpoint:"getOobConfirmationCode",S:["requestType"],w:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Nr("internal-error");Qo(t)},$:"email"},ga={pb:!0,endpoint:"getProjectConfig",Cb:"GET"},va={pb:!0,endpoint:"getRecaptchaParam",Cb:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new Nr("internal-error")}},ba={endpoint:"resetPassword",w:ia,$:"email"},wa={endpoint:"sendVerificationCode",S:["phoneNumber","recaptchaToken"],$:"sessionInfo"},_a={endpoint:"setAccountInfo",S:["idToken"],w:Yo,P:!0},Ea={endpoint:"setAccountInfo",S:["idToken"],w:function(t){if(Yo(t),!t.password)throw new Nr("weak-password")},J:Xo,P:!0},Ta={endpoint:"signupNewUser",J:Xo,P:!0},Sa={endpoint:"verifyAssertion",w:$o,J:ta,P:!0},Ia={endpoint:"verifyAssertion",w:$o,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Nr("user-not-found");if(t.errorMessage)throw Da(t.errorMessage);if(!t[Vo])throw new Nr("internal-error")},P:!0},Ca={endpoint:"verifyAssertion",w:function(t){if($o(t),!t.idToken)throw new Nr("internal-error")},J:ta,P:!0},Aa={endpoint:"verifyCustomToken",w:function(t){if(!t.token)throw new Nr("invalid-custom-token")},J:Xo,P:!0},ka={endpoint:"verifyPassword",w:function(t){if(Qo(t),!t.password)throw new Nr("wrong-password")},J:Xo,P:!0},Na={endpoint:"verifyPhoneNumber",w:Jo,J:Xo},Oa={endpoint:"verifyPhoneNumber",w:function(t){if(!t.idToken)throw new Nr("internal-error");Jo(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Mi(t);Xo(t)}},xa={Tb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",w:Jo,J:Xo};function Ra(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.S))return St(new Nr("internal-error"));var r,i=e.Cb||"POST";return Tt(n).then(e.w).then(function(){return e.P&&(n.returnSecureToken=!0),function(t,e,n,r,i,o){var a=Qe(t.g+e);Ke(a,"key",t.b),o&&Ke(a,"cb",w().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&Ke(a,u,r[u]);return new mt(function(e,o){Go(t,a.toString(),function(t){t?t.error?o(Pa(t,i||{})):e(t):o(new Nr("network-request-failed"))},n,s?void 0:Ln(fr(r)),t.a,t.h.get())})}(t,e.endpoint,i,n,e.Tb,e.pb||!1)}).then(function(t){return r=t}).then(e.J).then(function(){if(!e.$)return r;if(!(e.$ in r))throw new Nr("internal-error");return r[e.$]})}function Da(t){return Pa({error:{errors:[{message:t}],code:400,message:t}})}function Pa(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Nr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",lt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Nr(r[i],e);return!e&&t&&(e=hr(t)),new Nr("internal-error",e)}var Ma,La={Vc:{Ya:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",eb:"https://securetoken.googleapis.com/v1/token",id:"p"},Xc:{Ya:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",eb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},Yc:{Ya:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",eb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function ja(t){for(var e in La)if(La[e].id===t)return{firebaseEndpoint:(t=La[e]).Ya,secureTokenEndpoint:t.eb};return null}Ma=ja("__EID__")?"__EID__":void 0;var Va,Ua=mn("https://apis.google.com/js/api.js?onload=%{onload}"),Fa=new vr(3e4,6e4),Ba=new vr(5e3,15e3),qa=null;function Ha(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Ye(this.i,"/__/auth/iframe"),Ke(this.a,"apiKey",this.g),Ke(this.a,"appName",this.h),this.b=null,this.c=[]}function Wa(t,e,n,r,i){this.m=t,this.u=e,this.c=n,this.l=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function Ga(t){try{return e.app(t).auth().Ka()}catch(t){return[]}}function Ka(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.v=null,this.g=[],this.l=this.a=null}function za(t){var e=Bn();return function(t){return Ra(t,ga,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Qe(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Qe(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Kn.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Di(Bn())})}function Qa(t){return t.l?t.l:(t.l=zn().then(function(){if(!t.s){var e=t.c,n=t.h,r=Ga(t.b),o=new Ha(t.u,t.f,t.b);o.f=e,o.b=n,o.c=B(r||[]),t.s=o.toString()}t.i=new function(t){this.b=t,this.a=null,this.ab=function(t){return(qa||(qa=new mt(function(t,e){if(gr()){var n=function(){mr(),or("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){mr(),e(Error("Network Error"))},timeout:Fa.get()})};if(or("gapi.iframes.Iframe"))t();else if(or("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();i[r]=function(){or("gapi.load")?n():e(Error("Network Error"))},Tt(No(r=bn(Ua,{onload:r}))).o(function(){e(Error("Network Error"))})}}else e(Error("Network Error"))}).o(function(t){throw qa=null,t}))).then(function(){return new mt(function(e,n){or("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},Ba.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.ab.then(function(){t.a.register("authEvent",e,or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Oi(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Tt(n)}return n.status="ERROR",Tt(n)})}(t)}),t.l)}function Ya(t){return t.m||(t.v=t.c?rr(t.c,Ga(t.b)):null,t.m=new Lo(t.f,ja(t.h),t.v)),t.m}function Xa(t,e,n,r,i,o,a,s,u,c){return(t=new Wa(t,e,n,r,i)).i=o,t.g=a,t.h=s,t.b=at(u||null),t.f=c,t.toString()}function Ja(t){if(this.a=t||e.INTERNAL.reactNative&&e.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Nr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Za(){this.a={},this.type="inMemory"}function $a(){try{var t=!!i.indexedDB}catch(e){t=!1}if(!t)throw new Nr("web-storage-unsupported");this.f={},this.c=[],this.a=0,this.h=i.indexedDB,this.type="indexedDB"}function ts(t){return t.g||(t.g=function(t){return new mt(function(e,n){var r=t.h.open("firebaseLocalStorageDb",1);r.onerror=function(t){n(Error(t.target.errorCode))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(t){e(t.target.result)}})}(t)),t.g}function es(t){return t.objectStore("firebaseLocalStorage")}function ns(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function rs(t){return new mt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})}function is(){if(!function(){var t="Node"==Jn();if(!(t=os()||t&&e.INTERNAL.node&&e.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Jn())throw new Nr("internal-error","The LocalStorage compatibility library was not found.");throw new Nr("web-storage-unsupported")}this.a=os()||e.INTERNAL.node.localStorage,this.type="localStorage"}function os(){try{var t=i.localStorage,e=pr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function as(){this.type="nullStorage"}function ss(){if(!function(){var t="Node"==Jn();if(!(t=us()||t&&e.INTERNAL.node&&e.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Jn())throw new Nr("internal-error","The SessionStorage compatibility library was not found.");throw new Nr("web-storage-unsupported")}this.a=us()||e.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function us(){try{var t=i.sessionStorage,e=pr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}Ha.prototype.toString=function(){return this.f?Ke(this.a,"v",this.f):un(this.a.a,"v"),this.b?Ke(this.a,"eid",this.b):un(this.a.a,"eid"),this.c.length?Ke(this.a,"fw",this.c.join(",")):un(this.a.a,"fw"),this.a.toString()},Wa.prototype.toString=function(){var t=Ye(this.m,"/__/auth/handler");if(Ke(t,"apiKey",this.u),Ke(t,"appName",this.c),Ke(t,"authType",this.l),this.a.isOAuthProvider){var n=this.a;try{var r=e.app(this.c).auth().aa()}catch(t){r=null}for(var i in n.Xa=r,Ke(t,"providerId",this.a.providerId),r=fr((n=this.a).tb))r[i]=r[i].toString();i=n.zc,r=at(r);for(var o=0;o<i.length;o++){var a=i[o];a in r&&delete r[a]}n.Za&&n.Xa&&!r[n.Za]&&(r[n.Za]=n.Xa),ot(r)||Ke(t,"customParameters",hr(r))}if("function"==typeof this.a.yb&&(n=this.a.yb()).length&&Ke(t,"scopes",n.join(",")),this.i?Ke(t,"redirectUrl",this.i):un(t.a,"redirectUrl"),this.g?Ke(t,"eventId",this.g):un(t.a,"eventId"),this.h?Ke(t,"v",this.h):un(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!ze(t,s)&&Ke(t,s,this.b[s]);return this.f?Ke(t,"eid",this.f):un(t.a,"eid"),(s=Ga(this.c)).length&&Ke(t,"fw",s.join(",")),t.toString()},(t=Ka.prototype).Da=function(t,e,n){var r=new Nr("popup-closed-by-user"),i=new Nr("web-storage-unsupported"),o=this,a=!1;return this.ca().then(function(){(function(t){var e={type:"webStorageSupport"};return Qa(t).then(function(){return function(t,e){return t.ab.then(function(){return new mt(function(n){t.a.send(e.type,e,n,or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&"undefined"!=typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&Wn(t),e(i),a=!0)})}).o(function(){}).then(function(){if(!a)return function(t){return new mt(function(e){return function n(){Me(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Me(n).then(function(){e(r)})})},t.Gb=function(){var t=ir();return!lr(t)&&!yr(t)},t.Bb=function(){return!1},t.xb=function(t,e,n,r,i,o,a){if(!t)return St(new Nr("popup-blocked"));if(a&&!lr())return this.ca().o(function(e){Wn(t),i(e)}),r(),Tt();this.a||(this.a=za(Ya(this)));var s=this;return this.a.then(function(){var e=s.ca().o(function(e){throw Wn(t),i(e),e});return r(),e}).then(function(){ki(n),a||qn(Xa(s.u,s.f,s.b,e,n,null,o,s.c,void 0,s.h),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},t.Ba=function(t,e,n){this.a||(this.a=za(Ya(this)));var r=this;return this.a.then(function(){ki(e),qn(Xa(r.u,r.f,r.b,t,e,Bn(),n,r.c,void 0,r.h))}).o(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ca=function(){var t=this;return Qa(this).then(function(){return t.i.ab}).o(function(){throw t.a=null,new Nr("network-request-failed")})},t.Lb=function(){return!0},t.va=function(t){this.g.push(t)},t.Ja=function(t){U(this.g,function(e){return e==t})},(t=Ja.prototype).get=function(t){return Tt(this.a.getItem(t)).then(function(t){return t&&dr(t)})},t.set=function(t,e){return Tt(this.a.setItem(t,hr(e)))},t.X=function(t){return Tt(this.a.removeItem(t))},t.ia=function(){},t.ea=function(){},(t=Za.prototype).get=function(t){return Tt(this.a[t])},t.set=function(t,e){return this.a[t]=e,Tt()},t.X=function(t){return delete this.a[t],Tt()},t.ia=function(){},t.ea=function(){},(t=$a.prototype).set=function(t,e){var n,r=!1,i=this;return ts(this).then(function(e){return rs((e=es(ns(n=e,!0))).get(t))}).then(function(o){var a=es(ns(n,!0));return o?(o.value=e,rs(a.put(o))):(i.a++,r=!0,(o={}).fbase_key=t,o.value=e,rs(a.add(o)))}).then(function(){i.f[t]=e}).ga(function(){r&&i.a--})},t.get=function(t){return ts(this).then(function(e){return rs(es(ns(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.X=function(t){var e=!1,n=this;return ts(this).then(function(r){return e=!0,n.a++,rs(es(ns(r,!0)).delete(t))}).then(function(){delete n.f[t]}).ga(function(){e&&n.a--})},t.Ic=function(){var t=this;return ts(this).then(function(t){var e=es(ns(t,!1));return e.getAll?rs(e.getAll()):new mt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.a){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)if(r in n)if(typeof e[r]!=typeof n[r])i.push(r);else if(l(e[r])){t:{var o=void 0,a=e[r],s=n[r];for(o in a)if(!(o in s)||a[o]!==s[o]){o=!1;break t}for(o in s)if(!(o in a)){o=!1;break t}o=!0}o||i.push(r)}else"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r);else i.push(r);for(r in n)r in e||i.push(r);return i}(t.f,n),t.f=n}return r})},t.ia=function(t){0==this.c.length&&function(t){t.b&&t.b.cancel("STOP_EVENT"),function e(){return t.b=Me(800).then(v(t.Ic,t)).then(function(e){0<e.length&&P(t.c,function(t){t(e)})}).then(e).o(function(t){"STOP_EVENT"!=t.message&&e()}),t.b}()}(this),this.c.push(t)},t.ea=function(t){U(this.c,function(e){return e==t}),0==this.c.length&&this.b&&this.b.cancel("STOP_EVENT")},(t=is.prototype).get=function(t){var e=this;return Tt().then(function(){return dr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Tt().then(function(){var r=hr(e);null===r?n.X(t):n.a.setItem(t,r)})},t.X=function(t){var e=this;return Tt().then(function(){e.a.removeItem(t)})},t.ia=function(t){i.window&&ve(i.window,"storage",t)},t.ea=function(t){i.window&&_e(i.window,"storage",t)},(t=as.prototype).get=function(){return Tt(null)},t.set=function(){return Tt()},t.X=function(){return Tt()},t.ia=function(){},t.ea=function(){},(t=ss.prototype).get=function(t){var e=this;return Tt().then(function(){return dr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Tt().then(function(){var r=hr(e);null===r?n.X(t):n.a.setItem(t,r)})},t.X=function(t){var e=this;return Tt().then(function(){e.a.removeItem(t)})},t.ia=function(){},t.ea=function(){};var cs,ls,hs={B:is,Pa:ss},fs={B:is,Pa:ss},ds={B:Ja,Pa:as},ps={B:is,Pa:as},ys={Uc:"local",NONE:"none",Wc:"session"};function ms(){var t=!(yr(ir())||!Yn()),e=lr(),n=ar();this.m=t,this.h=e,this.l=n,this.a={},cs||(cs=new function(){var t={};t.Browser=hs,t.Node=fs,t.ReactNative=ds,t.Worker=ps,this.a=t[Jn()]}),t=cs;try{if(!Fn()&&_r()||!i.indexedDB)var r=new t.a.B;else Va||(Va=new $a),r=Va;this.g=r}catch(t){this.g=new Za,this.h=!0}try{this.i=new t.a.Pa}catch(t){this.i=new Za}this.u=new Za,this.f=v(this.Kb,this),this.b={}}function gs(){return ls||(ls=new ms),ls}function vs(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function bs(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ws(t,e,n){return n=bs(e,n),"local"==e.B&&(t.b[n]=null),vs(t,e.B).X(n)}function _s(t){t.c&&(clearInterval(t.c),t.c=null)}(t=ms.prototype).get=function(t,e){return vs(this,t.B).get(bs(t,e))},t.set=function(t,e,n){var r=bs(t,n),i=this,o=vs(this,t.B);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.B&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=bs(t,e),this.l&&(this.b[t]=i.localStorage.getItem(t)),ot(this.a)&&(vs(this,"local").ia(this.f),this.h||(Fn()||!_r())&&i.indexedDB||!this.l||function(t){_s(t),t.c=setInterval(function(){for(var e in t.a){var n=i.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new ue({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Kb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=bs(t,e),this.a[t]&&(U(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),ot(this.a)&&(vs(this,"local").ea(this.f),_s(this))},t.Kb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"==typeof r&&(r=null);var o=i.localStorage.getItem(n);o!==r&&(this.b[n]=o,this.Va(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!=typeof t.a.a?vs(this,"local").ea(this.f):_s(this),this.m)if(n=i.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?i.localStorage.setItem(e,r):i.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"==typeof t.a.a)return;var a=this;n=function(){"undefined"==typeof t.a.a&&a.b[e]===i.localStorage.getItem(e)||(a.b[e]=i.localStorage.getItem(e),a.Va(e))},Wt&&$t&&10==$t&&i.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else P(t,v(this.Va,this))},t.Va=function(t){this.a[t]&&P(this.a[t],function(t){t()})};var Es,Ts={name:"authEvent",B:"local"};function Ss(t,e){this.b=-1,this.b=Is,this.f=i.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=i.Int32Array?new Int32Array(64):Array(64),void 0!==Es||(Es=i.Int32Array?new Int32Array(Rs):Rs),this.reset()}_(Ss,function(){this.b=-1});for(var Is=64,Cs=Is-1,As=[],ks=0;ks<Cs;ks++)As[ks]=0;var Ns=F(128,As);function Os(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Es[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function xs(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(o(e))for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Os(t),i=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var a=e[r++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");t.f[i++]=a,i==t.b&&(Os(t),i=0)}}t.c=i,t.g+=n}Ss.prototype.reset=function(){this.g=this.c=0,this.a=i.Int32Array?new Int32Array(this.h):B(this.h)};var Rs=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ds(){Ss.call(this,8,Ps)}_(Ds,Ss);var Ps=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ms(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.v=new function(){this.a=gs()},this.g=new function(t){this.a=t,this.b=gs()}(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ls(t){return new Nr("invalid-cordova-configuration",t)}function js(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Vs(t){return t.f||(t.f=t.ca().then(function(){return new mt(function(e){t.va(function n(r){return e(r),t.Ja(n),!1}),function(t){function e(e){r=!0,o&&o.cancel(),Us(t).then(function(r){var i=n;if(r&&e&&e.url){i=null;var o=e.url,a=Qe(o),s=ze(a,"link"),u=ze(Qe(s),"link");-1!=(o=ze(Qe(a=ze(a,"deep_link_id")),"link")||a||u||s||o).indexOf("/__/auth/callback")&&(i=(i="object"==typeof(i=dr(ze(i=Qe(o),"firebaseError")||null))?Or(i):null)?new Ni(r.b,r.c,null,null,i):new Ni(r.b,r.c,o,r.g)),i=i||n}js(t,i)})}var n=new Ni("unknown",null,null,null,new Nr("no-auth-event")),r=!1,o=Me(500).then(function(){return Us(t).then(function(){r||js(t,n)})}),a=i.handleOpenURL;i.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(or("BuildInfo.packageName",i).toLowerCase()+"://")&&e({url:t}),"function"==typeof a)try{a(t)}catch(t){console.error(t)}},Ri||(Ri=new xi),Ri.subscribe(e)}(t)})})),t.f}function Us(t){var e=null;return function(t){return t.b.get(Ts,t.a).then(function(t){return Oi(t)})}(t.g).then(function(n){return e=n,ws((n=t.g).b,Ts,n.a)}).then(function(){return e})}(t=Ms.prototype).ca=function(){return this.ya?this.ya:this.ya=(Qn(void 0)?zn().then(function(){return new mt(function(t,e){var n=i.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):St(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof or("universalLinks.subscribe",i))throw Ls("cordova-universal-links-plugin is not installed");if("undefined"==typeof or("BuildInfo.packageName",i))throw Ls("cordova-plugin-buildinfo is not installed");if("function"!=typeof or("cordova.plugins.browsertab.openUrl",i))throw Ls("cordova-plugin-browsertab is not installed");if("function"!=typeof or("cordova.InAppBrowser.open",i))throw Ls("cordova-plugin-inappbrowser is not installed")},function(){throw new Nr("cordova-not-ready")})},t.Da=function(t,e){return e(new Nr("operation-not-supported-in-this-environment")),Tt()},t.xb=function(){return St(new Nr("operation-not-supported-in-this-environment"))},t.Lb=function(){return!1},t.Gb=function(){return!0},t.Bb=function(){return!0},t.Ba=function(t,e,n){if(this.c)return St(new Nr("redirect-operation-pending"));var r=this,o=i.document,a=null,s=null,u=null,c=null;return this.c=Tt().then(function(){return ki(e),Vs(r)}).then(function(){return function(t,e,n,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Ni(e,r,null,o,new Nr("no-auth-event")),s=or("BuildInfo.packageName",i);if("string"!=typeof s)throw new Nr("invalid-cordova-configuration");var u=or("BuildInfo.displayName",i),c={};if(ir().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!ir().toLowerCase().match(/android/))return St(new Nr("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=function(t){var e=new Ds;xs(e,t),t=[];var n=8*e.g;xs(e,Ns,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Os(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return M(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),c.sessionId=o;var l=Xa(t.u,t.i,t.l,e,n,null,r,t.m,c,t.s);return t.ca().then(function(){var e=t.h;return t.v.a.set(Ts,a.C(),e)}).then(function(){var e=or("cordova.plugins.browsertab.isAvailable",i);if("function"!=typeof e)throw new Nr("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=or("cordova.plugins.browsertab.openUrl",i)))throw new Nr("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=or("cordova.InAppBrowser.open",i)))throw new Nr("invalid-cordova-configuration");e=!(!(e=ir()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=n(l,e?"_blank":"_system","location=yes")}})})}(r,t,e,n)}).then(function(){return new mt(function(t,e){s=function(){var e=or("cordova.plugins.browsertab.close",i);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.va(s),c=function(){br()&&u()},o.addEventListener("resume",u=function(){a||(a=Me(2e3).then(function(){e(new Nr("redirect-cancelled-by-user"))}))},!1),ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).o(function(t){return Us(r).then(function(){throw t})})}).ga(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&r.Ja(s),r.c=null})},t.va=function(t){this.b.push(t),Vs(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Ni("unknown",null,null,null,new Nr("no-auth-event")),t(e))})},t.Ja=function(t){U(this.b,function(e){return e==t})};var Fs={name:"pendingRedirect",B:"session"};function Bs(t){return ws(t.b,Fs,t.a)}function qs(t,e,n){this.v=t,this.l=e,this.u=n,this.h=[],this.f=!1,this.i=v(this.m,this),this.c=new Zs,this.s=new nu,this.g=new function(t){this.a=t,this.b=gs()}(this.l+":"+this.u),this.b={},this.b.unknown=this.c,this.b.signInViaRedirect=this.c,this.b.linkViaRedirect=this.c,this.b.reauthViaRedirect=this.c,this.b.signInViaPopup=this.s,this.b.linkViaPopup=this.s,this.b.reauthViaPopup=this.s,this.a=Hs(this.v,this.l,this.u,Ma)}function Hs(t,n,r,i){var o=e.SDK_VERSION||null;return Qn()?new Ms(t,n,r,o,i):new Ka(t,n,r,o,i)}function Ws(t){t.f||(t.f=!0,t.a.va(t.i));var e=t.a;return t.a.ca().o(function(n){throw t.a==e&&t.reset(),n})}function Gs(t){t.a.Gb()&&Ws(t).o(function(e){var n=new Ni("unknown",null,null,null,new Nr("operation-not-supported-in-this-environment"));Ys(e)&&t.m(n)}),t.a.Bb()||$s(t.c)}qs.prototype.reset=function(){this.f=!1,this.a.Ja(this.i),this.a=Hs(this.v,this.l,this.u)},qs.prototype.subscribe=function(t){if(j(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(Fs,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?Bs(e.g).then(function(){Ws(e).o(function(t){var n=new Ni("unknown",null,null,null,new Nr("operation-not-supported-in-this-environment"));Ys(t)&&e.m(n)})}):Gs(e)}).o(function(){Gs(e)})}},qs.prototype.unsubscribe=function(t){U(this.h,function(e){return e==t})},qs.prototype.m=function(t){if(!t)throw new Nr("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.qb(t.b,t.c)){(e=this.b[t.b])&&e.h(t,r),e=!0;break}}return $s(this.c),e};var Ks=new vr(2e3,1e4),zs=new vr(3e4,6e4);function Qs(t,e,n,r,i,o){return t.a.xb(e,n,r,function(){t.f||(t.f=!0,t.a.va(t.i))},function(){t.reset()},i,o)}function Ys(t){return!(!t||"auth/cordova-not-ready"!=t.code)}qs.prototype.ba=function(){return this.c.ba()},qs.prototype.Ba=function(t,e,n){var r,i=this;return function(t){return t.b.set(Fs,"pending",t.a)}(this.g).then(function(){return i.a.Ba(t,e,n).o(function(t){if(Ys(t))throw new Nr("operation-not-supported-in-this-environment");return r=t,Bs(i.g).then(function(){throw r})}).then(function(){return i.a.Lb()?new mt(function(){}):Bs(i.g).then(function(){return i.ba()}).then(function(){}).o(function(){})})})},qs.prototype.Da=function(t,e,n,r){return this.a.Da(n,function(n){t.fa(e,null,n,r)},Ks.get())};var Xs={};function Js(t,e,n){var r=e+":"+n;return Xs[r]||(Xs[r]=new qs(t,e,n)),Xs[r]}function Zs(){this.b=null,this.f=[],this.c=[],this.a=null,this.g=!1}function $s(t){t.g||(t.g=!0,eu(t,!1,null,null))}function tu(t,e){if(t.b=function(){return Tt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function eu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return St(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):tu(t,n):tu(t,{user:null}),t.f=[],t.c=[]}function nu(){}function ru(t,e){this.a=e,Ir(this,"verificationId",t)}function iu(t,e,n,r){return new Ii(t).Sa(e,n).then(function(t){return new ru(t,r)})}function ou(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function au(t){this.f=t,this.b=this.a=null,this.c=0}function su(t,e){var n=e[Vo],r=e.refreshToken;e=uu(e.expiresIn),t.b=n,t.c=e,t.a=r}function uu(t){return w()+1e3*parseInt(t,10)}function cu(t,e){this.a=t||null,this.b=e||null,Cr(this,{lastSignInTime:wr(e||null),creationTime:wr(t||null)})}function lu(t,e){for(var n in se.call(this,t),e)this[n]=e[n]}function hu(t,n,r){this.D=[],this.G=t.apiKey,this.s=t.appName,this.A=t.authDomain||null,t=e.SDK_VERSION?rr(e.SDK_VERSION):null,this.b=new Lo(this.G,ja(Ma),t),this.h=new au(this.b),vu(this,n[Vo]),su(this.h,n),Ir(this,"refreshToken",this.h.a),_u(this,r||{}),Oe.call(this),this.I=!1,this.A&&sr()&&(this.a=Js(this.A,this.G,this.s)),this.N=[],this.i=null,this.l=function(t){return new ou(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-w()-3e5;return 0<e?e:0})}(this),this.U=v(this.Ga,this);var i=this;this.ha=null,this.sa=function(t){i.na(t.h)},this.W=null,this.O=[],this.ra=function(t){du(i,t.f)},this.V=null}function fu(t,e){t.W&&_e(t.W,"languageCodeChanged",t.sa),(t.W=e)&&ve(e,"languageCodeChanged",t.sa)}function du(t,n){t.O=n,Wo(t.b,e.SDK_VERSION?rr(e.SDK_VERSION,t.O):null)}function pu(t,e){t.V&&_e(t.V,"frameworkChanged",t.ra),(t.V=e)&&ve(e,"frameworkChanged",t.ra)}function yu(t){try{return e.app(t.s).auth()}catch(e){throw new Nr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.s+"'!")}}function mu(t){t.m||t.l.b||(t.l.start(),_e(t,"tokenChanged",t.U),ve(t,"tokenChanged",t.U))}function gu(t){_e(t,"tokenChanged",t.U),t.l.stop()}function vu(t,e){t.qa=e,Ir(t,"_lat",e)}function bu(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return function(t){return new mt(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Zb:!0,value:o}:{Zb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)It(t[o],b(i,o,!0),b(i,o,!1));else e(r)})}(e).then(function(){return t})}function wu(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function _u(t,e){Cr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new cu(e.createdAt,e.lastLoginAt),providerData:[]})}function Eu(){}function Tu(t){return Tt().then(function(){if(t.m)throw new Nr("app-deleted")})}function Su(t){return M(t.providerData,function(t){return t.providerId})}function Iu(t,e){e&&(Cu(t,e.providerId),t.providerData.push(e))}function Cu(t,e){U(t.providerData,function(t){return t.providerId==e})}function Au(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Ir(t,e,n)}function ku(t,e){t!=e&&(Cr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),Ir(t,"metadata",e.metadata?function(t){return new cu(t.a,t.b)}(e.metadata):new cu),P(e.providerData,function(e){Iu(t,e)}),t.h=e.h,Ir(t,"refreshToken",t.h.a))}function Nu(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,e){return Ra(t.b,da,{idToken:e}).then(v(t.tc,t))}(t,e).then(function(){return n||Au(t,"isAnonymous",!1),e})})}function Ou(t,e){e[Vo]&&t.qa!=e[Vo]&&(su(t.h,e),t.dispatchEvent(new lu("tokenChanged")),vu(t,e[Vo]),Au(t,"refreshToken",t.h.a))}function xu(t,e){return Nu(t).then(function(){if(j(Su(t),e))return bu(t).then(function(){throw new Nr("provider-already-linked")})})}function Ru(t,e,n){return Ar({user:t,credential:Ai(e),additionalUserInfo:e=Jr(e),operationType:n})}function Du(t,e){return Ou(t,e),t.reload().then(function(){return t})}function Pu(t,n,r,i,o){if(!sr())return St(new Nr("operation-not-supported-in-this-environment"));if(t.i&&!o)return St(t.i);var a=Xr(r.providerId),s=pr(t.uid+":::"),u=null;(!lr()||Yn())&&t.A&&r.isOAuthProvider&&(u=Xa(t.A,t.G,t.s,n,r,null,s,e.SDK_VERSION||null));var c=Gn(u,a&&a.Aa,a&&a.za);return i=i().then(function(){if(Lu(t),!o)return t.F().then(function(){})}).then(function(){return Qs(t.a,c,n,r,s,!!u)}).then(function(){return new mt(function(e,r){t.fa(n,null,new Nr("cancelled-popup-request"),t.g||null),t.f=e,t.v=r,t.g=s,t.c=t.a.Da(t,n,c,s)})}).then(function(t){return c&&Wn(c),t?Ar(t):null}).o(function(t){throw c&&Wn(c),t}),ju(t,i,o)}function Mu(t,e,n,r,i){if(!sr())return St(new Nr("operation-not-supported-in-this-environment"));if(t.i&&!i)return St(t.i);var o=null,a=pr(t.uid+":::");return r=r().then(function(){if(Lu(t),!i)return t.F().then(function(){})}).then(function(){return t.Z=a,bu(t)}).then(function(e){return t.da&&(e=(e=t.da).b.set(Uu,t.C(),e.a)),e}).then(function(){return t.a.Ba(e,n,a)}).o(function(e){if(o=e,t.da)return Fu(t.da);throw o}).then(function(){if(o)throw o}),ju(t,r,i)}function Lu(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Nr("internal-error");throw new Nr("auth-domain-config-required")}}function ju(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),St(t.i)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new lu("userInvalidated")),t.i=e),e})}(t,e,n);return t.D.push(r),r.ga(function(){V(t.D,r)}),r}function Vu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Vo]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-w())/1e3;var r=new hu(e,n,t);return t.providerData&&P(t.providerData,function(t){t&&Iu(r,Ar(t))}),t.redirectEventId&&(r.Z=t.redirectEventId),r}Zs.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Zs.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.b,r=t.c;"unknown"!=n||t.a&&"auth/web-storage-unsupported"==t.a.code||t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code?t.a?(eu(this,!0,null,t.a),Tt()):e.wa(n,r)?function(t,e,n){n=n.wa(e.b,e.c);var r=e.f,i=e.g,o=!!e.b.match(/Redirect$/);n(r,i).then(function(e){eu(t,o,e,null)}).o(function(e){eu(t,o,null,e)})}(this,t,e):St(new Nr("invalid-auth-event")):(eu(this,!1,null,null),Tt())}else St(new Nr("invalid-auth-event"))},Zs.prototype.ba=function(){var t=this;return new mt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Nr("timeout");t.a&&t.a.cancel(),t.a=Me(zs.get()).then(function(){t.b||eu(t,!0,null,e)})}(t))})},nu.prototype.h=function(t,e){if(t){var n=t.b,r=t.c;t.a?(e.fa(t.b,null,t.a,t.c),Tt()):e.wa(n,r)?function(t,e){var n=t.c,r=t.b;e.wa(r,n)(t.f,t.g).then(function(t){e.fa(r,t,null,n)}).o(function(t){e.fa(r,null,t,n)})}(t,e):St(new Nr("invalid-auth-event"))}else St(new Nr("invalid-auth-event"))},ru.prototype.confirm=function(t){return t=Ci(this.verificationId,t),this.a(t)},ou.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Me(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(function(){return t=i.document,e=null,br()||!t?Tt():new mt(function(n){t.addEventListener("visibilitychange",e=function(){br()&&(t.removeEventListener("visibilitychange",e,!1),n())},!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).o(function(n){e.i(n)&&t(e,!1)})}(this,!0)},ou.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},au.prototype.C=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},au.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?St(new Nr("user-token-expired")):t||!this.b||w()>this.c-3e4?this.a?function(t,e){return function(t,e){return new mt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Go(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(Pa(t)):t.access_token&&t.refresh_token?n(t):r(new Nr("internal-error")):r(new Nr("network-request-failed"))},"POST",sn(e).toString(),t.f,t.l.get()):r(new Nr("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=uu(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Tt(null):Tt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},cu.prototype.C=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(lu,se),_(hu,Oe),hu.prototype.na=function(t){this.ha=t,Ho(this.b,t)},hu.prototype.aa=function(){return this.ha},hu.prototype.Ka=function(){return B(this.O)},hu.prototype.Ga=function(){this.l.b&&(this.l.stop(),this.l.start())},Ir(hu.prototype,"providerId","firebase"),(t=hu.prototype).reload=function(){var t=this;return ju(this,Tu(this).then(function(){return Nu(t).then(function(){return bu(t)}).then(Eu)}))},t.F=function(t){var e=this;return ju(this,Tu(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Nr("internal-error");return t.accessToken!=e.qa&&(vu(e,t.accessToken),e.dispatchEvent(new lu("tokenChanged"))),Au(e,"refreshToken",t.refreshToken),t.accessToken}))},t.getToken=function(t){return Tr["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(Tr["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.F(t)},t.tc=function(t){if(!(t=t.users)||!t.length)throw new Nr("internal-error");_u(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?M(t,function(t){return new function(t,e,n,r,i,o){Cr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Iu(this,e[n]);Au(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.bb=function(t){var e=this,n=null;return ju(this,t.f(this.b,this.uid).then(function(t){return Ou(e,t),n=Ru(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.uc=function(t){return this.bb(t).then(function(){})},t.$a=function(t){var e=this,n=null;return ju(this,xu(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.c(e.b,n)}).then(function(t){return n=Ru(e,t,"link"),Du(e,t)}).then(function(){return n}))},t.kc=function(t){return this.$a(t).then(function(t){return t.user})},t.mc=function(t,e){var n=this;return ju(this,xu(this,"phone").then(function(){return iu(yu(n),t,e,v(n.$a,n))}))},t.vc=function(t,e){var n=this;return ju(this,Tt().then(function(){return iu(yu(n),t,e,v(n.bb,n))}),!0)},t.mb=function(t){var e=this;return ju(this,this.F().then(function(n){return e.b.mb(n,t)}).then(function(t){return Ou(e,t),e.reload()}))},t.Mc=function(t){var e=this;return ju(this,this.F().then(function(n){return t.c(e.b,n)}).then(function(t){return Ou(e,t),e.reload()}))},t.nb=function(t){var e=this;return ju(this,this.F().then(function(n){return e.b.nb(n,t)}).then(function(t){return Ou(e,t),e.reload()}))},t.ob=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Tu(this);var e=this;return ju(this,this.F().then(function(n){return e.b.ob(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Ou(e,t),Au(e,"displayName",t.displayName||null),Au(e,"photoURL",t.photoUrl||null),P(e.providerData,function(t){"password"===t.providerId&&(Ir(t,"displayName",e.displayName),Ir(t,"photoURL",e.photoURL))}),bu(e)}).then(Eu))},t.Lc=function(t){var e=this;return ju(this,Nu(this).then(function(n){return j(Su(e),t)?function(t,e,n){return Ra(t,la,{idToken:e,deleteProvider:n})}(e.b,n,[t]).then(function(t){var n={};return P(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),P(Su(e),function(t){n[t]||Cu(e,t)}),n[Ii.PROVIDER_ID]||Ir(e,"phoneNumber",null),bu(e)}):bu(e).then(function(){throw new Nr("no-such-provider")})}))},t.delete=function(){var t=this;return ju(this,this.F().then(function(e){return Ra(t.b,ca,{idToken:e})}).then(function(){t.dispatchEvent(new lu("userDeleted"))})).then(function(){for(var e=0;e<t.D.length;e++)t.D[e].cancel("app-deleted");fu(t,null),pu(t,null),t.D=[],t.m=!0,gu(t),Ir(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},t.qb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.Z||null)==e||"reauthViaRedirect"==t&&(this.Z||null)==e)},t.fa=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?v(this.vb,this):"reauthViaPopup"==t&&e==(this.g||null)?v(this.wb,this):"linkViaRedirect"==t&&(this.Z||null)==e?v(this.vb,this):"reauthViaRedirect"==t&&(this.Z||null)==e?v(this.wb,this):null},t.nc=function(t){var e=this;return Pu(this,"linkViaPopup",t,function(){return xu(e,t.providerId).then(function(){return bu(e)})},!1)},t.wc=function(t){return Pu(this,"reauthViaPopup",t,function(){return Tt()},!0)},t.oc=function(t){var e=this;return Mu(this,"linkViaRedirect",t,function(){return xu(e,t.providerId)},!1)},t.xc=function(t){return Mu(this,"reauthViaRedirect",t,function(){return Tt()},!0)},t.vb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return ju(this,this.F().then(function(r){return na(n.b,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=Ru(n,t,"link"),Du(n,t)}).then(function(){return r}))},t.wb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return ju(this,Tt().then(function(){return ai(ra(n.b,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return r=Ru(n,t,"reauthenticate"),Ou(n,t),n.i=null,n.reload()}).then(function(){return r}),!0)},t.fb=function(t){var e=this,n=null;return ju(this,this.F().then(function(e){return n=e,"undefined"==typeof t||ot(t)?{}:qr(new Dr(t))}).then(function(t){return e.b.fb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.C()},t.C=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.G,appName:this.s,authDomain:this.A,stsTokenManager:this.h.C(),redirectEventId:this.Z||null};return this.metadata&&lt(t,this.metadata.C()),P(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var Uu={name:"redirectUser",B:"session"};function Fu(t){return ws(t.b,Uu,t.a)}function Bu(t){this.a=t,this.b=gs(),this.c=null,this.f=function(t){var e=Wu("local"),n=Wu("session"),r=Wu("none");return function(t,e,n){var r=bs(e,n),o=vs(t,e.B);return t.get(e,n).then(function(a){var s=null;try{s=dr(i.localStorage.getItem(r))}catch(t){}if(s&&!a)return i.localStorage.removeItem(r),t.set(e,s,n);s&&a&&"localStorage"!=o.type&&i.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Hu,t.a).then(function(t){return t?Wu(t):e})})})}).then(function(e){return t.c=e,qu(t,e.B)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Wu("local"),this.a,v(this.g,this))}function qu(t,e){var n,r=[];for(n in ys)ys[n]!==e&&r.push(ws(t.b,Wu(ys[n]),t.a));return r.push(ws(t.b,Hu,t.a)),function(t){return new mt(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)It(t[s],b(o,s),a);else e(i)})}(r)}Bu.prototype.g=function(){var t=this,e=Wu("local");Qu(this,function(){return Tt().then(function(){return t.c&&"local"!=t.c.B?t.b.get(e,t.a):null}).then(function(n){if(n)return qu(t,"local").then(function(){t.c=e})})})};var Hu={name:"persistence",B:"session"};function Wu(t){return{name:"authUser",B:t}}function Gu(t,e){return Qu(t,function(){return t.b.set(t.c,e.C(),t.a)})}function Ku(t){return Qu(t,function(){return ws(t.b,t.c,t.a)})}function zu(t,e){return Qu(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Vu(t||{})})})}function Qu(t,e){return t.f=t.f.then(e,e),t.f}function Yu(t){if(this.l=!1,Ir(this,"app",t),!nc(this).options||!nc(this).options.apiKey)throw new Nr("invalid-api-key");t=e.SDK_VERSION?rr(e.SDK_VERSION):null,this.b=new Lo(nc(this).options&&nc(this).options.apiKey,ja(Ma),t),this.N=[],this.m=[],this.I=[],this.Ob=e.INTERNAL.createSubscribe(v(this.hc,this)),this.O=void 0,this.Pb=e.INTERNAL.createSubscribe(v(this.ic,this)),tc(this,null),this.h=new Bu(nc(this).options.apiKey+":"+nc(this).name),this.G=new function(t){this.a=t,this.b=gs()}(nc(this).options.apiKey+":"+nc(this).name),this.U=ac(this,function(t){var e=nc(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Uu,t.a).then(function(t){return t&&e&&(t.authDomain=e),Vu(t||{})})}(t.G,nc(t).options.authDomain).then(function(e){return(t.A=e)&&(e.da=t.G),Fu(t.G)});return ac(t,e)}(t).then(function(){return zu(t.h,e)}).then(function(e){return e?(e.da=t.G,t.A&&(t.A.Z||null)==(e.Z||null)?e:e.reload().then(function(){return Gu(t.h,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Ku(t.h)})):null}).then(function(e){tc(t,e||null)});return ac(t,n)}(this)),this.i=ac(this,function(t){return t.U.then(function(){return t.ba()}).o(function(){}).then(function(){if(!t.l)return t.ha()}).o(function(){}).then(function(){if(!t.l){t.W=!0;var e=t.h;e.b.addListener(Wu("local"),e.a,t.ha)}})}(this)),this.W=!1,this.ha=v(this.Hc,this),this.Ga=v(this.ka,this),this.qa=v(this.Yb,this),this.ra=v(this.fc,this),this.sa=v(this.gc,this),function(t){var e=nc(t).options.authDomain,n=nc(t).options.apiKey;e&&sr()&&(t.Nb=t.U.then(function(){if(!t.l){if(t.a=Js(e,n,nc(t).name),t.a.subscribe(t),rc(t)&&wu(rc(t)),t.A){wu(t.A);var r=t.A;r.na(t.aa()),fu(r,t),du(r=t.A,t.D),pu(r,t),t.A=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=v(this.delete,this),this.INTERNAL.logFramework=v(this.pc,this),this.s=0,Oe.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.aa()},set:function(t){this.na(t)},enumerable:!1}),t.V=null}(this),this.D=[]}function Xu(t){se.call(this,"languageCodeChanged"),this.h=t}function Ju(t){se.call(this,"frameworkChanged"),this.f=t}function Zu(t){return t.Nb||St(new Nr("auth-domain-config-required"))}function $u(t,e){var n={};return n.apiKey=nc(t).options.apiKey,n.authDomain=nc(t).options.authDomain,n.appName=nc(t).name,t.U.then(function(){return function(t,e,n,r){var i=new hu(t,e);return n&&(i.da=n),r&&du(i,r),i.reload().then(function(){return i})}(n,e,t.G,t.Ka())}).then(function(e){return rc(t)&&e.uid==rc(t).uid?(ku(rc(t),e),t.ka(e)):(tc(t,e),wu(e),t.ka(e))}).then(function(){oc(t)})}function tc(t,e){rc(t)&&(function(t,e){U(t.N,function(t){return t==e})}(rc(t),t.Ga),_e(rc(t),"tokenChanged",t.qa),_e(rc(t),"userDeleted",t.ra),_e(rc(t),"userInvalidated",t.sa),gu(rc(t))),e&&(e.N.push(t.Ga),ve(e,"tokenChanged",t.qa),ve(e,"userDeleted",t.ra),ve(e,"userInvalidated",t.sa),0<t.s&&mu(e)),Ir(t,"currentUser",e),e&&(e.na(t.aa()),fu(e,t),du(e,t.D),pu(e,t))}function ec(t,e){var n=null,r=null;return ac(t,e.then(function(e){return n=Ai(e),r=Jr(e),$u(t,e)}).then(function(){return Ar({user:rc(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function nc(t){return t.app}function rc(t){return t.currentUser}function ic(t){return rc(t)&&rc(t)._lat||null}function oc(t){if(t.W){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](ic(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](ic(t))}}function ac(t,e){return t.N.push(e),e.ga(function(){V(t.N,e)}),e}function sc(t,e,n,r,o,a){if(Ir(this,"type","recaptcha"),this.b=this.c=null,this.m=!1,this.l=e,this.a=n||{theme:"light",type:"image"},this.g=[],this.a[lc])throw new Nr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[hc],!i.document)throw new Nr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Rn(e)||!this.h&&Rn(e).hasChildNodes())throw new Nr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Lo(t,a||null,o||null),this.s=r||function(){return null};var s=this;this.i=[];var u=this.a[uc];this.a[uc]=function(t){if(fc(s,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=or(u,i);"function"==typeof e&&e(t)}};var c=this.a[cc];this.a[cc]=function(){if(fc(s,null),"function"==typeof c)c();else if("string"==typeof c){var t=or(c,i);"function"==typeof t&&t()}}}Bu.prototype.ib=function(t){var e=null,n=this;return function(t){var e=new Nr("invalid-persistence-type"),n=new Nr("unsupported-persistence-type");t:{for(r in ys)if(ys[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Jn()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!ar()&&"none"!==t)throw n}}(t),Qu(this,function(){return t!=n.c.B?n.b.get(n.c,n.a).then(function(r){return e=r,qu(n,t)}).then(function(){if(n.c=Wu(t),e)return n.b.set(n.c,e,n.a)}):Tt()})},_(Yu,Oe),_(Xu,se),_(Ju,se),(t=Yu.prototype).ib=function(t){return ac(this,t=this.h.ib(t))},t.na=function(t){this.V===t||this.l||(this.V=t,Ho(this.b,this.V),this.dispatchEvent(new Xu(this.aa())))},t.aa=function(){return this.V},t.Nc=function(){var t=i.navigator;this.na(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.pc=function(t){this.D.push(t),Wo(this.b,e.SDK_VERSION?rr(e.SDK_VERSION,this.D):null),this.dispatchEvent(new Ju(this.D))},t.Ka=function(){return B(this.D)},t.toJSON=function(){return{apiKey:nc(this).options.apiKey,authDomain:nc(this).options.authDomain,appName:nc(this).name,currentUser:rc(this)&&rc(this).C()}},t.qb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.fa=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?v(this.Xb,this):null},t.Xb=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var r=null,i=null,o=ea(n.b,t).then(function(t){return r=Ai(t),i=Jr(t),t});return ac(this,t=n.U.then(function(){return o}).then(function(t){return $u(n,t)}).then(function(){return Ar({user:rc(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}))},t.Fc=function(t){if(!sr())return St(new Nr("operation-not-supported-in-this-environment"));var n=this,r=Xr(t.providerId),i=pr(),o=null;(!lr()||Yn())&&nc(this).options.authDomain&&t.isOAuthProvider&&(o=Xa(nc(this).options.authDomain,nc(this).options.apiKey,nc(this).name,"signInViaPopup",t,null,i,e.SDK_VERSION||null));var a=Gn(o,r&&r.Aa,r&&r.za);return ac(this,r=Zu(this).then(function(e){return Qs(e,a,"signInViaPopup",t,i,!!o)}).then(function(){return new mt(function(t,e){n.fa("signInViaPopup",null,new Nr("cancelled-popup-request"),n.g),n.f=t,n.v=e,n.g=i,n.c=n.a.Da(n,"signInViaPopup",a,i)})}).then(function(t){return a&&Wn(a),t?Ar(t):null}).o(function(t){throw a&&Wn(a),t}))},t.Gc=function(t){if(!sr())return St(new Nr("operation-not-supported-in-this-environment"));var e=this;return ac(this,Zu(this).then(function(){return Qu(t=e.h,function(){return t.b.set(Hu,t.c.B,t.a)});var t}).then(function(){return e.a.Ba("signInViaRedirect",t)}))},t.ba=function(){if(!sr())return St(new Nr("operation-not-supported-in-this-environment"));var t=this;return ac(this,Zu(this).then(function(){return t.a.ba()}).then(function(t){return t?Ar(t):null}))},t.kb=function(){var t=this;return ac(this,this.i.then(function(){return rc(t)?(tc(t,null),Ku(t.h).then(function(){oc(t)})):Tt()}))},t.Hc=function(){var t=this;return zu(this.h,nc(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=rc(t)&&e){n=rc(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return ku(rc(t),e),rc(t).F();(rc(t)||e)&&(tc(t,e),e&&(wu(e),e.da=t.G),t.a&&t.a.subscribe(t),oc(t))}})},t.ka=function(t){return Gu(this.h,t)},t.Yb=function(){oc(this),this.ka(rc(this))},t.fc=function(){this.kb()},t.gc=function(){this.kb()},t.hc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(rc(e))})},t.ic=function(t){var e=this;!function(t,e){t.I.push(e),ac(t,t.i.then(function(){!t.l&&j(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(ic(t)))}))}(this,function(){t.next(rc(e))})},t.rc=function(t,n,r){var i=this;return this.W&&e.Promise.resolve().then(function(){f(t)?t(rc(i)):f(t.next)&&t.next(rc(i))}),this.Ob(t,n,r)},t.qc=function(t,n,r){var i=this;return this.W&&e.Promise.resolve().then(function(){i.O=i.getUid(),f(t)?t(rc(i)):f(t.next)&&t.next(rc(i))}),this.Pb(t,n,r)},t.$b=function(t){var e=this;return ac(this,this.i.then(function(){return rc(e)?rc(e).F(t).then(function(t){return{accessToken:t}}):null}))},t.Bc=function(t){return this.Hb(t).then(function(t){return t.user})},t.Hb=function(t){var e=this;return this.i.then(function(){return ec(e,Ra(e.b,Aa,{token:t}))}).then(function(t){var n=t.user;return Au(n,"isAnonymous",!1),e.ka(n),t})},t.Ib=function(t,e){var n=this;return this.i.then(function(){return ec(n,Ra(n.b,ka,{email:t,password:e}))})},t.Cc=function(t,e){return this.Ib(t,e).then(function(t){return t.user})},t.Sb=function(t,e){return this.sb(t,e).then(function(t){return t.user})},t.sb=function(t,e){var n=this;return this.i.then(function(){return ec(n,Ra(n.b,sa,{email:t,password:e}))})},t.Ac=function(t){return this.Oa(t).then(function(t){return t.user})},t.Oa=function(t){var e=this;return this.i.then(function(){return ec(e,t.xa(e.b))})},t.jb=function(){return this.Jb().then(function(t){return t.user})},t.Jb=function(){var t=this;return this.i.then(function(){var e=rc(t);return e&&e.isAnonymous?Ar({user:e,credential:null,additionalUserInfo:Ar({providerId:null,isNewUser:!1}),operationType:"signIn"}):ec(t,t.b.jb()).then(function(e){var n=e.user;return Au(n,"isAnonymous",!0),t.ka(n),e})})},t.getUid=function(){return rc(this)&&rc(this).uid||null},t.Qb=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&rc(this)&&mu(rc(this))},t.yc=function(t){var e=this;P(this.m,function(n){n==t&&e.s--}),0>this.s&&(this.s=0),0==this.s&&rc(this)&&gu(rc(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),ac(this,this.i.then(function(){e.l||j(e.m,t)&&t(ic(e))}))},t.removeAuthTokenListener=function(t){U(this.m,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener(Wu("local"),t.a,this.ha),this.a&&this.a.unsubscribe(this),e.Promise.resolve()},t.Vb=function(t){return ac(this,function(t,e){return Ra(t,ua,{identifier:e,continueUri:ur()?Bn():"http://localhost"}).then(function(t){return t.allProviders||[]})}(this.b,t))},t.Wb=function(t){return ac(this,function(t,e){return Ra(t,ua,{identifier:e,continueUri:ur()?Bn():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.jc=function(t){return!!Ei(t)},t.hb=function(t,e){var n=this;return ac(this,Tt().then(function(){var t=new Dr(e);if(!t.c)throw new Nr("argument-error",Mr+" must be true when sending sign in link to email");return qr(t)}).then(function(e){return n.b.hb(t,e)}).then(function(){}))},t.Oc=function(t){return this.Ia(t).then(function(t){return t.data.email})},t.Wa=function(t,e){return ac(this,this.b.Wa(t,e).then(function(){}))},t.Ia=function(t){return ac(this,this.b.Ia(t).then(function(t){return new function(t){var e={},n=t.email,r=t.newEmail;if(!(t=t.requestType)||"EMAIL_SIGNIN"!=t&&!n)throw Error("Invalid provider user info!");e.fromEmail=r||null,e.email=n||null,Ir(this,"operation",t),Ir(this,"data",kr(e))}(t)}))},t.Ua=function(t){return ac(this,this.b.Ua(t).then(function(){}))},t.gb=function(t,e){var n=this;return ac(this,Tt().then(function(){return"undefined"==typeof e||ot(e)?{}:qr(new Dr(e))}).then(function(e){return n.b.gb(t,e)}).then(function(){}))},t.Ec=function(t,e){return ac(this,iu(this,t,e,v(this.Oa,this)))},t.Dc=function(t,e){var n=this;return ac(this,Tt().then(function(){var r=_i(t,e||Bn());return n.Oa(r)}))};var uc="callback",cc="expired-callback",lc="sitekey",hc="size";function fc(t,e){for(var n=0;n<t.i.length;n++)try{t.i[n](e)}catch(t){}}function dc(t,e){return t.g.push(e),e.ga(function(){V(t.g,e)}),e}function pc(t){if(t.m)throw new Nr("internal-error","RecaptchaVerifier instance has been destroyed.")}(t=sc.prototype).ya=function(){var t=this;return this.c?this.c:this.c=dc(this,Tt().then(function(){if(ur()&&!Xn())return zn();throw new Nr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return function(t,e){return new mt(function(n,r){gr()?!i.grecaptcha||e!==t.c&&!t.b?(i[t.a]=function(){if(i.grecaptcha){t.c=e;var o=i.grecaptcha.render;i.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},n()}else r(new Nr("internal-error"));delete i[t.a]},Tt(No(bn(yc,{onload:t.a,hl:e||""}))).o(function(){r(new Nr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):n():r(new Nr("network-request-failed"))})}(gc(),t.s())}).then(function(){return Ra(t.u,va,{})}).then(function(e){t.a[lc]=e.recaptchaSiteKey}).o(function(e){throw t.c=null,e}))},t.render=function(){pc(this);var t=this;return dc(this,this.ya().then(function(){if(null===t.b){var e=t.l;if(!t.h){var n=Rn(e);e=function(t,e,n){var r=arguments,i=document,a=String(r[0]),s=r[1];if(!fn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',W(s.name),'"'),s.type){a.push(' type="',W(s.type),'"');var u={};lt(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=i.createElement(a),s&&(o(s)?a.className=s:l(s)?a.className=s.join(" "):Dn(a,s)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(o(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var a=n[i];!h(a)||d(a)&&0<a.nodeType?r(a):P(Mn(a)?B(a):a,r)}}(i,a,r),a}("DIV"),n.appendChild(e)}t.b=grecaptcha.render(e,t.a)}return t.b}))},t.verify=function(){pc(this);var t=this;return dc(this,this.render().then(function(e){return new mt(function(n){var r=grecaptcha.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){U(t.i,function(t){return t==e})}(t,i),n(e))};t.i.push(i),t.h&&grecaptcha.execute(t.b)}})}))},t.reset=function(){pc(this),null!==this.b&&grecaptcha.reset(this.b)},t.clear=function(){pc(this),this.m=!0,gc().b--;for(var t=0;t<this.g.length;t++)this.g[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=Rn(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}};var yc=mn("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),mc=null;function gc(){return mc||(mc=new function(){this.b=i.grecaptcha?1/0:0,this.c=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}),mc}function vc(t,n,r){try{this.f=r||e.app()}catch(t){throw new Nr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.f.options||!this.f.options.apiKey)throw new Nr("invalid-api-key");r=this.f.options.apiKey;var i=this,o=null;try{o=this.f.auth().Ka()}catch(t){}o=e.SDK_VERSION?rr(e.SDK_VERSION,o):null,sc.call(this,r,t,n,function(){try{var t=i.f.auth().aa()}catch(e){t=null}return t},o,ja(Ma))}function bc(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Nr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=wc.length)throw new Nr("internal-error","Argument validator received an unsupported number of arguments.");n=wc[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new Nr("argument-error",t+" failed: "+r)}_(vc,sc);var wc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function _c(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:o}}function Ec(){return{name:"opt_forceRefresh",K:"a boolean",optional:!0,M:a}}function Tc(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:d}}function Sc(t,e){return{name:t||"",K:"a function",optional:!!e,M:f}}function Ic(t,e){return{name:t||"",K:"null",optional:!!e,M:c}}function Cc(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.xa||t&&e.providerId!==t)}}}function Ac(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&o(t.type)&&f(t.verify))}}}function kc(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Nc(t,e){for(var n in e){var r=e[n].name;t[r]=xc(r,t[n],e[n].j)}}function Oc(t,e,n,r){t[e]=xc(e,n,r)}function xc(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return bc(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Nc(Yu.prototype,{Ua:{name:"applyActionCode",j:[_c("code")]},Ia:{name:"checkActionCode",j:[_c("code")]},Wa:{name:"confirmPasswordReset",j:[_c("code"),_c("newPassword")]},Sb:{name:"createUserWithEmailAndPassword",j:[_c("email"),_c("password")]},sb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[_c("email"),_c("password")]},Vb:{name:"fetchProvidersForEmail",j:[_c("email")]},Wb:{name:"fetchSignInMethodsForEmail",j:[_c("email")]},ba:{name:"getRedirectResult",j:[]},jc:{name:"isSignInWithEmailLink",j:[_c("emailLink")]},qc:{name:"onAuthStateChanged",j:[kc(Tc(),Sc(),"nextOrObserver"),Sc("opt_error",!0),Sc("opt_completed",!0)]},rc:{name:"onIdTokenChanged",j:[kc(Tc(),Sc(),"nextOrObserver"),Sc("opt_error",!0),Sc("opt_completed",!0)]},gb:{name:"sendPasswordResetEmail",j:[_c("email"),kc(Tc("opt_actionCodeSettings",!0),Ic(null,!0),"opt_actionCodeSettings",!0)]},hb:{name:"sendSignInLinkToEmail",j:[_c("email"),Tc("actionCodeSettings")]},ib:{name:"setPersistence",j:[_c("persistence")]},Oa:{name:"signInAndRetrieveDataWithCredential",j:[Cc()]},jb:{name:"signInAnonymously",j:[]},Jb:{name:"signInAnonymouslyAndRetrieveData",j:[]},Ac:{name:"signInWithCredential",j:[Cc()]},Bc:{name:"signInWithCustomToken",j:[_c("token")]},Hb:{name:"signInAndRetrieveDataWithCustomToken",j:[_c("token")]},Cc:{name:"signInWithEmailAndPassword",j:[_c("email"),_c("password")]},Dc:{name:"signInWithEmailLink",j:[_c("email"),_c("emailLink",!0)]},Ib:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[_c("email"),_c("password")]},Ec:{name:"signInWithPhoneNumber",j:[_c("phoneNumber"),Ac()]},Fc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Gc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},kb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[_c(null,!0)]},Nc:{name:"useDeviceLanguage",j:[]},Oc:{name:"verifyPasswordResetCode",j:[_c("code")]}}),function(t,e){for(var n in e){var r=e[n].name;if(r!==n){var i=e[n].Rb;Object.defineProperty(t,r,{get:function(){return this[n]},set:function(t){bc(r,[i],[t],!0),this[n]=t},enumerable:!0})}}}(Yu.prototype,{lc:{name:"languageCode",Rb:kc(_c(),Ic(),"languageCode")}}),(Yu.Persistence=ys).LOCAL="local",Yu.Persistence.SESSION="session",Yu.Persistence.NONE="none",Nc(hu.prototype,{delete:{name:"delete",j:[]},F:{name:"getIdToken",j:[Ec()]},getToken:{name:"getToken",j:[Ec()]},$a:{name:"linkAndRetrieveDataWithCredential",j:[Cc()]},kc:{name:"linkWithCredential",j:[Cc()]},mc:{name:"linkWithPhoneNumber",j:[_c("phoneNumber"),Ac()]},nc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},oc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Cc()]},uc:{name:"reauthenticateWithCredential",j:[Cc()]},vc:{name:"reauthenticateWithPhoneNumber",j:[_c("phoneNumber"),Ac()]},wc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},xc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},fb:{name:"sendEmailVerification",j:[kc(Tc("opt_actionCodeSettings",!0),Ic(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[_c(null,!0)]},Lc:{name:"unlink",j:[_c("provider")]},mb:{name:"updateEmail",j:[_c("email")]},nb:{name:"updatePassword",j:[_c("password")]},Mc:{name:"updatePhoneNumber",j:[Cc("phone")]},ob:{name:"updateProfile",j:[Tc("profile")]}}),Nc(mt.prototype,{ga:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Nc(ru.prototype,{confirm:{name:"confirm",j:[_c("verificationCode")]}}),Oc(wi,"credential",function(t,e){return new bi(t,e)},[_c("email"),_c("password")]),Nc(hi.prototype,{ta:{name:"addScope",j:[_c("scope")]},Ca:{name:"setCustomParameters",j:[Tc("customOAuthParameters")]}}),Oc(hi,"credential",fi,[kc(_c(),Tc(),"token")]),Oc(wi,"credentialWithLink",_i,[_c("email"),_c("emailLink")]),Nc(di.prototype,{ta:{name:"addScope",j:[_c("scope")]},Ca:{name:"setCustomParameters",j:[Tc("customOAuthParameters")]}}),Oc(di,"credential",pi,[kc(_c(),Tc(),"token")]),Nc(yi.prototype,{ta:{name:"addScope",j:[_c("scope")]},Ca:{name:"setCustomParameters",j:[Tc("customOAuthParameters")]}}),Oc(yi,"credential",mi,[kc(_c(),kc(Tc(),Ic()),"idToken"),kc(_c(),Ic(),"accessToken",!0)]),Nc(gi.prototype,{Ca:{name:"setCustomParameters",j:[Tc("customOAuthParameters")]}}),Oc(gi,"credential",vi,[kc(_c(),Tc(),"token"),_c("secret",!0)]),Nc(li.prototype,{ta:{name:"addScope",j:[_c("scope")]},credential:{name:"credential",j:[kc(_c(),Ic(),"idToken",!0),kc(_c(),Ic(),"accessToken",!0)]},Ca:{name:"setCustomParameters",j:[Tc("customOAuthParameters")]}}),Oc(Ii,"credential",Ci,[_c("verificationId"),_c("verificationCode")]),Nc(Ii.prototype,{Sa:{name:"verifyPhoneNumber",j:[_c("phoneNumber"),Ac()]}}),Nc(Nr.prototype,{toJSON:{name:"toJSON",j:[_c(null,!0)]}}),Nc(Pi.prototype,{toJSON:{name:"toJSON",j:[_c(null,!0)]}}),Nc(Di.prototype,{toJSON:{name:"toJSON",j:[_c(null,!0)]}}),Nc(vc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if("undefined"==typeof e||!e.INTERNAL||!e.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:Yu,Error:Nr};Oc(t,"EmailAuthProvider",wi,[]),Oc(t,"FacebookAuthProvider",hi,[]),Oc(t,"GithubAuthProvider",di,[]),Oc(t,"GoogleAuthProvider",yi,[]),Oc(t,"TwitterAuthProvider",gi,[]),Oc(t,"OAuthProvider",li,[_c("providerId")]),Oc(t,"PhoneAuthProvider",Ii,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Yu)}}]),Oc(t,"RecaptchaVerifier",vc,[kc(_c(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Tc("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof e.app.App)}}]),e.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:v((t=new Yu(t)).getUid,t),getToken:v(t.$b,t),addAuthTokenListener:v(t.Qb,t),removeAuthTokenListener:v(t.yc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),e.INTERNAL.extendNamespace({User:hu})}()}).call("undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(e,n("DuR2"))},VwZZ:function(t,e,n){"use strict";var r,i=n("BX3T"),o=n("dgOU"),a=n("/iUD"),s={e:{}};function u(){try{return r.apply(this,arguments)}catch(t){return s.e=t,s}}function c(t){return r=t,u}var l=n("TToO"),h=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return Object(l.__extends)(e,t),e}(Error);n.d(e,"a",function(){return f});var f=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,u=this._unsubscribe,l=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var f=-1,p=r?r.length:0;n;)n.remove(this),n=++f<p&&r[f]||null;if(Object(a.a)(u)&&c(u).call(this)===s&&(e=!0,t=t||(s.e instanceof h?d(s.e.errors):[s.e])),Object(i.a)(l))for(f=-1,p=l.length;++f<p;){var y=l[f];if(Object(o.a)(y)&&c(y.unsubscribe).call(y)===s){e=!0,t=t||[];var m=s.e;m instanceof h?t=t.concat(d(m.errors)):t.push(m)}}if(e)throw new h(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function d(t){return t.reduce(function(t,e){return t.concat(e instanceof h?e.errors:e)},[])}},WT6e:function(t,e,n){"use strict";(function(t){n.d(e,"g",function(){return $t}),n.d(e,"N",function(){return Kt}),n.d(e,"P",function(){return zt}),n.d(e,"M",function(){return Yt}),n.d(e,"v",function(){return Qt}),n.d(e,"c",function(){return ot}),n.d(e,"z",function(){return ut}),n.d(e,"y",function(){return ct}),n.d(e,"b",function(){return lt}),n.d(e,"d",function(){return rt}),n.d(e,"e",function(){return it}),n.d(e,"O",function(){return ve}),n.d(e,"H",function(){return Vt}),n.d(e,"R",function(){return Ft}),n.d(e,"r",function(){return Be}),n.d(e,"f",function(){return Ge}),n.d(e,"l",function(){return Ot}),n.d(e,"k",function(){return tt}),n.d(e,"C",function(){return ze}),n.d(e,"D",function(){return Ke}),n.d(e,"a",function(){return f}),n.d(e,"K",function(){return d}),n.d(e,"I",function(){return p}),n.d(e,"o",function(){return P}),n.d(e,"n",function(){return c}),n.d(e,"m",function(){return m}),n.d(e,"x",function(){return g}),n.d(e,"E",function(){return b}),n.d(e,"w",function(){return xt}),n.d(e,"A",function(){return ee}),n.d(e,"B",function(){return ne}),n.d(e,"i",function(){return dt}),n.d(e,"j",function(){return _t}),n.d(e,"s",function(){return It}),n.d(e,"u",function(){return St}),n.d(e,"t",function(){return ie}),n.d(e,"F",function(){return ue}),n.d(e,"G",function(){return ae}),n.d(e,"J",function(){return he}),n.d(e,"h",function(){return fe}),n.d(e,"p",function(){return Me}),n.d(e,"q",function(){return Le}),n.d(e,"L",function(){return _e}),n.d(e,"Q",function(){return Fe}),n.d(e,"_1",function(){return Te}),n.d(e,"T",function(){return ht}),n.d(e,"S",function(){return Et}),n.d(e,"Z",function(){return E}),n.d(e,"_9",function(){return k}),n.d(e,"_2",function(){return nt}),n.d(e,"_3",function(){return et}),n.d(e,"U",function(){return er}),n.d(e,"V",function(){return Ji}),n.d(e,"W",function(){return hn}),n.d(e,"X",function(){return Tr}),n.d(e,"Y",function(){return jn}),n.d(e,"_4",function(){return Kn}),n.d(e,"_5",function(){return Gn}),n.d(e,"_10",function(){return qr}),n.d(e,"_11",function(){return Gr}),n.d(e,"_6",function(){return qe}),n.d(e,"_7",function(){return He}),n.d(e,"_8",function(){return We}),n.d(e,"_0",function(){return at});var r=n("TToO"),i=n("YaPU"),o=n("/nXB"),a=n("Rf9G"),s=n("g5jc"),u=n("VwZZ"),c=function(){function t(t){this._desc=t,this.ngMetadataName="InjectionToken"}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),l="__paramaters__";function h(t,e,n){var r=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,e);for(var i in r)this[i]=r[i]}}}(e);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof i)return r.apply(this,t),this;var n,o=new((n=i).bind.apply(n,[void 0].concat(t)));return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty(l)?t[l]:Object.defineProperty(t,l,{value:[]})[l];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}var f=new c("AnalyzeForEntryComponents"),d=function(){var t={Emulated:0,Native:1,None:2};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t}(),p=function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},y=new p("5.2.9"),m=h("Inject",function(t){return{token:t}}),g=h("Optional"),v=h("Self"),b=h("SkipSelf"),w="undefined"!=typeof window&&window,_="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,E=w||"undefined"!=typeof t&&t||_,T=Promise.resolve(0),S=null;function I(){if(!S){var t=E.Symbol;if(t&&t.iterator)S=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(S=r)}}return S}function C(t){"undefined"==typeof Zone?T.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function A(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function k(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(k).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function N(t){return t.__forward_ref__=N,t.toString=function(){return k(this())},t}function O(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===N?t():t}var x="__source",R=new Object,D=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=R),e===R)throw new Error("NullInjectorError: No provider for "+k(t)+"!");return e},t}(),P=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new W(t,e):new W(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=R,t.NULL=new D,t}(),M=function(t){return t},L=[],j=M,V=function(){return Array.prototype.slice.call(arguments)},U={},F=function(t){for(var e in t)if(t[e]===U)return e;throw Error("!prop")}({provide:String,useValue:U}),B=P.NULL,q=/\n/gm,H="\u0275",W=function(){function t(t,e,n){void 0===e&&(e=B),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(P,{token:P,fn:M,deps:L,value:this,useNew:!1}),function t(e,n){if(n)if((n=O(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw z("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw z("Unexpected provider",n);var i=O(n.provide),o=function(t){var e=function(t){var e=L,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((u=O(n[r]))instanceof Array)for(var o=0,a=u;o<a.length;o++){var s=a[o];s instanceof g||s==g?i|=1:s instanceof b||s==b?i&=-3:s instanceof v||s==v?i&=-5:u=s instanceof m?s.token:O(s)}e.push({token:u,options:i})}}else if(t.useExisting){var u;e=[{token:u=O(t.useExisting),options:6}]}else if(!(n||F in t))throw z("'deps' required",t);return e}(t),n=M,r=L,i=!1,o=O(t.provide);if(F in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=O(t.useClass);else{if("function"!=typeof o)throw z("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==V)throw G(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:V,value:L});a.deps.push({token:i=n,options:6})}var s=e.get(i);if(s&&s.fn==V)throw G(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e){var n=this._records.get(t);try{return function t(e,n,r,i,o){try{return function(e,n,r,i,o){var a,s;if(n){if((a=n.value)==j)throw Error(H+"Circular dependency");if(a===L){n.value=j;var u=n.useNew,c=n.fn,l=n.deps,h=L;if(l.length){h=[];for(var f=0;f<l.length;f++){var d=l[f],p=d.options,y=2&p?r.get(d.token):void 0;h.push(t(d.token,y,r,y||4&p?i:B,1&p?null:P.THROW_IF_NOT_FOUND))}}n.value=a=u?new((s=c).bind.apply(s,[void 0].concat(h))):c.apply(void 0,h)}}else a=i.get(e,o);return a}(e,n,r,i,o)}catch(t){throw t instanceof Error||(t=new Error(t)),(t.ngTempTokenPath=t.ngTempTokenPath||[]).unshift(e),n&&n.value==j&&(n.value=L),t}}(t,n,this._records,this.parent,e)}catch(e){var r=e.ngTempTokenPath;throw t[x]&&r.unshift(t[x]),e.message=K("\n"+e.message,r,this.source),e.ngTokenPath=r,e.ngTempTokenPath=null,e}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(k(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function G(t){return z("Cannot mix multi providers and regular providers",t)}function K(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==H?t.substr(2):t;var r=k(e);if(e instanceof Array)r=e.map(k).join(" -> ");else if("object"==typeof e){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):k(a)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(q,"\n  ")}function z(t,e){return new Error(K(t,e))}var Q="ngDebugContext",Y="ngOriginalError",X="ngErrorLogger";function J(t){return t[Q]}function Z(t){return t[Y]}function $(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)}var tt=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[X]||$}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?J(t)?J(t):this._findContext(Z(t)):null},t.prototype._findOriginalError=function(t){for(var e=Z(t);e&&Z(e);)e=Z(e);return e},t}();function et(t){return!!t&&"function"==typeof t.then}function nt(t){return!!t&&"function"==typeof t.subscribe}Function;var rt=new c("Application Initializer"),it=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();et(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),ot=new c("AppId");function at(){return""+st()+st()+st()}function st(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var ut=new c("Platform Initializer"),ct=new c("Platform ID"),lt=new c("appBootstrapListener"),ht=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t.ctorParameters=function(){return[]},t}();function ft(){throw new Error("Runtime compiler is not loaded")}var dt=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw ft()},t.prototype.compileModuleAsync=function(t){throw ft()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw ft()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw ft()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}(),pt=function(){},yt=function(){};function mt(t){var e=Error("No component factory found for "+k(t)+". Did you add it to @NgModule.entryComponents?");return e[bt]=t,e}var gt,vt,bt="ngComponent",wt=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw mt(t)},t}(),_t=function(){function t(){}return t.NULL=new wt,t}(),Et=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw mt(t);return new Tt(e,this._ngModule)},t}(),Tt=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(r.__extends)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(yt),St=function(){},It=function(){},Ct=function(){var t=E.wtf;return!(!t||!(gt=t.trace)||(vt=gt.events,0))}();function At(t,e){return null}var kt=Ct?function(t,e){return void 0===e&&(e=null),vt.createScope(t,e)}:function(t,e){return At},Nt=Ct?function(t,e){return gt.leaveScope(t,e),e}:function(t,e){return e},Ot=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(r.__extends)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},a=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var s=t.prototype.subscribe.call(this,i,o,a);return e instanceof u.a&&e.add(s),s},e}(s.a),xt=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ot(!1),this.onMicrotaskEmpty=new Ot(!1),this.onStable=new Ot(!1),this.onError=new Ot(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,a){try{return Mt(e),t.invokeTask(r,i,o,a)}finally{Lt(e)}},onInvoke:function(t,n,r,i,o,a,s){try{return Mt(e),t.invoke(r,i,o,a,s)}finally{Lt(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Pt(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Dt,Rt,Rt);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function Rt(){}var Dt={};function Pt(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Mt(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Lt(t){t._nesting--,Pt(t)}var jt=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ot,this.onMicrotaskEmpty=new Ot,this.onStable=new Ot,this.onError=new Ot}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Vt=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){xt.assertNotInAngularZone(),C(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?C(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Ut=function(){function t(){this._applications=new Map,qt.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),qt.findTestabilityInTree(this,t,e)},t.ctorParameters=function(){return[]},t}();function Ft(t){qt=t}var Bt,qt=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Ht=!0,Wt=!1,Gt=new c("AllowMultipleToken");function Kt(){if(Wt)throw new Error("Cannot enable prod mode after platform setup.");Ht=!1}function zt(){return Wt=!0,Ht}var Qt=function(t,e){this.name=t,this.token=e};function Yt(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new c(r);return function(e){void 0===e&&(e=[]);var o=Xt();if(!o||o.injector.get(Gt,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Bt&&!Bt.destroyed&&!Bt.injector.get(Gt,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Bt=t.get(Jt);var e=t.get(ut,null);e&&e.forEach(function(t){return t()})}(P.create({providers:a,name:r}))}return function(t){var e=Xt();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Xt(){return Bt&&!Bt.destroyed?Bt:null}var Jt=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new jt:("zone.js"===n?void 0:n)||new xt({enableLongStackTrace:zt()}),o=[{provide:xt,useValue:i}];return i.run(function(){var e=P.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(tt,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return te(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,i){try{var o=((a=n.injector.get(it)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return et(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}var a}(a,i)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=this.injector.get(pt),i=Zt({},e);return r.createCompiler([i]).compileModuleAsync(t).then(function(t){return n.bootstrapModuleFactory(t,i)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get($t);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+k(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function Zt(t,e){return Array.isArray(e)?e.reduce(Zt,t):Object(r.__assign)({},t,e)}var $t=function(){function t(t,e,n,r,s,u){var c=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=zt(),this._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run(function(){c.tick()})}});var l=new i.a(function(t){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular(function(){t.next(c._stable),t.complete()})}),h=new i.a(function(t){var e;c._zone.runOutsideAngular(function(){e=c._zone.onStable.subscribe(function(){xt.assertNotInAngularZone(),C(function(){c._stable||c._zone.hasPendingMacrotasks||c._zone.hasPendingMicrotasks||(c._stable=!0,t.next(!0))})})});var n=c._zone.onUnstable.subscribe(function(){xt.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,a.a.call(h))}return t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof yt?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof Tt?null:this._injector.get(St),o=n.create(P.NULL,[],e||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var a=o.injector.get(Vt,null);return a&&o.injector.get(Ut).registerApplication(o.location.nativeElement,a),this._loadComponent(o),zt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(t){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(t)})}finally{this._runningTick=!1,Nt(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;te(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(lt,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),te(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=kt("ApplicationRef#tick()"),t}();function te(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var ee=function(){},ne=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),re=function(t){this.nativeElement=t},ie=function(){},oe=function(){function t(){this.dirty=!0,this._results=[],this.changes=new Ot,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[I()]=function(){return this._results[I()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),ae=function(){},se={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},ue=function(){function t(t,e){this._compiler=t,this._config=e||se}return t.prototype.load=function(t){return this._compiler instanceof dt?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=t.split("#"),i=r[0],o=r[1];return void 0===o&&(o="default"),n("Jnfr")(i).then(function(t){return t[o]}).then(function(t){return ce(t,i,o)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split("#"),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("Jnfr")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[i+o]}).then(function(t){return ce(t,r,i)})},t}();function ce(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var le=function(){},he=function(){},fe=function(){},de=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof pe?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),pe=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(r.__extends)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,r=this,i=this.childNodes.indexOf(t);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=r}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return ye(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return me(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(de);function ye(t,e,n){t.childNodes.forEach(function(t){t instanceof pe&&(e(t)&&n.push(t),ye(t,e,n))})}function me(t,e,n){t instanceof pe&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof pe&&me(t,e,n)})}var ge=new Map;function ve(t){return ge.get(t)||null}function be(t){ge.set(t.nativeNode,t)}function we(t,e){var n=Te(t),r=Te(e);return n&&r?function(t,e,n){for(var r=t[I()](),i=e[I()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,we):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||A(t,e)}var _e=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),Ee=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function Te(t){return!!Se(t)&&(Array.isArray(t)||!(t instanceof Map)&&I()in t)}function Se(t){return null!==t&&("function"==typeof t||"object"==typeof t)}var Ie=function(){function t(){}return t.prototype.supports=function(t){return Te(t)},t.prototype.create=function(t){return new Ae(t)},t}(),Ce=function(t,e){return e},Ae=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ce}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<xe(n,r,i)?e:n,a=xe(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!Te(t))throw new Error("Error trying to diff '"+k(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&A(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),A(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[I()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&A(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),A(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(A(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(A(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ke(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Oe),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Oe),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),ke=function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ne=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&A(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Oe=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Ne,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function xe(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Re=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||Se(t)},t.prototype.create=function(){return new De},t}(),De=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Se(t)))throw new Error("Error trying to diff '"+k(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Pe(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){A(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Pe=function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Me=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();return new t(e=e.concat(r))}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new g]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t}(),Le=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new g]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),je=[new Re],Ve=new Me([new Ie]),Ue=new Le(je),Fe=Yt(null,"core",[{provide:ct,useValue:"unknown"},{provide:Jt,deps:[P]},{provide:Ut,deps:[]},{provide:ht,deps:[]}]),Be=new c("LocaleId");function qe(){return Ve}function He(){return Ue}function We(t){return t||"en-US"}var Ge=function(t){},Ke=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),ze=function(){};function Qe(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Ye(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Xe(t,e){return t.nodes[e]}function Je(t,e){return t.nodes[e]}function Ze(t,e){return t.nodes[e]}function $e(t,e){return t.nodes[e]}function tn(t,e){return t.nodes[e]}var en={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function nn(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return rn(n,e),n}(i,t)}function rn(t,e){t[Q]=e,t[X]=e.logError.bind(e)}function on(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var an=function(){},sn=new Map;function un(t){var e=sn.get(t);return e||(e=k(t)+"_"+sn.size,sn.set(t,e)),e}var cn="$$undefined",ln="$$empty";function hn(t){return{id:cn,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var fn=0;function dn(t,e,n,r){return!(!(2&t.state)&&A(t.oldValues[e.bindingIndex+n],r))}function pn(t,e,n,r){return!!dn(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function yn(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!we(i,r)){var o=e.bindings[n].name;throw nn(en.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function mn(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function gn(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function vn(t,e,n,r){try{return mn(33554432&t.def.nodes[e].flags?Je(t,e).componentView:t),en.handleEvent(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}function bn(t){return t.parent?Je(t.parent,t.parentNodeDef.nodeIndex):null}function wn(t){return t.parent?t.parentNodeDef.parent:null}function _n(t,e){switch(201347067&e.flags){case 1:return Je(t,e.nodeIndex).renderElement;case 2:return Xe(t,e.nodeIndex).renderText}}function En(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Tn(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Sn(t){var e={},n=0,r={};return t&&t.forEach(function(t){var i=t[0],o=t[1];"number"==typeof i?(e[i]=o,n|=function(t){return 1<<t%32}(i)):r[i]=o}),{matchedQueries:e,references:r,matchedQueryIds:n}}function In(t,e){return t.map(function(t){var n,r;return Array.isArray(t)?(r=t[0],n=t[1]):(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,x,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:un(n)}})}function Cn(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===d.Native?Je(t,n.renderParent.nodeIndex).renderElement:void 0:e}var An=new WeakMap;function kn(t){var e=An.get(t);return e||((e=t(function(){return an})).factory=t,An.set(t,e)),e}function Nn(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(_n(t,t.def.lastRenderRootNode))),On(t,e,0,t.def.nodes.length-1,n,r,i)}function On(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&Rn(t,u,e,i,o,a),s+=u.childCount}}function xn(t,e,n,r,i,o){for(var a=t;a&&!En(a);)a=a.parent;for(var s=a.parent,u=wn(a),c=u.nodeIndex+u.childCount,l=u.nodeIndex+1;l<=c;l++){var h=s.def.nodes[l];h.ngContentIndex===e&&Rn(s,h,n,r,i,o),l+=h.childCount}if(!s.parent){var f=t.root.projectableNodes[e];if(f)for(l=0;l<f.length;l++)Dn(t,f[l],n,r,i,o)}}function Rn(t,e,n,r,i,o){if(8&e.flags)xn(t,e.ngContent.index,n,r,i,o);else{var a=_n(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Dn(t,a,n,r,i,o),32&e.bindingFlags&&Dn(Je(t,e.nodeIndex).componentView,a,n,r,i,o)):Dn(t,a,n,r,i,o),16777216&e.flags)for(var s=Je(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)Nn(s[u],n,r,i,o);1&e.flags&&!e.element.name&&On(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Dn(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var Pn=/^:([^:]+):(.+)$/;function Mn(t){if(":"===t[0]){var e=t.match(Pn);return[e[1],e[2]]}return["",t]}function Ln(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function jn(t,e,n,r,i,o,a,s,u,c,l,h){void 0===a&&(a=[]),c||(c=an);var f=Sn(n),p=f.matchedQueries,y=f.references,m=f.matchedQueryIds,g=null,v=null;o&&(g=(x=Mn(o))[0],v=x[1]),s=s||[];for(var b=new Array(s.length),w=0;w<s.length;w++){var _=s[w],E=_[0],T=_[2],S=Mn(_[1]),I=S[0],C=S[1],A=void 0,k=void 0;switch(15&E){case 4:k=T;break;case 1:case 8:A=T}b[w]={flags:E,ns:I,name:C,nonMinifiedName:C,securityContext:A,suffix:k}}u=u||[];var N=new Array(u.length);for(w=0;w<u.length;w++){var O=u[w];N[w]={type:0,target:O[0],eventName:O[1],propName:null}}var x,R=(a=a||[]).map(function(t){var e=t[1],n=Mn(t[0]);return[n[0],n[1],e]});return h=function(t){if(t&&t.id===cn){var e=null!=t.encapsulation&&t.encapsulation!==d.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+fn++:ln}return t&&t.id===ln&&(t=null),t||null}(h),l&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:m,references:y,ngContentIndex:r,childCount:i,bindings:b,bindingFlags:Ln(b),outputs:N,element:{ns:g,name:v,attrs:R,template:null,componentProvider:null,componentView:l||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||an},provider:null,text:null,query:null,ngContent:null}}function Vn(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,a=t.renderer;if(t.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=Cn(t,e,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(o);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var c=i.attrs[u];a.setAttribute(r,c[1],c[2],c[0])}return r}function Un(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=Fn(t,n.nodeIndex,(h=o.eventName,(l=o.target)?l+":"+h:h)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var c=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=c}var l,h}function Fn(t,e,n){return function(r){return vn(t,e,n,r)}}function Bn(t,e,n,r){if(!pn(t,e,n,r))return!1;var i=e.bindings[n],o=Je(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(Ke.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}var qn=new Object,Hn=un(P),Wn=un(St);function Gn(t,e,n,r){return n=O(n),{index:-1,deps:In(r,k(e)),flags:t,token:e,value:n}}function Kn(t){for(var e={},n=0;n<t.length;n++){var r=t[n];r.index=n,e[un(r.token)]=r}return{factory:null,providersByKey:e,providers:t}}function zn(t,e,n){if(void 0===n&&(n=P.THROW_IF_NOT_FOUND),8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var r=e.tokenKey;switch(r){case Hn:case Wn:return t}var i=t._def.providersByKey[r];if(i){var o=t._providers[i.index];return void 0===o&&(o=t._providers[i.index]=Qn(t,i)),o===qn?void 0:o}return t._parent.get(e.token,n)}function Qn(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(zn(t,n[0]));case 2:return new e(zn(t,n[0]),zn(t,n[1]));case 3:return new e(zn(t,n[0]),zn(t,n[1]),zn(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=zn(t,n[o]);return new(e.bind.apply(e,[void 0].concat(i)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(zn(t,n[0]));case 2:return e(zn(t,n[0]),zn(t,n[1]));case 3:return e(zn(t,n[0]),zn(t,n[1]),zn(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=zn(t,n[o]);return e.apply(void 0,i)}}(t,e.value,e.deps);break;case 2048:n=zn(t,e.deps[0]);break;case 256:n=e.value}return void 0===n?qn:n}function Yn(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,$n(n,e),en.dirtyParentQueries(r),Jn(r),r}function Xn(t,e,n){var r=e?_n(e,e.def.lastRenderRootNode):t.renderElement;Nn(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function Jn(t){Nn(t,3,null,null,void 0)}function Zn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $n(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var tr=new Object;function er(t,e,n,r,i,o){return new nr(t,e,n,r,i,o)}var nr=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=kn(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=en.createRootView(t,e||[],n,i,r,tr),s=Ze(a,o).instance;return n&&a.renderer.setAttribute(Je(a,0).renderElement,"ng-version",y.full),new rr(a,new sr(a),s)},e}(yt),rr=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new re(Je(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new hr(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(function(){});function ir(t,e,n){return new or(t,e,n)}var or=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new re(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new hr(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=wn(t),t=t.parent;return t?new hr(t,e):new hr(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Yn(this._data,t);en.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new sr(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof Tt||(i=o.get(St));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a=t;return i=a._view,o=(n=this._data).viewContainer._embeddedViews,null!==(r=e)&&void 0!==r||(r=o.length),i.viewContainerParent=this._view,Zn(o,r,i),function(t,e){var n=bn(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,i),en.dirtyParentQueries(i),Xn(n,r>0?o[r-1]:null,i),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(t._view);return i=e,a=(o=(n=this._data).viewContainer._embeddedViews)[r=s],$n(o,r),null==i&&(i=o.length),Zn(o,i,a),en.dirtyParentQueries(a),Jn(a),Xn(n,i>0?o[i-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=Yn(this._data,t);e&&en.destroyView(e)},t.prototype.detach=function(t){var e=Yn(this._data,t);return e?new sr(e):null},t}();function ar(t){return new sr(t)}var sr=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return Nn(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){mn(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{en.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){en.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),en.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Jn(this._view),en.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function ur(t,e){return new cr(t,e)}var cr=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(r.__extends)(e,t),e.prototype.createEmbeddedView=function(t){return new sr(en.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new re(Je(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(le);function lr(t,e){return new hr(t,e)}var hr=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=P.THROW_IF_NOT_FOUND),en.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:un(t)},e)},t}();function fr(t){return new dr(t.renderer)}var dr=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Mn(e),r=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,r),r},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=Mn(e),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function pr(t,e,n,r){return new yr(t,e,n,r)}var yr=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||(n[r]=Qn(t,i))}}(this)}return t.prototype.get=function(t,e){return void 0===e&&(e=P.THROW_IF_NOT_FOUND),zn(this,{token:t,tokenKey:un(t),flags:0},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(_t)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+k(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){var i=t._providers[r];i&&i!==qn&&i.ngOnDestroy()}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),mr=un(function(){}),gr=un(function(){}),vr=un(re),br=un(he),wr=un(le),_r=un(fe),Er=un(P);function Tr(t,e,n,r,i,o,a,s){var u=[];if(a)for(var c in a){var l=a[c];u[l[0]]={flags:8,name:c,nonMinifiedName:l[1],ns:null,securityContext:null,suffix:null}}var h=[];if(s)for(var f in s)h.push({type:1,propName:f,target:null,eventName:s[f]});return function(t,e,n,r,i,o,a,s,u){var c=Sn(n),l=c.matchedQueries,h=c.references,f=c.matchedQueryIds;u||(u=[]),s||(s=[]),o=O(o);var d=In(a,k(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Ln(s),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}(t,e|=16384,n,r,i,i,o,u,h)}function Sr(t,e){return kr(t,e)}function Ir(t,e){for(var n=t;n.parent&&!En(n);)n=n.parent;return Nr(n.parent,wn(n),!0,e.provider.value,e.provider.deps)}function Cr(t,e){var n=Nr(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName].subscribe(Ar(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=o.unsubscribe.bind(o)}return n}function Ar(t,e,n){return function(r){return vn(t,e,n,r)}}function kr(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Nr(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(xr(t,e,n,i[0]));case 2:return r(xr(t,e,n,i[0]),xr(t,e,n,i[1]));case 3:return r(xr(t,e,n,i[0]),xr(t,e,n,i[1]),xr(t,e,n,i[2]));default:for(var a=Array(o),s=0;s<o;s++)a[s]=xr(t,e,n,i[s]);return r.apply(void 0,a)}}(t,e.parent,n,r.value,r.deps);case 2048:return xr(t,e.parent,n,r.deps[0]);case 256:return r.value}}function Nr(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(xr(t,e,n,i[0]));case 2:return new r(xr(t,e,n,i[0]),xr(t,e,n,i[1]));case 3:return new r(xr(t,e,n,i[0]),xr(t,e,n,i[1]),xr(t,e,n,i[2]));default:for(var a=new Array(o),s=0;s<o;s++)a[s]=xr(t,e,n,i[s]);return new(r.bind.apply(r,[void 0].concat(a)))}}var Or={};function xr(t,e,n,r,i){if(void 0===i&&(i=P.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;for(a===_r&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);t;){if(e)switch(a){case mr:return fr(Rr(t,e,n));case gr:return Rr(t,e,n).renderer;case vr:return new re(Je(t,e.nodeIndex).renderElement);case br:return Je(t,e.nodeIndex).viewContainer;case wr:if(e.element.template)return Je(t,e.nodeIndex).template;break;case _r:return ar(Rr(t,e,n));case Er:return lr(t,e);default:var s=(n?e.element.allProviders:e.element.publicProviders)[a];if(s){var u=Ze(t,s.nodeIndex);return u||(u={instance:kr(t,s)},t.nodes[s.nodeIndex]=u),u.instance}}n=En(t),e=wn(t),t=t.parent}var c=o.root.injector.get(r.token,Or);return c!==Or||i===Or?c:o.root.ngModule.injector.get(r.token,i)}function Rr(t,e,n){var r;if(n)r=Je(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!En(r);)r=r.parent;return r}function Dr(t,e,n,r,i,o){if(32768&n.flags){var a=Je(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=_e.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Ee(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Pr(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&Lr(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=Mr(t,a,e,r)),a=a.parent}}function Mr(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&Lr(t,i,o.flags&n,r++),i+=o.childCount}return r}function Lr(t,e,n,r){var i=Ze(t,e);if(i){var o=i.instance;o&&(en.setCurrentNode(t,e),1048576&n&&Ye(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Ye(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function jr(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Tn(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&tn(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&tn(t,i).setDirty(),i+=o.childCount}}function Vr(t,e){var n=tn(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=Ur(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=Ze(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Ur(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var c=a[u],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,s=!0}r[c.propName]=l}s&&n.notifyOnChanges()}}function Ur(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(Fr(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Je(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(Ur(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var c=u.viewContainer._embeddedViews,l=0;l<c.length;l++){var h=c[l],f=bn(h);f&&f===u&&Ur(h,0,h.def.nodes.length-1,r,i)}var d=u.template._projectedViews;if(d)for(l=0;l<d.length;l++){var p=d[l];Ur(p,0,p.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function Fr(t,e,n){if(null!=n)switch(n){case 1:return Je(t,e.nodeIndex).renderElement;case 0:return new re(Je(t,e.nodeIndex).renderElement);case 2:return Je(t,e.nodeIndex).template;case 3:return Je(t,e.nodeIndex).viewContainer;case 4:return Ze(t,e.nodeIndex).instance}}function Br(t,e,n){var r=Cn(t,e,n);r&&xn(t,n.ngContent.index,1,r,null,void 0)}function qr(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Hr(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=Cn(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Wr(t,e){return(null!=t?t.toString():"")+e.suffix}function Gr(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,c=null,l=null,h=!1,f=!1,d=null,p=0;p<e.length;p++){var y=e[p];if(y.nodeIndex=p,y.parent=c,y.bindingIndex=i,y.outputIndex=o,y.renderParent=l,a|=y.flags,u|=y.matchedQueryIds,y.element){var m=y.element;m.publicProviders=c?c.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,h=!1,f=!1,y.element.template&&(u|=y.element.template.nodeMatchedQueries)}if(zr(c,y,e.length),i+=y.bindings.length,o+=y.outputs.length,!l&&3&y.flags&&(d=y),20224&y.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var g=0!=(32768&y.flags);0==(8192&y.flags)||g?c.element.publicProviders[un(y.provider.token)]=y:(f||(f=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[un(y.provider.token)]=y),g&&(c.element.componentProvider=y)}if(c?(c.childFlags|=y.flags,c.directChildFlags|=y.flags,c.childMatchedQueries|=y.matchedQueryIds,y.element&&y.element.template&&(c.childMatchedQueries|=y.element.template.nodeMatchedQueries)):s|=y.flags,y.childCount>0)c=y,Kr(y)||(l=y);else for(;c&&p===c.nodeIndex+c.childCount;){var v=c.parent;v&&(v.childFlags|=c.childFlags,v.childMatchedQueries|=c.childMatchedQueries),l=(c=v)&&Kr(c)?c.renderParent:c}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||an,updateRenderer:r||an,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function Kr(t){return 0!=(1&t.flags)&&null===t.element.name}function zr(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function Qr(t,e,n,r){var i=Jr(t.root,t.renderer,t,e,n);return Zr(i,t.component,r),$r(i),i}function Yr(t,e,n){var r=Jr(t,t.renderer,null,null,e);return Zr(r,n,n),$r(r),r}function Xr(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,Jr(t.root,i,t,e.element.componentProvider,n)}function Jr(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function Zr(t,e,n){t.component=e,t.context=n}function $r(t){var e;En(t)&&(e=Je(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];en.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var s=Vn(t,e,o),u=void 0;if(33554432&o.flags){var c=kn(o.element.componentView);u=en.createComponentView(t,o,c,s)}Un(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?ur(t,o):void 0},16777216&o.flags&&(a.viewContainer=ir(t,o,a));break;case 2:a=Hr(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:Sr(t,o)});break;case 16:a={instance:Ir(t,o)};break;case 16384:(a=r[i])||(a={instance:Cr(t,o)}),32768&o.flags&&Zr(Je(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new oe;break;case 8:Br(t,e,o),a=void 0}r[i]=a}ui(t,si.CreateViewNodes),fi(t,201326592,268435456,0)}function ti(t){ri(t),en.updateDirectives(t,1),ci(t,si.CheckNoChanges),en.updateRenderer(t,1),ui(t,si.CheckNoChanges),t.state&=-97}function ei(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Qe(t,0,256),ri(t),en.updateDirectives(t,0),ci(t,si.CheckAndUpdate),fi(t,67108864,536870912,0);var e=Qe(t,256,512);Pr(t,2097152|(e?1048576:0)),en.updateRenderer(t,0),ui(t,si.CheckAndUpdate),fi(t,134217728,536870912,0),Pr(t,8388608|((e=Qe(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Qe(t,768,1024)}function ni(t,e,n,r,i,o,a,s,u,c,l,h,f){return 0===n?function(t,e,n,r,i,o,a,s,u,c,l,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=e.bindings.length,d=!1;return f>0&&Bn(t,e,0,n)&&(d=!0),f>1&&Bn(t,e,1,r)&&(d=!0),f>2&&Bn(t,e,2,i)&&(d=!0),f>3&&Bn(t,e,3,o)&&(d=!0),f>4&&Bn(t,e,4,a)&&(d=!0),f>5&&Bn(t,e,5,s)&&(d=!0),f>6&&Bn(t,e,6,u)&&(d=!0),f>7&&Bn(t,e,7,c)&&(d=!0),f>8&&Bn(t,e,8,l)&&(d=!0),f>9&&Bn(t,e,9,h)&&(d=!0),d}(t,e,n,r,i,o,a,s,u,c,l,h);case 2:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=!1,d=e.bindings,p=d.length;if(p>0&&pn(t,e,0,n)&&(f=!0),p>1&&pn(t,e,1,r)&&(f=!0),p>2&&pn(t,e,2,i)&&(f=!0),p>3&&pn(t,e,3,o)&&(f=!0),p>4&&pn(t,e,4,a)&&(f=!0),p>5&&pn(t,e,5,s)&&(f=!0),p>6&&pn(t,e,6,u)&&(f=!0),p>7&&pn(t,e,7,c)&&(f=!0),p>8&&pn(t,e,8,l)&&(f=!0),p>9&&pn(t,e,9,h)&&(f=!0),f){var y=e.text.prefix;p>0&&(y+=Wr(n,d[0])),p>1&&(y+=Wr(r,d[1])),p>2&&(y+=Wr(i,d[2])),p>3&&(y+=Wr(o,d[3])),p>4&&(y+=Wr(a,d[4])),p>5&&(y+=Wr(s,d[5])),p>6&&(y+=Wr(u,d[6])),p>7&&(y+=Wr(c,d[7])),p>8&&(y+=Wr(l,d[8])),p>9&&(y+=Wr(h,d[9]));var m=Xe(t,e.nodeIndex).renderText;t.renderer.setValue(m,y)}return f}(t,e,n,r,i,o,a,s,u,c,l,h);case 16384:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=Ze(t,e.nodeIndex),d=f.instance,p=!1,y=void 0,m=e.bindings.length;return m>0&&dn(t,e,0,n)&&(p=!0,y=Dr(t,f,e,0,n,y)),m>1&&dn(t,e,1,r)&&(p=!0,y=Dr(t,f,e,1,r,y)),m>2&&dn(t,e,2,i)&&(p=!0,y=Dr(t,f,e,2,i,y)),m>3&&dn(t,e,3,o)&&(p=!0,y=Dr(t,f,e,3,o,y)),m>4&&dn(t,e,4,a)&&(p=!0,y=Dr(t,f,e,4,a,y)),m>5&&dn(t,e,5,s)&&(p=!0,y=Dr(t,f,e,5,s,y)),m>6&&dn(t,e,6,u)&&(p=!0,y=Dr(t,f,e,6,u,y)),m>7&&dn(t,e,7,c)&&(p=!0,y=Dr(t,f,e,7,c,y)),m>8&&dn(t,e,8,l)&&(p=!0,y=Dr(t,f,e,8,l,y)),m>9&&dn(t,e,9,h)&&(p=!0,y=Dr(t,f,e,9,h,y)),y&&d.ngOnChanges(y),65536&e.flags&&Ye(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),p}(t,e,n,r,i,o,a,s,u,c,l,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=e.bindings,d=!1,p=f.length;if(p>0&&pn(t,e,0,n)&&(d=!0),p>1&&pn(t,e,1,r)&&(d=!0),p>2&&pn(t,e,2,i)&&(d=!0),p>3&&pn(t,e,3,o)&&(d=!0),p>4&&pn(t,e,4,a)&&(d=!0),p>5&&pn(t,e,5,s)&&(d=!0),p>6&&pn(t,e,6,u)&&(d=!0),p>7&&pn(t,e,7,c)&&(d=!0),p>8&&pn(t,e,8,l)&&(d=!0),p>9&&pn(t,e,9,h)&&(d=!0),d){var y=$e(t,e.nodeIndex),m=void 0;switch(201347067&e.flags){case 32:m=new Array(f.length),p>0&&(m[0]=n),p>1&&(m[1]=r),p>2&&(m[2]=i),p>3&&(m[3]=o),p>4&&(m[4]=a),p>5&&(m[5]=s),p>6&&(m[6]=u),p>7&&(m[7]=c),p>8&&(m[8]=l),p>9&&(m[9]=h);break;case 64:m={},p>0&&(m[f[0].name]=n),p>1&&(m[f[1].name]=r),p>2&&(m[f[2].name]=i),p>3&&(m[f[3].name]=o),p>4&&(m[f[4].name]=a),p>5&&(m[f[5].name]=s),p>6&&(m[f[6].name]=u),p>7&&(m[f[7].name]=c),p>8&&(m[f[8].name]=l),p>9&&(m[f[9].name]=h);break;case 128:var g=n;switch(p){case 1:m=g.transform(n);break;case 2:m=g.transform(r);break;case 3:m=g.transform(r,i);break;case 4:m=g.transform(r,i,o);break;case 5:m=g.transform(r,i,o,a);break;case 6:m=g.transform(r,i,o,a,s);break;case 7:m=g.transform(r,i,o,a,s,u);break;case 8:m=g.transform(r,i,o,a,s,u,c);break;case 9:m=g.transform(r,i,o,a,s,u,c,l);break;case 10:m=g.transform(r,i,o,a,s,u,c,l,h)}}y.value=m}return d}(t,e,n,r,i,o,a,s,u,c,l,h);default:throw"unreachable"}}(t,e,r,i,o,a,s,u,c,l,h,f):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)Bn(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)pn(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=Wr(n[o],r[o]);a=e.text.prefix+a;var s=Xe(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=Ze(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)dn(t,e,s,n[s])&&(o=!0,a=Dr(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&Ye(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)pn(t,e,o,n[o])&&(i=!0);if(i){var a=$e(t,e.nodeIndex),s=void 0;switch(201347067&e.flags){case 32:s=n;break;case 64:for(s={},o=0;o<n.length;o++)s[r[o].name]=n[o];break;case 128:var u=n[0],c=n.slice(1);s=u.transform.apply(u,c)}a.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function ri(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=Je(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,gn(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function ii(t,e,n,r,i,o,a,s,u,c,l,h,f){return 0===n?function(t,e,n,r,i,o,a,s,u,c,l,h){var f=e.bindings.length;f>0&&yn(t,e,0,n),f>1&&yn(t,e,1,r),f>2&&yn(t,e,2,i),f>3&&yn(t,e,3,o),f>4&&yn(t,e,4,a),f>5&&yn(t,e,5,s),f>6&&yn(t,e,6,u),f>7&&yn(t,e,7,c),f>8&&yn(t,e,8,l),f>9&&yn(t,e,9,h)}(t,e,r,i,o,a,s,u,c,l,h,f):function(t,e,n){for(var r=0;r<n.length;r++)yn(t,e,r,n[r])}(t,e,r),!1}function oi(t,e){if(tn(t,e.nodeIndex).dirty)throw nn(en.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function ai(t){if(!(128&t.state)){if(ci(t,si.Destroy),ui(t,si.Destroy),Pr(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=bn(t);if(e){var n=e.template._projectedViews;n&&($n(n,n.indexOf(t)),en.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Je(t,n).renderElement):2&r.flags?t.renderer.destroyNode(Xe(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&tn(t,n).destroy()}}(t),En(t)&&t.renderer.destroy(),t.state|=128}}var si=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function ui(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?li(Je(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function ci(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Je(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)li(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function li(t,e){var n=t.state;switch(e){case si.CheckNoChanges:0==(128&n)&&(12==(12&n)?ti(t):64&n&&hi(t,si.CheckNoChangesProjectedViews));break;case si.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ti(t):64&n&&hi(t,e));break;case si.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ei(t):64&n&&hi(t,si.CheckAndUpdateProjectedViews));break;case si.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ei(t):64&n&&hi(t,e));break;case si.Destroy:ai(t);break;case si.CreateViewNodes:$r(t)}}function hi(t,e){ci(t,e),ui(t,e)}function fi(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(en.setCurrentNode(t,a.nodeIndex),r){case 0:Vr(t,a);break;case 1:oi(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var di=!1;function pi(t,e,n,r,i,o){return Yr(mi(t,i,i.injector.get(ee),e,n),r,o)}function yi(t,e,n,r,i,o){var a=i.injector.get(ee),s=mi(t,i,new Yi(a),e,n),u=Ii(r);return zi(Pi.create,Yr,null,[s,u,o])}function mi(t,e,n,r,i){var o=e.injector.get(ze),a=e.injector.get(tt);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:a}}function gi(t,e,n,r){var i=Ii(n);return zi(Pi.create,Qr,null,[t,e,i,r])}function vi(t,e,n,r){return n=_i.get(e.element.componentProvider.provider.token)||Ii(n),zi(Pi.create,Xr,null,[t,e,n,r])}function bi(t,e,n,r){return pr(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===wi.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=wi.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=wi.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=In(i.deps),r.value=i.value)}}(t=t.factory(function(){return an})),t):t}(r))}var wi=new Map,_i=new Map;function Ei(t){wi.set(t.token,t)}function Ti(t,e){var n=kn(kn(e.viewDefFactory).nodes[0].element.componentView);_i.set(t,n)}function Si(){wi.clear(),_i.clear()}function Ii(t){if(0===wi.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&wi.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return an});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=wi.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=In(o.deps),i.value=o.value)}}}}function Ci(t,e,n,r,i,o,a,s,u,c,l,h,f){var d=t.def.nodes[e];return ni(t,d,n,r,i,o,a,s,u,c,l,h,f),224&d.flags?$e(t,e).value:void 0}function Ai(t,e,n,r,i,o,a,s,u,c,l,h,f){var d=t.def.nodes[e];return ii(t,d,n,r,i,o,a,s,u,c,l,h,f),224&d.flags?$e(t,e).value:void 0}function ki(t){return zi(Pi.detectChanges,ei,null,[t])}function Ni(t){return zi(Pi.checkNoChanges,ti,null,[t])}function Oi(t){return zi(Pi.destroy,ai,null,[t])}var xi,Ri,Di,Pi=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();function Mi(t,e){Ri=t,Di=e}function Li(t,e,n,r){return Mi(t,e),zi(Pi.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function ji(t,e){if(128&t.state)throw on(Pi[xi]);return Mi(t,Hi(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Ui(t,a,r,i):Fi(t,a,r,i),16384&a.flags&&Mi(t,Hi(t,n)),224&a.flags?$e(t,a.nodeIndex).value:void 0},t)}function Vi(t,e){if(128&t.state)throw on(Pi[xi]);return Mi(t,Wi(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Ui(t,a,r,i):Fi(t,a,r,i),3&a.flags&&Mi(t,Wi(t,n)),224&a.flags?$e(t,a.nodeIndex).value:void 0},t)}function Ui(t,e,n,r){if(ni.apply(void 0,[t,e,n].concat(r))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},a=0;a<e.bindings.length;a++){var s=e.bindings[a],u=i[a];8&s.flags&&(o[(f=s.nonMinifiedName,"ng-reflect-"+(f=f.replace(/[$@]/g,"_").replace(Bi,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})))]=qi(u))}var c=e.parent,l=Je(t,c.nodeIndex).renderElement;if(c.element.name)for(var h in o)null!=(u=o[h])?t.renderer.setAttribute(l,h,u):t.renderer.removeAttribute(l,h);else t.renderer.setValue(l,"bindings="+JSON.stringify(o,null,2))}}var f}function Fi(t,e,n,r){ii.apply(void 0,[t,e,n].concat(r))}var Bi=/([A-Z])/g;function qi(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function Hi(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Wi(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var Gi=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=wn(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Je(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return lr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Ki(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Ki(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!En(t);)t=t.parent;return t.parent?Je(t.parent,wn(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?_n(this.view,this.nodeDef):_n(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var o=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),a=-1;e.factory(function(){return++a===o?(e=t.error).bind.apply(e,[t].concat(r)):an;var e}),a<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,r))},t}();function Ki(t,e,n){for(var r in e.references)n[r]=Fr(t,e,e.references[r])}function zi(t,e,n,r){var i=xi,o=Ri,a=Di;try{xi=t;var s=e.apply(n,r);return Ri=o,Di=a,xi=i,s}catch(t){if(J(t)||!Ri)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),rn(t,e),t}(t,Qi())}}function Qi(){return Ri?new Gi(Ri,Di):null}var Yi=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Xi(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Xi=function(){function t(t){this.delegate=t,this.data=this.delegate.data}return t.prototype.destroyNode=function(t){!function(t){ge.delete(t.nativeNode)}(ve(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=Qi();if(r){var i=new pe(n,null,r);i.name=t,be(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=Qi();return n&&be(new de(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=Qi();return n&&be(new de(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=ve(t),r=ve(e);n&&r&&n instanceof pe&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=ve(t),i=ve(e),o=ve(n);r&&i&&r instanceof pe&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=ve(t),r=ve(e);n&&r&&n instanceof pe&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=Qi();return n&&be(new pe(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var i=ve(t);i&&i instanceof pe&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=ve(t);r&&r instanceof pe&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=ve(t);n&&n instanceof pe&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=ve(t);n&&n instanceof pe&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=ve(t);i&&i instanceof pe&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=ve(t);r&&r instanceof pe&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=ve(t);r&&r instanceof pe&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=ve(t);r&&r.listeners.push(new function(t,e){this.name=t,this.callback=e}(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function Ji(t,e,n){return new $i(t,e,n)}var Zi,$i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(r.__extends)(e,t),e.prototype.create=function(t){!function(){if(!di){di=!0;var t=zt()?{setCurrentNode:Mi,createRootView:yi,createEmbeddedView:gi,createComponentView:vi,createNgModuleRef:bi,overrideProvider:Ei,overrideComponentView:Ti,clearOverrides:Si,checkAndUpdateView:ki,checkNoChangesView:Ni,destroyView:Oi,createDebugContext:function(t,e){return new Gi(t,e)},handleEvent:Li,updateDirectives:ji,updateRenderer:Vi}:{setCurrentNode:function(){},createRootView:pi,createEmbeddedView:Qr,createComponentView:Xr,createNgModuleRef:pr,overrideProvider:an,overrideComponentView:an,clearOverrides:an,checkAndUpdateView:ei,checkNoChangesView:ti,destroyView:ai,createDebugContext:function(t,e){return new Gi(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Ci:Ai,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Ci:Ai,t)}};en.setCurrentNode=t.setCurrentNode,en.createRootView=t.createRootView,en.createEmbeddedView=t.createEmbeddedView,en.createComponentView=t.createComponentView,en.createNgModuleRef=t.createNgModuleRef,en.overrideProvider=t.overrideProvider,en.overrideComponentView=t.overrideComponentView,en.clearOverrides=t.clearOverrides,en.checkAndUpdateView=t.checkAndUpdateView,en.checkNoChangesView=t.checkNoChangesView,en.destroyView=t.destroyView,en.resolveDep=xr,en.createDebugContext=t.createDebugContext,en.handleEvent=t.handleEvent,en.updateDirectives=t.updateDirectives,en.updateRenderer=t.updateRenderer,en.dirtyParentQueries=jr}}();var e=kn(this._ngModuleDefFactory);return en.createNgModuleRef(this.moduleType,t||P.NULL,this._bootstrapComponents,e)},e}(It);"undefined"==typeof ngDevMode&&("undefined"!=typeof window&&(window.ngDevMode=!0),"undefined"!=typeof self&&(self.ngDevMode=!0),"undefined"!=typeof t&&(t.ngDevMode=!0)),Zi=function(t,e,n){return{parent:Zi,id:null,node:null,data:[],ngStaticData:[],cleanup:null,renderer:null,child:null,tail:null,next:null,bindingStartIndex:null,creationMode:!0,viewHookStartIndex:null}}()}).call(e,n("DuR2"))},Whum:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.forEach=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},e.extend=function(t,n){return e.forEach(n,function(e,n){t[e]=n}),t},e.clone=function(t){return e.extend({},t)},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.findKey=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},e.findValue=function(t,n,r){var i=e.findKey(t,n,r);return i&&t[i]},e.getAnyKey=function(t){for(var e in t)return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0}},YNQF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Whum");e.querystring=function(t){var e=[];return r.forEach(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e}},YaPU:function(t,e,n){"use strict";var r=n("AMGY"),i=n("OVmG"),o=n("tLDX"),a=n("t7NR"),s=n("+CnV"),u=n("f9aG");n.d(e,"a",function(){return c});var c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(r?r.call(s,this.source):s.add(this.source||!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?e=r.a.Rx.config.Promise:r.a.Promise&&(e=r.a.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var i;i=n.subscribe(function(e){if(i)try{t(e)}catch(t){r(t),i.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[s.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:Object(u.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?t=r.a.Rx.config.Promise:r.a.Promise&&(t=r.a.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}()},ZCyv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e};e.base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},e.base64Encode=function(t){var n=r(t);return e.base64.encodeByteArray(n,!0)},e.base64Decode=function(t){try{return e.base64.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}},bzVp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+iia"),i=(n.n(r),n("m9DX")),o=(n.n(i),n("OAVl"));n.n(o)},cQXm:function(t,e,n){"use strict";e.a=function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},dgOU:function(t,e,n){"use strict";e.a=function(t){return null!=t&&"object"==typeof t}},etqZ:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}(n("AMGY").a)},f9aG:function(t,e,n){"use strict";function r(){}function i(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r}e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i(t)},e.b=i},g5jc:function(t,e,n){"use strict";var r=n("TToO"),i=n("YaPU"),o=n("OVmG"),a=n("VwZZ"),s=n("x6VL"),u=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return Object(r.__extends)(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(a.a),c=n("tLDX");n.d(e,"b",function(){return l}),n.d(e,"a",function(){return h});var l=function(t){function e(e){t.call(this,e),this.destination=e}return Object(r.__extends)(e,t),e}(o.a),h=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return Object(r.__extends)(e,t),e.prototype[c.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new u(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(i.a),f=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return Object(r.__extends)(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(h)},iNRZ:function(t,e,n){"use strict";function r(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=r(t[n],e[n]));return t}Object.defineProperty(e,"__esModule",{value:!0}),e.deepCopy=function(t){return r(void 0,t)},e.deepExtend=r,e.patchProperty=function(t,e,n){t[e]=n}},lt8x:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("ZCyv"),i=n("sA4o");e.decode=function(t){var e={},n={},o={},a="";try{var s=t.split(".");e=i.jsonEval(r.base64Decode(s[0])||""),n=i.jsonEval(r.base64Decode(s[1])||""),a=s[2],o=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:o,signature:a}},e.isValidTimestamp=function(t){var n,r,i=e.decode(t).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof i&&(i.hasOwnProperty("nbf")?n=i.nbf:i.hasOwnProperty("iat")&&(n=i.iat),r=i.hasOwnProperty("exp")?i.exp:n+86400),o&&n&&r&&o>=n&&o<=r},e.issuedAtTime=function(t){var n=e.decode(t).claims;return"object"==typeof n&&n.hasOwnProperty("iat")?n.iat:null},e.isValidFormat=function(t){var n=e.decode(t),r=n.claims;return!!n.signature&&!!r&&"object"==typeof r&&r.hasOwnProperty("iat")},e.isAdmin=function(t){var n=e.decode(t).claims;return"object"==typeof n&&!0===n.admin}},m4rg:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("9/vk");e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319){var a=o-55296;r.assert(++i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(i)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e}},m9DX:function(t,e){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=e[i];if(t.call(r,o,i,e))return o;i++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){if(t.call(r,e[i],i,e))return i;i++}return-1}})},r3eQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSubscribe=function(t,e){var n=new r(t,e);return n.subscribe.bind(n)};var r=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=i),void 0===r.error&&(r.error=i),void 0===r.complete&&(r.complete=i);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}}),this.observers.push(r),a},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function i(){}e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}},sA4o:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jsonEval=function(t){return JSON.parse(t)},e.stringify=function(t){return JSON.stringify(t)}},t7NR:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},tLDX:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("AMGY").a.Symbol,i="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber"},tZ2B:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("TToO"),i=function(t){function e(){t.apply(this,arguments)}return Object(r.__extends)(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("OVmG").a)},x35b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("WT6e"),i=n("TToO"),o=function(){},a=new r.n("Location Initialized"),s=function(){},u=new r.n("appBaseHref"),c=function(){function t(e){var n=this;this._subject=new r.l,this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(l(i)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,l(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function l(t){return t.replace(/\/index.html$/,"")}var h=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(i.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=c.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s),f=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(i.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return c.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+c.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s),d=["en",[["a","p"],["AM","PM"]],[["AM","PM"],,],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",,"{1} 'at' {0}"],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],p={},y=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),m=new r.n("UseV4Plurals"),g=function(){},v=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(i.__extends)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=p[e];if(n)return n;var r=e.split("-")[0];if(n=p[r])return n;if("en"===r)return d;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[17]}(e||this.locale)(t)){case y.Zero:return"zero";case y.One:return"one";case y.Two:return"two";case y.Few:return"few";case y.Many:return"many";default:return"other"}},e}(g),b=function(){},w=new r.n("DocumentToken"),_=n("g5jc"),E=n("x6VL"),T=function(t){function e(e){t.call(this),this._value=e}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new E.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(_.a),S=n("Veqx"),I=S.a.of,C=n("Qnch");function A(t,e){return function(t,e){return Object(C.a)(t,e,1)}(t,e)(this)}var k=n("OVmG"),N=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new O(t,this.project,this.thisArg))},t}(),O=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}return Object(i.__extends)(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(k.a);function x(t,e){return function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new N(t,e))}}(t,e)(this)}function R(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),Object(C.a)(t,e,n)(this)}var D=n("YaPU"),P=n("BX3T"),M=n("N4j0"),L=n("cQXm"),j=n("AMGY"),V=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return Object(i.__extends)(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,r=this.scheduler;if(null==r)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){j.a.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return r.schedule(U,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(r.schedule(U,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(r.schedule(F,0,{err:e,subscriber:t}))}).then(null,function(t){j.a.setTimeout(function(){throw t})})},e}(D.a);function U(t){var e=t.subscriber;e.closed||(e.next(t.value),e.complete())}function F(t){var e=t.subscriber;e.closed||e.error(t.err)}var B=n("etqZ"),q=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=function(t){var e=t[B.a];if(!e&&"string"==typeof t)return new H(t);if(!e&&void 0!==t.length)return new W(t);if(!e)throw new TypeError("object is not iterable");return t[B.a]()}(e)}return Object(i.__extends)(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.iterator,r=t.subscriber;if(t.hasError)r.error(t.error);else{var i=n.next();i.done?r.complete():(r.next(i.value),t.index=e+1,r.closed?"function"==typeof n.return&&n.return():this.schedule(t))}},e.prototype._subscribe=function(t){var n=this.iterator,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{index:0,iterator:n,subscriber:t});for(;;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed){"function"==typeof n.return&&n.return();break}}},e}(D.a),H=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[B.a]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),W=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=function(e){var n,r,i=+t.length;return isNaN(i)?0:0!==i&&"number"==typeof(n=i)&&j.a.isFinite(n)?(i=(0==(r=+i)?r:isNaN(r)?r:r<0?-1:1)*Math.floor(Math.abs(i)))<=0?0:i>G?G:i:i}()),this.arr=t,this.idx=e,this.len=n}return t.prototype[B.a]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),G=Math.pow(2,53)-1,K=n("TILf"),z=n("+3/4"),Q=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return Object(i.__extends)(e,t),e.create=function(t,n){var r=t.length;return 0===r?new z.a:1===r?new K.a(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,r=t.subscriber;r.closed||(n>=t.length?r.complete():(r.next(e[n]),t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.arrayLike,r=this.scheduler,i=n.length;if(r)return r.schedule(e.dispatch,0,{arrayLike:n,index:0,length:i,subscriber:t});for(var o=0;o<i&&!t.closed;o++)t.next(n[o]);t.complete()},e}(D.a),Y=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return D.a.of(this.value);case"E":return D.a.throw(this.error);case"C":return D.a.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return"undefined"!=typeof e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),X=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new J(t,this.scheduler,this.delay))},t}(),J=function(t){function e(e,n,r){void 0===r&&(r=0),t.call(this,e),this.scheduler=n,this.delay=r}return Object(i.__extends)(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new Z(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Y.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Y.createError(t))},e.prototype._complete=function(){this.scheduleMessage(Y.createComplete())},e}(k.a),Z=function(t,e){this.notification=t,this.destination=e},$=n("+CnV"),tt=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return Object(i.__extends)(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[$.a])return t instanceof D.a&&!n?t:new e(t,n);if(Object(P.a)(t))return new S.a(t,n);if(Object(L.a)(t))return new V(t,n);if("function"==typeof t[B.a]||"string"==typeof t)return new q(t,n);if(Object(M.a)(t))return new Q(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[$.a]().subscribe(t):e[$.a]().subscribe(new J(t,n,0))},e}(D.a).create,et=n("tZ2B"),nt=n("PIsA"),rt=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new it(t,this.selector,this.caught))},t}(),it=function(t){function e(e,n,r){t.call(this,e),this.selector=n,this.caught=r}return Object(i.__extends)(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(Object(nt.a)(this,n))}},e}(et.a);function ot(t){return function(t){return function(e){var n=new rt(t),r=e.lift(n);return n.caught=r}}(t)(this)}var at=n("8D5t");function st(){return Object(at.a)(1)(this)}var ut=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return Object(i.__extends)(e,t),e}(Error),ct=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new lt(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),lt=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return Object(i.__extends)(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){this.resultSelector?this._tryResultSelector(t,e):this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new ut):(t.next(this.defaultValue),t.complete())},e}(k.a);function ht(t,e,n){return function(t,e,n){return function(r){return r.lift(new ct(t,e,n,r))}}(t,e,n)(this)}var ft=V.create,dt=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new pt(t,this.predicate,this.thisArg,this.source))},t}(),pt=function(t){function e(e,n,r,i){t.call(this,e),this.predicate=n,this.thisArg=r,this.source=i,this.index=0,this.thisArg=r||this}return Object(i.__extends)(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(k.a);function yt(t,e){return function(t,e){return function(n){return n.lift(new dt(t,e,n))}}(t,e)(this)}var mt=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new gt(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),gt=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,"undefined"!=typeof i&&(this.lastValue=i,this.hasValue=!0)}return Object(i.__extends)(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new ut)},e}(k.a);function vt(t,e,n){return function(t,e,n){return function(r){return r.lift(new mt(t,e,n,r))}}(t,e,n)(this)}function bt(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(at.a)(t)(this)}function wt(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new _t(t,e,n))}}var _t=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new Et(t,this.accumulator,this.seed,this.hasSeed))},t}(),Et=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this._seed=r,this.hasSeed=i,this.index=0}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(k.a),Tt=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return Object(i.__extends)(e,t),e}(Error);function St(t){return function(e){return 0===t?new z.a:e.lift(new It(t))}}var It=function(){function t(t){if(this.total=t,this.total<0)throw new Tt}return t.prototype.call=function(t,e){return e.subscribe(new Ct(t,this.total))},t}(),Ct=function(t){function e(e,n){t.call(this,e),this.total=n,this.ring=new Array,this.count=0}return Object(i.__extends)(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(k.a),At=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new kt(t,this.defaultValue))},t}(),kt=function(t){function e(e,n){t.call(this,e),this.defaultValue=n,this.isEmpty=!0}return Object(i.__extends)(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(k.a),Nt=n("f9aG");function Ot(t,e){return arguments.length>=2?function(n){return Object(Nt.a)(wt(t,e),St(1),(void 0===(r=e)&&(r=null),function(t){return t.lift(new At(r))}))(n);var r}:function(e){return Object(Nt.a)(wt(function(e,n,r){return t(e,n,r+1)}),St(1))(e)}}var xt=null;function Rt(){return xt}var Dt,Pt={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};r.Z.Node&&(Dt=r.Z.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var jt,Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,xt||(xt=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var r;(r=t)[e].apply(r,n)},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return Pt},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return Dt.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Lt.hasOwnProperty(e)&&(e=Lt[e]))}return Mt[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=Ut||(Ut=document.querySelector("base"))?Ut.getAttribute("href"):null;return null==n?null:(e=n,jt||(jt=document.createElement("a")),jt.setAttribute("href",e),"/"===jt.pathname.charAt(0)?jt.pathname:"/"+jt.pathname)},e.prototype.resetBaseElement=function(){Ut=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return function(t,e){e=encodeURIComponent(e);for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],o=i.indexOf("="),a=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],s=a[1];if(a[0].trim()===e)return decodeURIComponent(s)}return null}(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(i.__extends)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),Ut=null,Ft=w;function Bt(){return!!window.history.pushState}var qt=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(i.__extends)(e,t),e.prototype._init=function(){this.location=Rt().getLocation(),this._history=Rt().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return Rt().getBaseHref(this._doc)},e.prototype.onPopState=function(t){Rt().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){Rt().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){Bt()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){Bt()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.m,args:[Ft]}]}]},e}(o),Ht=function(){function t(t){this._doc=t,this._dom=Rt()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t&&this._dom.querySelector(this._doc,"meta["+t+"]")||null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),r=this.getTag(n);if(r&&this._containsAttributes(t,r))return r}var i=this._dom.createElement("meta");this._setMetaElementAttributes(t,i);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,i),i},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t}(),Wt=new r.n("TRANSITION_ID"),Gt=[{provide:r.d,useFactory:function(t,e,n){return function(){n.get(r.e).donePromise.then(function(){var n=Rt();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[Wt,Ft,r.o],multi:!0}],Kt=function(){function t(){}return t.init=function(){Object(r.R)(new t)},t.prototype.addToWindow=function(t){r.Z.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.Z.getAllAngularTestabilities=function(){return t.getAllTestabilities()},r.Z.getAllAngularRootElements=function(){return t.getAllRootElements()},r.Z.frameworkStabilizers||(r.Z.frameworkStabilizers=[]),r.Z.frameworkStabilizers.push(function(t){var e=r.Z.getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(o)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?Rt().isShadowRoot(e)?this.findTestabilityInTree(t,Rt().getHost(e),!0):this.findTestabilityInTree(t,Rt().parentElement(e),!0):null},t}(),zt=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return Rt().getTitle(this._doc)},t.prototype.setTitle=function(t){Rt().setTitle(this._doc,t)},t}();function Qt(t,e){"undefined"!=typeof COMPILED&&COMPILED||((r.Z.ng=r.Z.ng||{})[t]=e)}var Yt={ApplicationRef:r.g,NgZone:r.w};function Xt(t){return Object(r.O)(t)}var Jt=new r.n("EventManagerPlugins"),Zt=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),$t=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=Rt().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),te=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),ee=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(i.__extends)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return Rt().remove(t)})},e}(te),ne={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},re=/%COMP%/g,ie="_nghost-%COMP%",oe="_ngcontent-%COMP%";function ae(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?ae(t,i,n):(i=i.replace(re,t),n.push(i))}return n}function se(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var ue=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new ce(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.K.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new de(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.K.Native:return new pe(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=ae(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),ce=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(ne[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=ne[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=ne[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,i){i&r.B.DashCase?t.style.setProperty(e,n,i&r.B.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&r.B.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){he(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return he(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,se(n)):this.eventManager.addEventListener(t,e,se(n))},t}(),le="@".charCodeAt(0);function he(t,e){if(t.charCodeAt(0)===le)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var fe,de=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=ae(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=oe.replace(re,r.id),i.hostAttr=ie.replace(re,r.id),i}return Object(i.__extends)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(ce),pe=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=ae(i.id,i.styles,[]),s=0;s<a.length;s++){var u=document.createElement("style");u.textContent=a[s],o.shadowRoot.appendChild(u)}return o}return Object(i.__extends)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(ce),ye="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},me=ye("addEventListener"),ge=ye("removeEventListener"),ve={},be="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[ye("BLACK_LISTED_EVENTS")]&&(fe={});var we=function(t){return!!fe&&fe.hasOwnProperty(t)},_e=function(t){var e=ve[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[be];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Ee=function(t){function e(e,n){var r=t.call(this,e)||this;return r.ngZone=n,r.patchEvent(),r}return Object(i.__extends)(e,t),e.prototype.patchEvent=function(){if(Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[be]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var i=this,o=n;if(!t[me]||r.w.isInAngularZone()&&!we(e))t.addEventListener(e,o,!1);else{var a=ve[e];a||(a=ve[e]=ye("ANGULAR"+e+"FALSE"));var s=t[a],u=s&&s.length>0;s||(s=t[a]=[]);var c=we(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:c,handler:o});else{for(var l=!1,h=0;h<s.length;h++)if(s[h].handler===o){l=!0;break}l||s.push({zone:c,handler:o})}u||t[me](e,_e,!1)}return function(){return i.removeEventListener(t,e,o)}},e.prototype.removeEventListener=function(t,e,n){var r=t[ge];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=ve[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,_e,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}($t),Te={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Se=new r.n("HammerGestureConfig"),Ie=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),Ce=function(t){function e(e,n){var r=t.call(this,e)||this;return r._config=n,r}return Object(i.__extends)(e,t),e.prototype.supports=function(t){if(!Te.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();return e=e.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){return o.off(e,a)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}($t),Ae=["alt","control","meta","shift"],ke={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Ne=function(t){function e(e){return t.call(this,e)||this}return Object(i.__extends)(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,r){var i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Rt().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(Ae.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=Rt().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Ae.forEach(function(r){r!=n&&(0,ke[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded(function(){return n(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}($t),Oe=function(){function t(t,e){this.defaultDoc=t,this.DOM=e;var n=this.DOM.createHtmlDocument();if(this.inertBodyElement=n.body,null==this.inertBodyElement){var r=this.DOM.createElement("html",n);this.inertBodyElement=this.DOM.createElement("body",n),this.DOM.appendChild(r,this.inertBodyElement),this.DOM.appendChild(n,r)}this.DOM.setInnerHTML(this.inertBodyElement,'<svg><g onload="this.parentNode.remove()"></g></svg>'),!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.DOM.setInnerHTML(this.inertBodyElement,'<svg><p><style><img src="</style><img src=x onerror=alert(1)//">'),this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(t){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(null);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(t){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.DOM.createElement("template");return"content"in e?(this.DOM.setInnerHTML(e,t),e):(this.DOM.setInnerHTML(this.inertBodyElement,t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){var e=this;this.DOM.attributeMap(t).forEach(function(n,r){"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.DOM.removeAttribute(t,r)});for(var n=0,r=this.DOM.childNodesAsList(t);n<r.length;n++){var i=r[n];this.DOM.isElementNode(i)&&this.stripCustomNsAttrs(i)}},t}(),xe=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Re=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function De(t){return(t=String(t)).match(xe)||t.match(Re)?t:(Object(r.P)()&&Rt().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function Pe(t){for(var e={},n=0,r=t.split(",");n<r.length;n++)e[r[n]]=!0;return e}function Me(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];for(var a in o)o.hasOwnProperty(a)&&(n[a]=!0)}return n}var Le,je=Pe("area,br,col,hr,img,wbr"),Ve=Pe("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ue=Pe("rp,rt"),Fe=Me(Ue,Ve),Be=Me(je,Me(Ve,Pe("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Me(Ue,Pe("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fe),qe=Pe("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),He=Pe("srcset"),We=Me(qe,He,Pe("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),Ge=function(){function t(){this.sanitizedSomething=!1,this.buf=[],this.DOM=Rt()}return t.prototype.sanitizeChildren=function(t){for(var e=this.DOM.firstChild(t);e;)if(this.DOM.isElementNode(e)?this.startElement(e):this.DOM.isTextNode(e)?this.chars(this.DOM.nodeValue(e)):this.sanitizedSomething=!0,this.DOM.firstChild(e))e=this.DOM.firstChild(e);else for(;e;){this.DOM.isElementNode(e)&&this.endElement(e);var n=this.checkClobberedElement(e,this.DOM.nextSibling(e));if(n){e=n;break}e=this.checkClobberedElement(e,this.DOM.parentElement(e))}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,n=this.DOM.nodeName(t).toLowerCase();Be.hasOwnProperty(n)?(this.buf.push("<"),this.buf.push(n),this.DOM.attributeMap(t).forEach(function(t,n){var r,i=n.toLowerCase();We.hasOwnProperty(i)?(qe[i]&&(t=De(t)),He[i]&&(r=t,t=(r=String(r)).split(",").map(function(t){return De(t.trim())}).join(", ")),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(Qe(t)),e.buf.push('"')):e.sanitizedSomething=!0}),this.buf.push(">")):this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=this.DOM.nodeName(t).toLowerCase();Be.hasOwnProperty(e)&&!je.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(Qe(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&this.DOM.contains(t,e))throw new Error("Failed to sanitize html because the element is clobbered: "+this.DOM.getOuterHTML(t));return e},t}(),Ke=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ze=/([^\#-~ |!])/g;function Qe(t){return t.replace(/&/g,"&amp;").replace(Ke,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ze,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ye=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Xe=/^url\(([^)]+)\)$/,Je=function(){},Ze=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(i.__extends)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case r.D.NONE:return e;case r.D.HTML:return e instanceof tn?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var n=Rt(),i=null;try{Le=Le||new Oe(t,n);var o=e?String(e):"";i=Le.getInertBodyElement(o);var a=5,s=o;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,o=s,s=n.getInnerHTML(i),i=Le.getInertBodyElement(o)}while(o!==s);var u=new Ge,c=u.sanitizeChildren(n.getTemplateContent(i)||i);return Object(r.P)()&&u.sanitizedSomething&&n.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),c}finally{if(i)for(var l=n.getTemplateContent(i)||i,h=0,f=n.childNodesAsList(l);h<f.length;h++)n.removeChild(l,f[h])}}(this._doc,String(e)));case r.D.STYLE:return e instanceof en?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(Xe);return e&&De(e[1])===e[1]||t.match(Ye)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Object(r.P)()&&Rt().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case r.D.SCRIPT:if(e instanceof nn)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case r.D.URL:return e instanceof on||e instanceof rn?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),De(String(e)));case r.D.RESOURCE_URL:if(e instanceof on)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof $e)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new tn(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new en(t)},e.prototype.bypassSecurityTrustScript=function(t){return new nn(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new rn(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new on(t)},e}(Je),$e=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),tn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}($e),en=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getTypeName=function(){return"Style"},e}($e),nn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getTypeName=function(){return"Script"},e}($e),rn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getTypeName=function(){return"URL"},e}($e),on=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}($e),an=[{provide:r.y,useValue:"browser"},{provide:r.z,useValue:function(){Vt.makeCurrent(),Kt.init()},multi:!0},{provide:o,useClass:qt,deps:[Ft]},{provide:Ft,useFactory:function(){return document},deps:[]}],sn=Object(r.M)(r.Q,"browser",an);function un(){return new r.k}var cn=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Wt,useExisting:r.c},Gt]}},t}();"undefined"!=typeof window&&window;var ln=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new hn(t,this.predicate,this.thisArg))},t}(),hn=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.thisArg=r,this.count=0}return Object(i.__extends)(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(k.a);function fn(t,e){return function(t,e){return function(n){return n.lift(new ln(t,e))}}(t,e)(this)}var dn=function(t,e){this.id=t,this.url=e},pn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(dn),yn=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(dn),mn=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(dn),gn=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(dn),vn=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(dn),bn=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(dn),wn=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(dn),_n=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(dn),En=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(dn),Tn=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Sn=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),In=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Cn=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),An=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),kn=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Nn="primary",On=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function xn(t){return new On(t)}function Rn(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var Dn=function(t,e){this.routes=t,this.module=e};function Pn(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];Mn(r,Ln(e,r))}}function Mn(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==Nn)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Pn(t.children,e)}function Ln(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function jn(t){var e=t.children&&t.children.map(jn);return e?Object(i.__assign)({},t,{children:e}):Object(i.__assign)({},t)}function Vn(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function Un(t){return Array.prototype.concat.apply([],t)}function Fn(t){return t.length>0?t[t.length-1]:null}function Bn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function qn(t){var e=bt.call(t);return yt.call(e,function(t){return!0===t})}function Hn(t){return Object(r._2)(t)?t:Object(r._3)(t)?ft(Promise.resolve(t)):I(t)}function Wn(t,e,n){return n?function(t,e){return Vn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Qn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Qn(a=n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Qn(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Qn(n.segments,a)&&!!n.children[Nn]&&e(n.children[Nn],r,s)}(e,n,n.segments)}(t.root,e.root)}var Gn=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=xn(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Zn.serialize(this)},t}(),Kn=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,Bn(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return $n(this)},t}(),zn=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=xn(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return or(this)},t}();function Qn(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function Yn(t,e){var n=[];return Bn(t.children,function(t,r){r===Nn&&(n=n.concat(e(t,r)))}),Bn(t.children,function(t,r){r!==Nn&&(n=n.concat(e(t,r)))}),n}var Xn=function(){},Jn=function(){function t(){}return t.prototype.parse=function(t){var e=new lr(t);return new Gn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return $n(e);if(n){var r=e.children[Nn]?t(e.children[Nn],!1):"",i=[];return Bn(e.children,function(e,n){n!==Nn&&i.push(n+":"+t(e,!1))}),i.length>0?r+"("+i.join("//")+")":r}var o=Yn(e,function(n,r){return r===Nn?[t(e.children[Nn],!1)]:[r+":"+t(n,!1)]});return $n(e)+"/("+o.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return er(t)+"="+er(e)}).join("&"):er(t)+"="+er(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Zn=new Jn;function $n(t){return t.segments.map(function(t){return or(t)}).join("/")}function tr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function er(t){return tr(t).replace(/%3B/gi,";")}function nr(t){return tr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rr(t){return decodeURIComponent(t)}function ir(t){return rr(t.replace(/\+/g,"%20"))}function or(t){return""+nr(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+nr(t)+"="+nr(e[t])}).join(""));var e}var ar=/^[^\/()?;=&#]+/;function sr(t){var e=t.match(ar);return e?e[0]:""}var ur=/^[^=?&#]+/,cr=/^[^?&#]+/,lr=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kn([],{}):new Kn([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Nn]=new Kn(t,e)),n},t.prototype.parseSegment=function(){var t=sr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new zn(rr(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=sr(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=sr(this.remaining);r&&this.capture(n=r)}t[rr(e)]=rr(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(ur))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(cr);return e?e[0]:""}(this.remaining);i&&this.capture(r=i)}var o=ir(n),a=ir(r);if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(t[o]=s=[s]),s.push(a)}else t[o]=a}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=sr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Nn);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Nn]:new Kn([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),hr=function(t){this.segmentGroup=t||null},fr=function(t){this.urlTree=t};function dr(t){return new D.a(function(e){return e.error(new hr(t))})}function pr(t){return new D.a(function(e){return e.error(new fr(t))})}function yr(t){return new D.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var mr=function(){function t(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.u)}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Nn),n=x.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return ot.call(n,function(e){if(e instanceof fr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof hr)throw t.noMatchError(e);throw e})},t.prototype.match=function(t){var e=this,n=this.expandSegmentGroup(this.ngModule,this.config,t.root,Nn),r=x.call(n,function(n){return e.createUrlTree(n,t.queryParams,t.fragment)});return ot.call(r,function(t){if(t instanceof hr)throw e.noMatchError(t);throw t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,i=t.segments.length>0?new Kn([],((r={})[Nn]=t,r)):t;return new Gn(i,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?x.call(this.expandChildren(t,e,n),function(t){return new Kn([],t)}):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return I({});var o=[],a=[],s={};Bn(n,function(n,i){var u=x.call(r.expandSegmentGroup(t,e,n,i),function(t){return s[i]=t});i===Nn?o.push(u):a.push(u)});var u=st.call(I.apply(void 0,o.concat(a))),c=vt.call(u);return x.call(c,function(){return s})}(n.children)},t.prototype.expandSegment=function(t,e,n,r,i,o){var a=this,s=I.apply(void 0,n),u=x.call(s,function(s){var u=a.expandSegmentAgainstRoute(t,e,n,s,r,i,o);return ot.call(u,function(t){if(t instanceof hr)return I(null);throw t})}),c=st.call(u),l=ht.call(c,function(t){return!!t});return ot.call(l,function(t,n){if(t instanceof ut||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return I(new Kn([],{}));throw new hr(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return wr(r)!==o?dr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):dr(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?pr(o):R.call(this.lineralizeSegments(n,o),function(n){var o=new Kn(n,{});return i.expandSegment(t,o,e,n,r,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,s=gr(e,r,i),u=s.consumedSegments,c=s.lastChild,l=s.positionalParamSegments;if(!s.matched)return dr(e);var h=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith("/")?pr(h):R.call(this.lineralizeSegments(r,h),function(r){return a.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var o=this;if("**"===n.path)return n.loadChildren?x.call(this.configLoader.load(t.injector,n),function(t){return n._loadedConfig=t,new Kn(r,{})}):I(new Kn(r,{}));var a=gr(e,n,r),s=a.consumedSegments,u=a.lastChild;if(!a.matched)return dr(e);var c=r.slice(u),l=this.getChildConfig(t,n);return R.call(l,function(t){var n=t.module,r=t.routes,a=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(function(n){return br(t,e,n)&&wr(n)!==Nn})}(t,n)?{segmentGroup:vr(new Kn(e,function(t,e){var n={};n[Nn]=e;for(var r=0,i=t;r<i.length;r++){var o=i[r];""===o.path&&wr(o)!==Nn&&(n[wr(o)]=new Kn([],{}))}return n}(r,new Kn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(function(n){return br(t,e,n)})}(t,n)?{segmentGroup:vr(new Kn(t.segments,function(t,e,n,o){for(var a={},s=0,u=r;s<u.length;s++){var c=u[s];br(t,e,c)&&!o[wr(c)]&&(a[wr(c)]=new Kn([],{}))}return Object(i.__assign)({},o,a)}(t,n,0,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,c,r),u=a.segmentGroup,l=a.slicedSegments;if(0===l.length&&u.hasChildren()){var h=o.expandChildren(n,r,u);return x.call(h,function(t){return new Kn(s,t)})}if(0===r.length&&0===l.length)return I(new Kn(s,{}));var f=o.expandSegment(n,u,r,l,Nn,!0);return x.call(f,function(t){return new Kn(s.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?I(new Dn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?I(e._loadedConfig):R.call(function(t,e){var n=e.canLoad;return n&&0!==n.length?qn(x.call(tt(n),function(n){var r=t.get(n);return Hn(r.canLoad?r.canLoad(e):r(e))})):I(!0)}(t.injector,e),function(r){return r?x.call(n.configLoader.load(t.injector,e),function(t){return e._loadedConfig=t,t}):function(t){return new D.a(function(e){return e.error(((n=Error("NavigationCancelingError: Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false")).ngNavigationCancelingError=!0,n));var n})}(e)}):I(new Dn([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return I(n);if(r.numberOfChildren>1||!r.children[Nn])return yr(t.redirectTo);r=r.children[Nn]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Gn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return Bn(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return Bn(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new Kn(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){for(var n=0,r=0,i=e;r<i.length;r++){var o=i[r];if(o.path===t.path)return e.splice(n),o;n++}return t},t}();function gr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||Rn)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function vr(t){if(1===t.numberOfChildren&&t.children[Nn]){var e=t.children[Nn];return new Kn(t.segments.concat(e.segments),e.children)}return t}function br(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function wr(t){return t.outlet||Nn}var _r=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=Er(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=Er(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=Tr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return Tr(t,this._root).map(function(t){return t.value})},t}();function Er(t,e){if(t===e.value)return e;for(var n=0,r=e.children;n<r.length;n++){var i=Er(t,r[n]);if(i)return i}return null}function Tr(t,e){if(t===e.value)return[e];for(var n=0,r=e.children;n<r.length;n++){var i=Tr(t,r[n]);if(i.length)return i.unshift(e),i}return[]}var Sr=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function Ir(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var Cr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,Rr(r,e),r}return Object(i.__extends)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(_r);function Ar(t,e){var n=function(t,e){var n=new Or([],{},{},"",{},Nn,e,null,t.root,-1,{});return new xr("",new Sr(n,[]))}(t,e),r=new T([new zn("",{})]),i=new T({}),o=new T({}),a=new T({}),s=new T(""),u=new kr(r,i,a,s,o,Nn,e,n.root);return u.snapshot=n.root,new Cr(new Sr(u,[]),n)}var kr=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=x.call(this.params,function(t){return xn(t)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=x.call(this.queryParams,function(t){return xn(t)})),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function Nr(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var o=n[r],a=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(a.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object(i.__assign)({},t.params,e.params),data:Object(i.__assign)({},t.data,e.data),resolve:Object(i.__assign)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Or=function(){function t(t,e,n,r,i,o,a,s,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=xn(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=xn(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),xr=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,Rr(r,n),r}return Object(i.__extends)(e,t),e.prototype.toString=function(){return Dr(this._root)},e}(_r);function Rr(t,e){e.value._routerState=t,e.children.forEach(function(e){return Rr(t,e)})}function Dr(t){var e=t.children.length>0?" { "+t.children.map(Dr).join(", ")+" } ":"";return""+t.value+e}function Pr(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Vn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Vn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Vn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Mr(t,e){var n,r;return Vn(t.params,e.params)&&Qn(n=t.url,r=e.url)&&n.every(function(t,e){return Vn(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||Mr(t.parent,e.parent))}function Lr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function jr(t,e,n,r,i){var o={};return r&&Bn(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new Gn(n.root===t?e:function t(e,n,r){var i={};return Bn(e.children,function(e,o){i[o]=e===n?r:t(e,n,r)}),new Kn(e.segments,i)}(n.root,t,e),o,i)}var Vr=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Lr(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==Fn(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),Ur=function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n};function Fr(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Nn]:""+t}function Br(t,e,n){if(t||(t=new Kn([],{})),0===t.segments.length&&t.hasChildren())return qr(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=Fr(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!Kr(s,u,a))return o;r+=2}else{if(!Kr(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Kn(t.segments.slice(0,r.pathIndex),{});return o.children[Nn]=new Kn(t.segments.slice(r.pathIndex),t.children),qr(o,0,i)}return r.match&&0===i.length?new Kn(t.segments,{}):r.match&&!t.hasChildren()?Hr(t,e,n):r.match?qr(t,0,i):Hr(t,e,n)}function qr(t,e,n){if(0===n.length)return new Kn(t.segments,{});var r=function(t){return"object"!=typeof t[0]?((e={})[Nn]=t,e):void 0===t[0].outlets?((n={})[Nn]=t,n):t[0].outlets;var e,n}(n),i={};return Bn(r,function(n,r){null!==n&&(i[r]=Br(t.children[r],e,n))}),Bn(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new Kn(t.segments,i)}function Hr(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Wr(n[i].outlets);return new Kn(r,o)}if(0===i&&Lr(n[0]))r.push(new zn(t.segments[e].path,n[0])),i++;else{var a=Fr(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&Lr(s)?(r.push(new zn(a,Gr(s))),i+=2):(r.push(new zn(a,{})),i++)}}return new Kn(r,{})}function Wr(t){var e={};return Bn(t,function(t,n){null!==t&&(e[n]=Hr(new Kn([],{}),0,t))}),e}function Gr(t){var e={};return Bn(t,function(t,n){return e[n]=""+t}),e}function Kr(t,e,n){return t==n.path&&Vn(e,n.parameters)}var zr=function(t){this.path=t,this.route=this.path[this.path.length-1]},Qr=function(t,e){this.component=t,this.route=e},Yr=function(){function t(t,e,n,r){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=r,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.initialize=function(t){var e=this.future._root;this.setupChildRouteGuards(e,this.curr?this.curr._root:null,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(!this.isDeactivating()&&!this.isActivating())return I(!0);var e=this.runCanDeactivateChecks();return R.call(e,function(e){return e?t.runCanActivateChecks():I(!1)})},t.prototype.resolveData=function(t){var e=this;if(!this.isActivating())return I(null);var n=tt(this.canActivateChecks),r=A.call(n,function(n){return e.runResolve(n.route,t)});return(function(t,e){return arguments.length>=2?Ot(t,e)(this):Ot(t)(this)}).call(r,function(t,e){return t})},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.setupChildRouteGuards=function(t,e,n,r){var i=this,o=Ir(e);t.children.forEach(function(t){i.setupRouteGuards(t,o[t.value.outlet],n,r.concat([t.value])),delete o[t.value.outlet]}),Bn(o,function(t,e){return i.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.setupRouteGuards=function(t,e,n,r){var i=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){var s=this.shouldRunGuardsAndResolvers(o,i,i.routeConfig.runGuardsAndResolvers);s?this.canActivateChecks.push(new zr(r)):(i.data=o.data,i._resolvedData=o._resolvedData),this.setupChildRouteGuards(t,e,i.component?a?a.children:null:n,r),s&&this.canDeactivateChecks.push(new Qr(a.outlet.component,o))}else o&&this.deactivateRouteAndItsChildren(e,a),this.canActivateChecks.push(new zr(r)),this.setupChildRouteGuards(t,null,i.component?a?a.children:null:n,r)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!Mr(t,e)||!Vn(t.queryParams,e.queryParams);case"paramsChange":default:return!Mr(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,r=Ir(t),i=t.value;Bn(r,function(t,r){n.deactivateRouteAndItsChildren(t,i.component?e?e.children.getContext(r):null:e)}),this.canDeactivateChecks.push(new Qr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))},t.prototype.runCanDeactivateChecks=function(){var t=this,e=tt(this.canDeactivateChecks),n=R.call(e,function(e){return t.runCanDeactivate(e.component,e.route)});return yt.call(n,function(t){return!0===t})},t.prototype.runCanActivateChecks=function(){var t=this,e=tt(this.canActivateChecks),n=A.call(e,function(e){return qn(tt([t.fireChildActivationStart(e.route.parent),t.fireActivationStart(e.route),t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))});return yt.call(n,function(t){return!0===t})},t.prototype.fireActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new An(t)),I(!0)},t.prototype.fireChildActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new In(t)),I(!0)},t.prototype.runCanActivate=function(t){var e=this,n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?qn(x.call(tt(n),function(n){var r,i=e.getToken(n,t);return r=Hn(i.canActivate?i.canActivate(t,e.future):i(t,e.future)),ht.call(r)})):I(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return qn(x.call(tt(r),function(t){return qn(x.call(tt(t.guards),function(r){var i,o=e.getToken(r,t.node);return i=Hn(o.canActivateChild?o.canActivateChild(n,e.future):o(n,e.future)),ht.call(i)}))}))},t.prototype.extractCanActivateChild=function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!r||0===r.length)return I(!0);var i=R.call(tt(r),function(r){var i,o=n.getToken(r,e);return i=Hn(o.canDeactivate?o.canDeactivate(t,e,n.curr,n.future):o(t,e,n.curr,n.future)),ht.call(i)});return yt.call(i,function(t){return!0===t})},t.prototype.runResolve=function(t,e){return x.call(this.resolveNode(t._resolve,t),function(n){return t._resolvedData=n,t.data=Object(i.__assign)({},t.data,Nr(t,e).resolve),null})},t.prototype.resolveNode=function(t,e){var n=this,r=Object.keys(t);if(0===r.length)return I({});if(1===r.length){var i=r[0];return x.call(this.getResolver(t[i],e),function(t){return(e={})[i]=t,e;var e})}var o={},a=R.call(tt(r),function(r){return x.call(n.getResolver(t[r],e),function(t){return o[r]=t,t})});return x.call(vt.call(a),function(){return o})},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return Hn(n.resolve?n.resolve(e,this.future):n(e,this.future))},t.prototype.getToken=function(t,e){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),Xr=function(){},Jr=function(){function t(t,e,n,r,i){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i}return t.prototype.recognize=function(){try{var t=ti(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,Nn),n=new Or([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},Nn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Sr(n,e),i=new xr(this.url,r);return this.inheritParamsAndData(i._root),I(i)}catch(t){return new D.a(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=Nr(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,i=Yn(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},i.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[t.value.outlet]=t.value}),i.sort(function(t,e){return t.value.outlet===Nn?-1:e.value.outlet===Nn?1:t.value.outlet.localeCompare(e.value.outlet)}),i},t.prototype.processSegment=function(t,e,n,r){for(var i=0,o=t;i<o.length;i++){var a=o[i];try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(t){if(!(t instanceof Xr))throw t}}if(this.noLeftoversInUrl(e,n,r))return[];throw new Xr},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new Xr;if((t.outlet||Nn)!==r)throw new Xr;var o,a=[],s=[];if("**"===t.path){var u=n.length>0?Fn(n).parameters:{};o=new Or(n,u,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,ri(t),r,t.component,t,Zr(e),$r(e)+n.length,ii(t))}else{var c=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Xr;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||Rn)(n,t,e);if(!r)throw new Xr;var o={};Bn(r.posParams,function(t,e){o[e]=t.path});var a=r.consumed.length>0?Object(i.__assign)({},o,r.consumed[r.consumed.length-1].parameters):o;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a}}(e,t,n);a=c.consumedSegments,s=n.slice(c.lastChild),o=new Or(a,c.parameters,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,ri(t),r,t.component,t,Zr(e),$r(e)+a.length,ii(t))}var l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=ti(e,a,s,l),f=h.segmentGroup,d=h.slicedSegments;if(0===d.length&&f.hasChildren()){var p=this.processChildren(l,f);return[new Sr(o,p)]}if(0===l.length&&0===d.length)return[new Sr(o,[])];var y=this.processSegment(l,f,d,Nn);return[new Sr(o,y)]},t}();function Zr(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function $r(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ti(t,e,n,r){if(n.length>0&&function(t,e,n){return r.some(function(n){return ei(t,e,n)&&ni(n)!==Nn})}(t,n)){var o=new Kn(e,function(t,e,n,r){var i={};i[Nn]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(var o=0,a=n;o<a.length;o++){var s=a[o];if(""===s.path&&ni(s)!==Nn){var u=new Kn([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[ni(s)]=u}}return i}(t,e,r,new Kn(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(function(n){return ei(t,e,n)})}(t,n)){var a=new Kn(t.segments,function(t,e,n,o){for(var a={},s=0,u=r;s<u.length;s++){var c=u[s];if(ei(t,e,c)&&!o[ni(c)]){var l=new Kn([],{});l._sourceSegment=t,l._segmentIndexShift=t.segments.length,a[ni(c)]=l}}return Object(i.__assign)({},o,a)}(t,n,0,t.children));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new Kn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function ei(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ni(t){return t.outlet||Nn}function ri(t){return t.data||{}}function ii(t){return t.resolve||{}}var oi=function(){},ai=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),si=new r.n("ROUTES"),ui=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren);return x.call(r,function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Dn(Un(i.injector.get(si)).map(jn),i)})},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?ft(this.loader.load(t)):R.call(Hn(t()),function(t){return t instanceof r.s?I(t):ft(e.compiler.compileModuleAsync(t))})},t}(),ci=function(){},li=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function hi(t){throw t}function fi(t){return I(null)}var di=function(){function t(t,e,n,i,o,a,s,u){var c=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.navigations=new T(null),this.navigationId=0,this.events=new _.a,this.errorHandler=hi,this.navigated=!1,this.hooks={beforePreactivation:fi,afterPreactivation:fi},this.urlHandlingStrategy=new li,this.routeReuseStrategy=new ai,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.ngModule=o.get(r.u),this.resetConfig(u),this.currentUrlTree=new Gn(new Kn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new ui(a,s,function(t){return c.triggerEvent(new Tn(t))},function(t){return c.triggerEvent(new Sn(t))}),this.routerState=Ar(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.urlSerializer.parse(e.url),r="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(n,r,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Pn(t),this.config=t.map(jn),this.navigated=!1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,o=e.queryParams,a=e.fragment,s=e.preserveQueryParams,u=e.queryParamsHandling,c=e.preserveFragment;Object(r.P)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,h=c?this.currentUrlTree.fragment:a,f=null;if(u)switch(u){case"merge":f=Object(i.__assign)({},this.currentUrlTree.queryParams,o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}else f=s?this.currentUrlTree.queryParams:o||null;return null!==f&&(f=this.removeEmptyProps(f)),function(t,e,n,r,i){if(0===n.length)return jr(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Vr(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Bn(r.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:o}])}if(r.segmentPath)return t.concat([r.segmentPath])}return"string"!=typeof r?t.concat([r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):t.concat([r])},[]);return new Vr(n,e,r)}(n);if(o.toRoot())return jr(e.root,new Kn([],{}),e,r,i);var a=function(t,n,r){if(t.isAbsolute)return new Ur(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Ur(r.snapshot._urlSegment,!0,0);var i=Lr(t.commands[0])?0:1;return function(e,n,o){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+i,u=t.numberOfDoubleDots;u>s;){if(u-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new Ur(a,!1,s-u)}()}(o,0,t),s=a.processChildren?qr(a.segmentGroup,a.index,o.commands):Br(a.segmentGroup,a.index,o.commands);return jr(a.segmentGroup,s,e,r,i)}(l,this.currentUrlTree,t,f,h)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof Gn?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof Gn)return Wn(this.currentUrlTree,t,e);var n=this.urlSerializer.parse(t);return Wn(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;A.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):I(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n){var r=this.navigations.value;if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);var i=null,o=null,a=new Promise(function(t,e){i=t,o=e}),s=++this.navigationId;return this.navigations.next({id:s,source:e,rawUrl:t,extras:n,resolve:i,reject:o,promise:a}),a.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,i=t.extras,o=t.resolve,a=t.reject,s=this.urlHandlingStrategy.extract(r),u=!this.navigated||s.toString()!==this.currentUrlTree.toString();("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(r)?(this.events.next(new pn(n,this.serializeUrl(s))),Promise.resolve().then(function(t){return e.runNavigate(s,r,!!i.skipLocationChange,!!i.replaceUrl,n,null)}).then(o,a)):u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new pn(n,this.serializeUrl(s))),Promise.resolve().then(function(t){return e.runNavigate(s,r,!1,!1,n,Ar(s,e.rootComponentType).snapshot)}).then(o,a)):(this.rawUrlTree=r,o(null))},t.prototype.runNavigate=function(t,e,n,r,i,o){var a=this;return i!==this.navigationId?(this.events.next(new mn(i,this.serializeUrl(t),"Navigation ID "+i+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(s,u){var c;if(o)c=I({appliedUrl:t,snapshot:o});else{var l=new mr(a.ngModule.injector,a.configLoader,a.urlSerializer,t,a.config).apply();c=R.call(l,function(e){return x.call(function(t,e,n,r,i){return void 0===i&&(i="emptyOnly"),new Jr(t,e,n,r,i).recognize()}(a.rootComponentType,a.config,e,a.serializeUrl(e),a.paramsInheritanceStrategy),function(n){return a.events.next(new vn(i,a.serializeUrl(t),a.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}})})}var h,f=R.call(c,function(t){return x.call(a.hooks.beforePreactivation(t.snapshot),function(){return t})}),d=x.call(f,function(t){var e=t.appliedUrl,n=t.snapshot;return(h=new Yr(n,a.routerState.snapshot,a.ngModule.injector,function(t){return a.triggerEvent(t)})).initialize(a.rootContexts),{appliedUrl:e,snapshot:n}}),p=R.call(d,function(e){var n=e.appliedUrl,r=e.snapshot;return a.navigationId!==i?I(!1):(a.triggerEvent(new bn(i,a.serializeUrl(t),n,r)),x.call(h.checkGuards(),function(e){return a.triggerEvent(new wn(i,a.serializeUrl(t),n,r,e)),{appliedUrl:n,snapshot:r,shouldActivate:e}}))}),y=R.call(p,function(e){return a.navigationId!==i?I(!1):e.shouldActivate&&h.isActivating()?(a.triggerEvent(new _n(i,a.serializeUrl(t),e.appliedUrl,e.snapshot)),x.call(h.resolveData(a.paramsInheritanceStrategy),function(){return a.triggerEvent(new En(i,a.serializeUrl(t),e.appliedUrl,e.snapshot)),e})):I(e)}),m=R.call(y,function(t){return x.call(a.hooks.afterPreactivation(t.snapshot),function(){return t})}),g=x.call(m,function(t){var e,n,r,i=t.appliedUrl,o=t.shouldActivate;return o?{appliedUrl:i,state:(r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){(s=r.value)._futureSnapshot=n.value;var i=function(e,n,r){return n.children.map(function(n){for(var i=0,o=r.children;i<o.length;i++){var a=o[i];if(e.shouldReuseRoute(a.value.snapshot,n.value))return t(e,n,a)}return t(e,n)})}(e,n,r);return new Sr(s,i)}if(e.retrieve(n.value)){var o=e.retrieve(n.value).route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,o),o}var a,s=new kr(new T((a=n.value).url),new T(a.params),new T(a.queryParams),new T(a.fragment),new T(a.data),a.outlet,a.component,a);return i=n.children.map(function(n){return t(e,n)}),new Sr(s,i)}(a.routeReuseStrategy,(e=t.snapshot)._root,(n=a.routerState)?n._root:void 0),new Cr(r,e)),shouldActivate:o}:{appliedUrl:i,state:null,shouldActivate:o}});a.activateRoutes(g,a.routerState,a.currentUrlTree,i,t,e,n,r,s,u)})},t.prototype.activateRoutes=function(t,e,n,r,i,o,a,s,u,c){var l,h=this;t.forEach(function(t){var n=t.state;if(t.shouldActivate&&r===h.navigationId){if(h.currentUrlTree=t.appliedUrl,h.rawUrlTree=h.urlHandlingStrategy.merge(h.currentUrlTree,o),h.routerState=n,!a){var i=h.urlSerializer.serialize(h.rawUrlTree);h.location.isCurrentPathEqualTo(i)||s?h.location.replaceState(i):h.location.go(i)}new pi(h.routeReuseStrategy,n,e,function(t){return h.triggerEvent(t)}).activate(h.rootContexts),l=!0}else l=!1}).then(function(){l?(h.navigated=!0,h.events.next(new yn(r,h.serializeUrl(i),h.serializeUrl(h.currentUrlTree))),u(!0)):(h.resetUrlToCurrentUrlTree(),h.events.next(new mn(r,h.serializeUrl(i),"")),u(!1))},function(t){if((a=t)&&a.ngNavigationCancelingError)h.navigated=!0,h.resetStateAndUrl(e,n,o),h.events.next(new mn(r,h.serializeUrl(i),t.message)),u(!1);else{h.resetStateAndUrl(e,n,o),h.events.next(new gn(r,h.serializeUrl(i),t));try{u(h.errorHandler(t))}catch(t){c(t)}}var a})},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree))},t}(),pi=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Pr(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=Ir(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),Bn(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Ir(t),o=t.value.component?r.children:e;Bn(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=Ir(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new kn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Cn(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(Pr(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(o=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),yi(a.route)}else{var s=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=s?s.module.componentFactoryResolver:null;o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}();function yi(t){Pr(t.value),t.children.forEach(yi)}var mi=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gi,this.attachRef=null}}(),gi=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new mi,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),vi=function(){function t(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.l,this.deactivateEvents=new r.l,this.name=i||Nn,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new bi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),bi=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===kr?this.route:t===gi?this.childContexts:this.parent.get(t,e)},t}(),wi=function(){},_i=function(){function t(){}return t.prototype.preload=function(t,e){return ot.call(e(),function(){return I(null)})},t}(),Ei=function(){function t(){}return t.prototype.preload=function(t,e){return I(null)},t}(),Ti=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ui(e,n,function(e){return t.triggerEvent(new Tn(e))},function(e){return t.triggerEvent(new Sn(e))})}return t.prototype.setUpPreloading=function(){var t=this,e=fn.call(this.router.events,function(t){return t instanceof yn});this.subscription=A.call(e,function(){return t.preload()}).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(r.u);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;n.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?n.push(this.preloadConfig(t,o)):o.children&&n.push(this.processRoutes(t,o.children))}return bt.call(tt(n))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){var r=n.loader.load(t.injector,e);return R.call(r,function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})})},t}(),Si=new r.n("ROUTER_CONFIGURATION"),Ii=new r.n("ROUTER_FORROOT_GUARD"),Ci=[c,{provide:Xn,useClass:Jn},{provide:di,useFactory:Ri,deps:[r.g,Xn,gi,c,r.o,r.t,r.i,si,Si,[ci,new r.x],[oi,new r.x]]},gi,{provide:kr,useFactory:Di,deps:[di]},{provide:r.t,useClass:r.F},Ti,Ei,_i,{provide:Si,useValue:{enableTracing:!1}}];function Ai(){return new r.v("Router",di)}var ki=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[Ci,xi(e),{provide:Ii,useFactory:Oi,deps:[[di,new r.x,new r.E]]},{provide:Si,useValue:n||{}},{provide:s,useFactory:Ni,deps:[o,[new r.m(u),new r.x],Si]},{provide:wi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ei},{provide:r.v,multi:!0,useFactory:Ai},[Pi,{provide:r.d,multi:!0,useFactory:Mi,deps:[Pi]},{provide:ji,useFactory:Li,deps:[Pi]},{provide:r.b,multi:!0,useExisting:ji}]]}},t.forChild=function(e){return{ngModule:t,providers:[xi(e)]}},t}();function Ni(t,e,n){return void 0===n&&(n={}),n.useHash?new h(t,e):new f(t,e)}function Oi(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function xi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:si,multi:!0,useValue:t}]}function Ri(t,e,n,r,i,o,a,s,u,c,l){void 0===u&&(u={});var h=new di(null,e,n,r,i,o,a,Un(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.enableTracing){var f=Rt();h.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),h}function Di(t){return t.routerState.root}var Pi=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new _.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(a,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(di),i=t.injector.get(Si);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?I(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Si),n=this.injector.get(Ti),i=this.injector.get(di),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function Mi(t){return t.appInitializer.bind(t)}function Li(t){return t.bootstrapListener.bind(t)}var ji=new r.n("Router Initializer");function Vi(t,e){return void 0===e&&(e=0),function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new X(t,e))}}(t,e)(this)}var Ui=n("9eBd"),Fi=new r.n("FirebaseAppConfigToken"),Bi=function(){};function qi(t,e){try{return e?Ui.default.initializeApp(t,e):Ui.default.initializeApp(t)}catch(t){return Ui.default.app("app/duplicate-app"===t.code?t.name:null)}}var Hi=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return Object(i.__extends)(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n,this.pending=!1}return Object(i.__extends)(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),j.a.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;j.a.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){t.call(this)}return Object(i.__extends)(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n("VwZZ").a))),Wi=new(function(t){function e(){t.apply(this,arguments)}return Object(i.__extends)(e,t),e}(function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return Object(i.__extends)(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}())))(Hi),Gi=new r.n("FirebaseAppName"),Ki=function(){function t(){}return t.initializeApp=function(e,n){return{ngModule:t,providers:[{provide:Fi,useValue:e},{provide:Gi,useValue:n}]}},t}(),zi=function(){function t(t){this.zone=t}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.run(function(){return Wi.schedule.apply(Wi,t)})},t}(),Qi=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new Yi(t,this.project,this.resultSelector))},t}(),Yi=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.resultSelector=r,this.index=0}return Object(i.__extends)(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=Object(nt.a)(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._tryNotifyNext(t,e,n,r):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e}(et.a);D.a.prototype.switchMap=function(t,e){return function(t,e){return function(n){return n.lift(new Qi(t,e))}}(t,e)(this)},D.a.of=I,D.a.fromPromise=ft;var Xi=function(){return function(t){var e=this;this.app=t,this.auth=t.auth();var n=new D.a(function(t){return{unsubscribe:e.auth.onAuthStateChanged(t)}});this.authState=Vi.call(n,new zi(Zone.current));var r=new D.a(function(t){return{unsubscribe:e.auth.onIdTokenChanged(t)}}).switchMap(function(t){return t?D.a.fromPromise(t.getIdToken()):D.a.of(null)});this.idToken=Vi.call(r,new zi(Zone.current))}}();function Ji(t){return new Xi(t)}n("VuKk");var Zi=function(){},$i=n("It2I"),to=function(){function t(t){this.afAuth=t,this.authState=null,this.authState=this.afAuth.authState}return t.prototype.googleSignIn=function(){this.afAuth.auth.signInWithPopup(new $i.auth.GoogleAuthProvider)},t.prototype.googleSignOut=function(){this.afAuth.auth.signOut()},t}(),eo=function(){function t(t,e){this.router=t,this.authService=e}return t.prototype.ngOnInit=function(){var t=this;this.authService.authState.subscribe(function(e){console.log(e),e?t.router.navigate(["game"]):console.log("Not connected")})},t.prototype.googleSignIn=function(){this.authService.googleSignIn()},t.prototype.signOut=function(){this.authService.googleSignOut()},t}(),no=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),ro=function(){};D.a.prototype.map=x;var io=n("Rf9G");function oo(t){return function(t){var e=new D.a(function(e){return{unsubscribe:t.onSnapshot(e)}});return Vi.call(e,new zi(Zone.current))}(t).share()}function ao(t){return oo(t).map(function(t){return{payload:t,type:"query"}})}function so(t){return ao(t).map(function(t){return t.payload.docChanges.map(function(t){return{type:t.type,payload:t}})})}D.a.prototype.share=io.a,D.a.prototype.filter=fn,D.a.prototype.scan=function(t,e){return arguments.length>=2?wt(t,e)(this):wt(t)(this)};var uo=function(){function t(t,e){this.ref=t,this.query=e}return t.prototype.stateChanges=function(t){return t&&0!==t.length?so(this.query).map(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}).filter(function(t){return t.length>0}):so(this.query)},t.prototype.auditTrail=function(t){return this.stateChanges(t).scan(function(t,e){return t.concat(e)},[])},t.prototype.snapshotChanges=function(t){return t=function(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(t),function(t,e){return ao(t).map(function(t){return t.payload.docChanges}).scan(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.id==e.doc.id||t.splice(e.newIndex,0,e);break;case"modified":e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e);break;case"removed":t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e)},[]).map(function(t){return t.map(function(t){return{type:t.type,payload:t}})})}(this.query,t)},t.prototype.valueChanges=function(t){return ao(this.query).map(function(t){return t.payload.docs.map(function(t){return t.data()})})},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new co(this.ref.doc(t))},t}(),co=function(){function t(t){this.ref=t}return t.prototype.set=function(t,e){return this.ref.set(t,e)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=ho(this.ref.collection(t),e);return new uo(n.ref,n.query)},t.prototype.snapshotChanges=function(){return oo(this.ref).map(function(t){return{payload:t,type:"value"}})},t.prototype.valueChanges=function(){return this.snapshotChanges().map(function(t){return t.payload.exists?t.payload.data():null})},t}(),lo=new r.n("EnablePersistenceToken");function ho(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}var fo=function(){function t(t,e){this.app=t,this.firestore=t.firestore(),this.persistenceEnabled$=tt(e?t.firestore().enablePersistence().then(function(){return!0},function(){return!1}):new Promise(function(t,e){t(!1)}))}return t.prototype.collection=function(t,e){var n=ho(this.firestore.collection(t),e);return new uo(n.ref,n.query)},t.prototype.doc=function(t){var e=this.firestore.doc(t);return new co(e)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},t}(),po=Ui.default.SDK_VERSION,yo=[],mo=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),go=mo.INFO,vo=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString();switch(e){case mo.DEBUG:case mo.VERBOSE:console.log.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;case mo.INFO:console.info.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;case mo.WARN:console.warn.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;case mo.ERROR:console.error.apply(console,["["+i+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},bo=new(function(){function t(t){this.name=t,this._logLevel=go,this._logHandler=vo,yo.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in mo))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,mo.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,mo.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,mo.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,mo.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,mo.ERROR].concat(t))},t}())("@firebase/firestore"),wo=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function _o(){return bo.logLevel===mo.DEBUG?wo.DEBUG:bo.logLevel===mo.SILENT?wo.SILENT:wo.ERROR}function Eo(t){switch(t){case wo.DEBUG:bo.logLevel=mo.DEBUG;break;case wo.ERROR:bo.logLevel=mo.ERROR;break;case wo.SILENT:bo.logLevel=mo.SILENT;break;default:bo.error("Firestore ("+po+"): Invalid value passed to `setLogLevel`")}}function To(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(bo.logLevel<=mo.DEBUG){var i=n.map(Io);bo.debug.apply(bo,["Firestore ("+po+") ["+t+"]: "+e].concat(i))}}function So(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(bo.logLevel<=mo.ERROR){var r=e.map(Io);bo.error.apply(bo,["Firestore ("+po+"): "+t].concat(r))}}function Io(t){if("string"==typeof t)return t;var e=ko.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}function Co(t){var e="FIRESTORE ("+po+") INTERNAL ASSERTION FAILED: "+t;throw So(e),new Error(e)}function Ao(t,e){t||Co(e)}var ko=function(){function t(){}return t.setPlatform=function(e){t.platform&&Co("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||Co("Platform not set"),t.platform},t}();function No(){return ko.getPlatform().emptyByteString}var Oo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xo=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(e,t),e}(Error);function Ro(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new xo(Oo.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function Do(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Po(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function Mo(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Lo(t){for(var e in Ao(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jo(t){Ao(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Vo(t,e,n){if(e.length!==n)throw new xo(Oo.INVALID_ARGUMENT,"Function "+t+"() requires "+Zo(n,"argument")+", but was called with "+Zo(e.length,"argument")+".")}function Uo(t,e,n){if(e.length<n)throw new xo(Oo.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Zo(n,"argument")+", but was called with "+Zo(e.length,"argument")+".")}function Fo(t,e,n,r){if(e.length<n||e.length>r)throw new xo(Oo.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Zo(e.length,"argument")+".")}function Bo(t,e,n,r){Go(t,e,Jo(n)+" argument",r)}function qo(t,e,n,r){void 0!==r&&Bo(t,e,n,r)}function Ho(t,e,n,r){Go(t,e,n+" option",r)}function Wo(t,e,n,r){void 0!==r&&Ho(t,e,n,r)}function Go(t,e,n,r){if(typeof r!==e||"object"===e&&!Ko(r)){var i=zo(r);throw new xo(Oo.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function Ko(t){return"object"==typeof t&&null!==t&&Object.getPrototypeOf(t)===Object.prototype}function zo(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Co("Unknown wrong type: "+typeof t)}function Qo(t,e,n){if(void 0===n)throw new xo(Oo.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Jo(e)+" argument, but it was undefined.")}function Yo(t,e,n){Mo(e,function(e,r){if(n.indexOf(e)<0)throw new xo(Oo.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function Xo(t,e,n,r){var i=zo(r);return new xo(Oo.INVALID_ARGUMENT,"Function "+t+"() requires its "+Jo(n)+" argument to be a "+e+", but it was: "+i)}function Jo(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Zo(t,e){return t+" "+e+(1===t?"":"s")}var $o=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return Ao(20===e.length,"Invalid auto ID: "+e),e},t}();function ta(t,e){return t<e?-1:t>e?1:0}function ea(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function na(){if("undefined"==typeof Uint8Array)throw new xo(Oo.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ra(){if(!ko.getPlatform().base64Available)throw new xo(Oo.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ia=function(){function t(t){ra(),this._binaryString=t}return t.fromBase64String=function(e){Vo("Blob.fromBase64String",arguments,1),Bo("Blob.fromBase64String","string",1,e),ra();try{return new t(ko.getPlatform().atob(e))}catch(t){throw new xo(Oo.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(Vo("Blob.fromUint8Array",arguments,1),na(),!(e instanceof Uint8Array))throw Xo("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return Vo("Blob.toBase64",arguments,0),ra(),ko.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){Vo("Blob.toUint8Array",arguments,0),na();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return ta(this._binaryString,t._binaryString)},t}(),oa=Ro(ia,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),aa=function(){function t(t,e){if(Vo("GeoPoint",arguments,2),Bo("GeoPoint","number",1,t),Bo("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new xo(Oo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xo(Oo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return ta(this._lat,t._lat)||ta(this._long,t._long)},t}(),sa="(default)",ua=function(){function t(t,e){this.projectId=t,this.database=e||sa}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===sa},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return ta(this.projectId,t.projectId)||ta(this.database,t.database)},t}(),ca=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&Co("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&Co("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):Co("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return Ao(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return Ao(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return Ao(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return Ao(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return Ao(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),la=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new xo(Oo.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(ca),ha=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.isValidIdentifier=function(t){return ha.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new xo(Oo.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new xo(Oo.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new xo(Oo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new xo(Oo.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(ca),da=function(){function t(e){this.path=e,Ao(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.isEqual=function(t){return null!==t&&0===la.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return la.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new la(e.slice()))},t.fromPathString=function(e){return new t(la.fromString(e))},t.EMPTY=new t(new la([])),t}(),pa=function(){function t(t,e,n,r){this.key=t,this.version=e,this.data=n,this.hasLocalMutations=r.hasLocalMutations}return t.prototype.field=function(t){return this.data.field(t)},t.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.data.isEqual(e.data)&&this.hasLocalMutations===e.hasLocalMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"})"},t.compareByKey=function(t,e){return da.comparator(t.key,e.key)},t.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):Co("Trying to compare documents on fields that don't exist")},t}(),ya=function(){function t(t,e){this.key=t,this.version=e}return t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},t.prototype.isEqual=function(t){return t&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},t.compareByKey=function(t,e){return da.comparator(t.key,e.key)},t}(),ma=function(){function t(t,e){this.comparator=t,this.root=e||va.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,va.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,va.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ga(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ga(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ga(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ga(this.root,t,this.comparator,!0)},t}(),ga=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){Ao(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),va=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Co("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw Co("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw Co("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}();va.EMPTY=new(function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new va(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var ba=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),wa=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),_a=function(){function t(t){this.serverTimestampBehavior=t}return t.fromSnapshotOptions=function(e){switch(e.serverTimestamps){case"estimate":return new t(wa.Estimate);case"previous":return new t(wa.Previous);case"none":case void 0:return t.defaultOptions;default:return Co("fromSnapshotOptions() called with invalid options.")}},t.defaultOptions=new t(wa.Default),t}(),Ea=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return Ao(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),ta(this.typeOrder,t.typeOrder)},t}(),Ta=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=ba.NullValue,e.internalValue=null,e}return i.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(Ea),Sa=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ba.BooleanValue,n}return i.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?ta(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(Ea),Ia=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ba.NumberValue,n}return i.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(Ea);function Ca(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Aa=function(t){function e(e){return t.call(this,e)||this}return i.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Ca(this.internalValue,t.internalValue)},e}(Ia),ka=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return i.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Ca(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Ia),Na=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ba.StringValue,n}return i.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?ta(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(Ea),Oa=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ba.TimestampValue,n}return i.__extends(e,t),e.prototype.value=function(t){return this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue.compareTo(t.internalValue):t instanceof xa?-1:this.defaultCompareTo(t)},e}(Ea),xa=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=ba.TimestampValue,r}return i.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===wa.Estimate?this.localWriteTime.toDate():t&&t.serverTimestampBehavior===wa.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime.compareTo(t.localWriteTime):t instanceof Oa?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(Ea),Ra=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ba.BlobValue,n}return i.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Ea),Da=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=ba.RefValue,r}return i.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:da.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(Ea),Pa=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ba.GeoPointValue,n}return i.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Ea),Ma=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ba.ObjectValue,n}return i.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=ta(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return ta(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(Ao(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(Ao(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){Ao(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new ma(ta)),e}(Ea),La=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ba.ArrayValue,n}return i.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return ta(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(Ea),ja=Number,Va=ja.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Ua=ja.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Fa=ja.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Ba(t){return null===t||void 0===t}var qa,Ha=function(){function t(t,e,n,r,i,o){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[Ja]:[new Xa(t),Ja];else{Ao(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Qa.ASCENDING)===Qa.ASCENDING?Ja:Za)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){Ao(null==this.getInequalityFilterField()||!(e instanceof Ga)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),Ao(!da.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){Ao(!da.isDocumentKey(this.path),"No ordering allowed for document query"),Ao(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";Ba(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Ba(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return Ao(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Ba(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Ga&&n.isInequality())return n.field}return null},t.prototype.isDocumentQuery=function(){return da.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return da.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){Ao(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Wa=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;default:return Co("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t}(),Ga=function(){function t(t,e,n){this.field=t,this.op=e,this.value=n}return t.prototype.matches=function(t){if(this.field.isKeyField()){Ao(this.value instanceof Da,"Comparing on key, but filter value not a RefValue");var e=da.comparator(t.key,this.value.key);return this.matchesComparison(e)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},t.prototype.matchesValue=function(t){return this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(t){switch(this.op){case Wa.LESS_THAN:return t<0;case Wa.LESS_THAN_OR_EQUAL:return t<=0;case Wa.EQUAL:return 0===t;case Wa.GREATER_THAN:return t>0;case Wa.GREATER_THAN_OR_EQUAL:return t>=0;default:return Co("Unknown relation op"+this.op)}},t.prototype.isInequality=function(){return this.op!==Wa.EQUAL},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value)},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(),Ka=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},t.prototype.toString=function(){return this.field.canonicalString()+" IS null"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}(),za=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field).value();return"number"==typeof e&&isNaN(e)},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}(),Qa=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Ya=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){Ao(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())Ao(o instanceof Da,"Bound has a non-key value where the key path is being used."),n=da.comparator(o.key,e.key);else{var a=e.field(i.field);Ao(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===Qa.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].isEqual(t.position[e]);return!0},t}(),Xa=function(){function t(t,e){this.field=t,void 0===e&&(e=Qa.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?pa.compareByKey(t,e):pa.compareByField(this.field,t,e);switch(this.dir){case Qa.ASCENDING:return n;case Qa.DESCENDING:return-1*n;default:return Co("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Ja=new Xa(fa.keyField(),Qa.ASCENDING),Za=new Xa(fa.keyField(),Qa.DESCENDING),$a=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),ts=function(){function t(t,e){this.seconds=t,this.nanos=e,Ao(e>=0,"timestamp nanoseconds out of range: "+e),Ao(e<1e9,"timestamp nanoseconds out of range"+e),Ao(t>=-62135596800,"timestamp seconds out of range: "+t),Ao(t<253402300800,"timestamp seconds out of range"+t)}return t.now=function(){return t.fromEpochMilliseconds(Date.now())},t.fromDate=function(e){return t.fromEpochMilliseconds(e.getTime())},t.fromEpochMilliseconds=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.fromISOString=function(e){var n=0,r=$a.exec(e);if(Ao(!!r,"invalid timestamp: "+e),r[1]){var i=r[1];i=(i+"000000000").substr(0,9),n=Number(i)}var o=new Date(e);return new t(Math.floor(o.getTime()/1e3),n)},t.prototype.toDate=function(){return new Date(this.toEpochMilliseconds())},t.prototype.toEpochMilliseconds=function(){return 1e3*this.seconds+this.nanos/1e6},t.prototype.compareTo=function(t){return this.seconds===t.seconds?ta(this.nanos,t.nanos):ta(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanos===this.nanos},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanos="+this.nanos+")"},t}(),es=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new ts(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp.compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanos/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new ts(0,0)),t}();!function(t){t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution"}(qa||(qa={}));var ns,rs=function(){function t(t,e,n,r,i){void 0===r&&(r=es.MIN),void 0===i&&(i=No()),this.query=t,this.targetId=e,this.purpose=n,this.snapshotVersion=r,this.resumeToken=i}return t.prototype.update=function(e){return new t(this.query,this.targetId,this.purpose,e.snapshotVersion,e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),is=function(){function t(t){this.fields=t}return t.prototype.isEqual=function(t){return ea(this.fields,t.fields)},t}(),os=function(){function t(){}return t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),as=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ss=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),us=function(){function t(t,e){this.updateTime=t,this.exists=e,Ao(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof pa&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists?t instanceof pa:null===t||t instanceof ya:(Ao(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!==(e=this.updateTime)&&void 0!==e?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),cs=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&Ao(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof pa?t.version:es.MIN},t}(),ls=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=ss.Set,i}return i.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),Ao(null==e.transformResults,"Transform results received by SetMutation.");var n=cs.getPostMutationVersion(t);return new pa(this.key,n,this.value,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=cs.getPostMutationVersion(t);return new pa(this.key,r,this.value,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(cs),hs=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=ss.Patch,o}return i.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),Ao(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return t;var n=cs.getPostMutationVersion(t),r=this.patchDocument(t);return new pa(this.key,n,r,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=cs.getPostMutationVersion(t),i=this.patchDocument(t);return new pa(this.key,r,i,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){return this.patchObject(t instanceof pa?t.data:Ma.EMPTY)},e.prototype.patchObject=function(t){for(var e=0,n=this.fieldMask.fields;e<n.length;e++){var r=n[e],i=this.data.field(r);t=void 0!==i?t.set(r,i):t.delete(r)}return t},e}(cs),fs=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=ss.Transform,r.precondition=us.exists(!0),r}return i.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),Ao(null!=e.transformResults,"Transform results missing for TransformMutation.");var n=e.transformResults;if(!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.transformObject(r.data,n);return new pa(this.key,r.version,i,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,e),o=this.transformObject(r.data,i);return new pa(this.key,r.version,o,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&ea(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){Ao(t instanceof pa,"Unknown MaybeDocument type "+t);var e=t;return Ao(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],a=o.transform;if(!(a instanceof os))return Co("Encountered unknown transform: "+a);var s=null;e instanceof pa&&(s=e.field(o.field)||null),n.push(new xa(t,s))}return n},e.prototype.transformObject=function(t,e){Ao(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n],i=r.transform,o=r.field;if(!(i instanceof os))return Co("Encountered unknown transform: "+i);t=t.set(o,e[n])}return t},e}(cs),ds=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=ss.Delete,r}return i.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),Ao(null==e.transformResults,"Transform results received by DeleteMutation."),new ya(this.key,es.MIN)},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&Ao(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new ya(this.key,es.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(cs),ps=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function ys(t){switch(t){case Oo.OK:return Co("Treated status OK as error");case Oo.CANCELLED:case Oo.UNKNOWN:case Oo.DEADLINE_EXCEEDED:case Oo.RESOURCE_EXHAUSTED:case Oo.INTERNAL:case Oo.UNAVAILABLE:case Oo.UNAUTHENTICATED:return!1;case Oo.INVALID_ARGUMENT:case Oo.NOT_FOUND:case Oo.ALREADY_EXISTS:case Oo.PERMISSION_DENIED:case Oo.FAILED_PRECONDITION:case Oo.ABORTED:case Oo.OUT_OF_RANGE:case Oo.UNIMPLEMENTED:case Oo.DATA_LOSS:return!0;default:return Co("Unknown status code: "+t)}}function ms(t){if(void 0===t)return So("GRPC error has no .code"),Oo.UNKNOWN;switch(t){case ns.OK:return Oo.OK;case ns.CANCELLED:return Oo.CANCELLED;case ns.UNKNOWN:return Oo.UNKNOWN;case ns.DEADLINE_EXCEEDED:return Oo.DEADLINE_EXCEEDED;case ns.RESOURCE_EXHAUSTED:return Oo.RESOURCE_EXHAUSTED;case ns.INTERNAL:return Oo.INTERNAL;case ns.UNAVAILABLE:return Oo.UNAVAILABLE;case ns.UNAUTHENTICATED:return Oo.UNAUTHENTICATED;case ns.INVALID_ARGUMENT:return Oo.INVALID_ARGUMENT;case ns.NOT_FOUND:return Oo.NOT_FOUND;case ns.ALREADY_EXISTS:return Oo.ALREADY_EXISTS;case ns.PERMISSION_DENIED:return Oo.PERMISSION_DENIED;case ns.FAILED_PRECONDITION:return Oo.FAILED_PRECONDITION;case ns.ABORTED:return Oo.ABORTED;case ns.OUT_OF_RANGE:return Oo.OUT_OF_RANGE;case ns.UNIMPLEMENTED:return Oo.UNIMPLEMENTED;case ns.DATA_LOSS:return Oo.DATA_LOSS;default:return Co("Unknown status code: "+t)}}!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(ns||(ns={}));var gs=function(){function t(t){this.comparator=t,this.data=new ma(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),vs=new ma(da.comparator);function bs(){return vs}var ws=new ma(da.comparator);function _s(){return ws}var Es=new ma(da.comparator);function Ts(){return Es}var Ss=new gs(da.comparator);function Is(){return Ss}var Cs,As=function(){function t(t,e,n){this.snapshotVersion=t,this.targetChanges=e,this.documentUpdates=n}return t.prototype.addDocumentUpdate=function(t){this.documentUpdates=this.documentUpdates.insert(t.key,t)},t.prototype.handleExistenceFilterMismatch=function(t){this.targetChanges[t]={mapping:new Ns,snapshotVersion:es.MIN,currentStatusUpdate:Cs.MarkNotCurrent,resumeToken:No()}},t}();!function(t){t[t.None=0]="None",t[t.MarkNotCurrent=1]="MarkNotCurrent",t[t.MarkCurrent=2]="MarkCurrent"}(Cs||(Cs={}));var ks=Is(),Ns=function(){function t(){this.docs=ks}return Object.defineProperty(t.prototype,"documents",{get:function(){return this.docs},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this.docs=this.docs.add(t)},t.prototype.delete=function(t){this.docs=this.docs.delete(t)},t.prototype.isEqual=function(t){return null!==t&&this.docs.isEqual(t.docs)},t}(),Os=function(){function t(){this.addedDocuments=ks,this.removedDocuments=ks}return t.prototype.applyToKeySet=function(t){var e=t;return this.addedDocuments.forEach(function(t){return e=e.add(t)}),this.removedDocuments.forEach(function(t){return e=e.delete(t)}),e},t.prototype.add=function(t){this.addedDocuments=this.addedDocuments.add(t),this.removedDocuments=this.removedDocuments.delete(t)},t.prototype.delete=function(t){this.addedDocuments=this.addedDocuments.delete(t),this.removedDocuments=this.removedDocuments.add(t)},t.prototype.isEqual=function(t){return null!==t&&this.addedDocuments.isEqual(t.addedDocuments)&&this.removedDocuments.isEqual(t.removedDocuments)},t}(),xs=function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r},Rs=function(t,e){this.targetId=t,this.existenceFilter=e},Ds=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Ps=function(){return function(t,e,n,r){void 0===n&&(n=No()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Ms=function(){function t(t,e,n){this.snapshotVersion=t,this.listenTargets=e,this.existenceFilters={},this.targetChanges={},this.documentUpdates=bs(),this.frozen=!1,this.pendingTargetResponses=jo(n)}return t.prototype.add=function(t){Ao(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t instanceof xs?this.addDocumentChange(t):t instanceof Ps?this.addTargetChange(t):t instanceof Rs?this.addExistenceFilterChange(t):Co("Unknown watch change: "+t)},t.prototype.addChanges=function(t){var e=this;Ao(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t.forEach(function(t){return e.add(t)})},t.prototype.createRemoteEvent=function(){var t=this,e=this.targetChanges;return Po(this.targetChanges,function(n){t.isActiveTarget(n)||delete e[n]}),this.frozen=!0,new As(this.snapshotVersion,e,this.documentUpdates)},t.prototype.ensureTargetChange=function(t){var e=this.targetChanges[t];return e||(e={currentStatusUpdate:Cs.None,snapshotVersion:this.snapshotVersion,mapping:new Os,resumeToken:No()},this.targetChanges[t]=e),e},t.prototype.isActiveTarget=function(t){return!Do(this.pendingTargetResponses,t)&&Do(this.listenTargets,t)},t.prototype.addDocumentChange=function(t){for(var e=!1,n=0,r=t.updatedTargetIds;n<r.length;n++)this.isActiveTarget(a=r[n])&&(this.ensureTargetChange(a).mapping.add(t.key),e=!0);for(var i=0,o=t.removedTargetIds;i<o.length;i++){var a;this.isActiveTarget(a=o[i])&&(this.ensureTargetChange(a).mapping.delete(t.key),e=!0)}t.newDoc&&e&&(this.documentUpdates=this.documentUpdates.insert(t.key,t.newDoc))},t.prototype.addTargetChange=function(t){var e=this;t.targetIds.forEach(function(n){var r=e.ensureTargetChange(n);switch(t.state){case Ds.NoChange:e.isActiveTarget(n)&&Ls(r,t.resumeToken);break;case Ds.Added:e.recordTargetResponse(n),Do(e.pendingTargetResponses,n)||(r.mapping=new Os,r.currentStatusUpdate=Cs.None,delete e.existenceFilters[n]),Ls(r,t.resumeToken);break;case Ds.Removed:e.recordTargetResponse(n),Ao(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Ds.Current:e.isActiveTarget(n)&&(r.currentStatusUpdate=Cs.MarkCurrent,Ls(r,t.resumeToken));break;case Ds.Reset:e.isActiveTarget(n)&&(r.mapping=new Ns,Ls(r,t.resumeToken));break;default:Co("Unknown target watch change state: "+t.state)}})},t.prototype.recordTargetResponse=function(t){var e=(this.pendingTargetResponses[t]||0)-1;0===e?delete this.pendingTargetResponses[t]:this.pendingTargetResponses[t]=e},t.prototype.addExistenceFilterChange=function(t){this.isActiveTarget(t.targetId)&&(this.existenceFilters[t.targetId]=t.existenceFilter)},t}();function Ls(t,e){e.length>0&&(t.resumeToken=e)}var js,Vs,Us=((js={})[Qa.ASCENDING.name]="ASCENDING",js[Qa.DESCENDING.name]="DESCENDING",js),Fs=((Vs={})[Wa.LESS_THAN.name]="LESS_THAN",Vs[Wa.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Vs[Wa.GREATER_THAN.name]="GREATER_THAN",Vs[Wa.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Vs[Wa.EQUAL.name]="EQUAL",Vs);function Bs(t,e){Ao(!Ba(t),e+" is missing")}function qs(t){return"number"==typeof t?t:"string"==typeof t?Number(t):Co("can't parse "+t)}var Hs=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?Oo.UNKNOWN:ms(t.code);return new xo(e,t.message||"")},t.prototype.toInt32Value=function(t){return Ba(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Ba(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanos}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return ts.fromISOString(t);Ao(!!t,"Cannot deserialize null or undefined timestamp.");var e=qs(t.seconds||"0");return new ts(e,t.nanos||0)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(Ao(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),ia.fromBase64String(t)):(Ao(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),ia.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return Ao(!!t,"Trying to deserialize version that isn't set"),es.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=la.fromString(t);return Ao(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return Ao(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),Ao(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new da(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return 0===t.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?la.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new la(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new la(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return Ao(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof Ta)return{nullValue:"NULL_VALUE"};if(t instanceof Sa)return{booleanValue:t.value()};if(t instanceof Aa)return{integerValue:""+t.value()};if(t instanceof ka){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Na?{stringValue:t.value()}:t instanceof Ma?{mapValue:this.toMapValue(t)}:t instanceof La?{arrayValue:this.toArrayValue(t)}:t instanceof Oa?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Pa?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Ra?{bytesValue:this.toBytes(t.value())}:t instanceof Da?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:Co("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(Ws(t,n,"nullValue"))return Ta.INSTANCE;if(Ws(t,n,"booleanValue"))return Sa.of(t.booleanValue);if(Ws(t,n,"integerValue"))return new Aa(qs(t.integerValue));if(Ws(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return ka.NAN;if("Infinity"===t.doubleValue)return ka.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return ka.NEGATIVE_INFINITY}return new ka(t.doubleValue)}if(Ws(t,n,"stringValue"))return new Na(t.stringValue);if(Ws(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(Ws(t,n,"arrayValue"))return Bs(t.arrayValue,"arrayValue"),new La((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if(Ws(t,n,"timestampValue"))return Bs(t.timestampValue,"timestampValue"),new Oa(this.fromTimestamp(t.timestampValue));if(Ws(t,n,"geoPointValue"))return Bs(t.geoPointValue,"geoPointValue"),new Pa(new aa(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if(Ws(t,n,"bytesValue")){Bs(t.bytesValue,"bytesValue");var r=this.fromBlob(t.bytesValue);return new Ra(r)}if(Ws(t,n,"referenceValue")){Bs(t.referenceValue,"referenceValue");var i=this.fromResourceName(t.referenceValue),o=new ua(i.get(1),i.get(3)),a=new da(this.extractLocalPathFromResourceName(i));return new Da(o,a)}return Co("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return Ao(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t){return new pa(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasLocalMutations:!1})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=Ma.EMPTY;return Mo(t,function(t,r){n=n.set(new fa([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){Ao(!!t.found,"Tried to deserialize a found document from a missing document."),Bs(t.found.name,"doc.found.name"),Bs(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new pa(e,n,r,{hasLocalMutations:!1})},t.prototype.fromMissing=function(t){Ao(!!t.missing,"Tried to deserialize a missing document from a found document."),Ao(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new ya(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return Ws(t,e,"found")?this.fromFound(t):Ws(t,e,"missing")?this.fromMissing(t):Co("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Ds.Added:return"ADD";case Ds.Current:return"CURRENT";case Ds.NoChange:return"NO_CHANGE";case Ds.Removed:return"REMOVE";case Ds.Reset:return"RESET";default:return Co("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Rs)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof xs){var e;if(t.newDoc instanceof pa)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof ya)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Ps){var n=void 0;return t.cause&&(n={code:function(t){if(void 0===t)return ns.OK;switch(t){case Oo.OK:return ns.OK;case Oo.CANCELLED:return ns.CANCELLED;case Oo.UNKNOWN:return ns.UNKNOWN;case Oo.DEADLINE_EXCEEDED:return ns.DEADLINE_EXCEEDED;case Oo.RESOURCE_EXHAUSTED:return ns.RESOURCE_EXHAUSTED;case Oo.INTERNAL:return ns.INTERNAL;case Oo.UNAVAILABLE:return ns.UNAVAILABLE;case Oo.UNAUTHENTICATED:return ns.UNAUTHENTICATED;case Oo.INVALID_ARGUMENT:return ns.INVALID_ARGUMENT;case Oo.NOT_FOUND:return ns.NOT_FOUND;case Oo.ALREADY_EXISTS:return ns.ALREADY_EXISTS;case Oo.PERMISSION_DENIED:return ns.PERMISSION_DENIED;case Oo.FAILED_PRECONDITION:return ns.FAILED_PRECONDITION;case Oo.ABORTED:return ns.ABORTED;case Oo.OUT_OF_RANGE:return ns.OUT_OF_RANGE;case Oo.UNIMPLEMENTED:return ns.UNIMPLEMENTED;case Oo.DATA_LOSS:return ns.DATA_LOSS;default:return Co("Unknown status code: "+t)}}(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return Co("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(Ws(t,n,"targetChange")){Bs(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new Ps(r,i,o,s||null)}else if(Ws(t,n,"documentChange")){Bs(t.documentChange,"documentChange"),Bs(t.documentChange.document,"documentChange.name"),Bs(t.documentChange.document.name,"documentChange.document.name"),Bs(t.documentChange.document.updateTime,"documentChange.document.updateTime");var u=t.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),h=this.fromFields(u.document.fields||{}),f=new pa(c,l,h,{hasLocalMutations:!1});e=new xs(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if(Ws(t,n,"documentDelete")){Bs(t.documentDelete,"documentDelete"),Bs(t.documentDelete.document,"documentDelete.document");var d=t.documentDelete;c=this.fromName(d.document),l=d.readTime?this.fromVersion(d.readTime):es.forDeletedDoc(),f=new ya(c,l),e=new xs([],d.removedTargetIds||[],f.key,f)}else if(Ws(t,n,"documentRemove")){Bs(t.documentRemove,"documentRemove"),Bs(t.documentRemove.document,"documentRemove");var p=t.documentRemove;c=this.fromName(p.document),e=new xs([],p.removedTargetIds||[],c,null)}else{if(!Ws(t,n,"filter"))return Co("Unknown change type "+JSON.stringify(t));Bs(t.filter,"filter"),Bs(t.filter.targetId,"filter.targetId");var y=t.filter,m=new ps(y.count||0);e=new Rs(y.targetId,m)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Ds.NoChange:"ADD"===t?Ds.Added:"REMOVE"===t?Ds.Removed:"CURRENT"===t?Ds.Current:"RESET"===t?Ds.Reset:Co("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!Ws(t,t.response_type,"targetChange"))return es.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?es.MIN:e.readTime?this.fromVersion(e.readTime):es.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof ls)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof ds)e={delete:this.toName(t.key)};else if(t instanceof hs)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof fs))return Co("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):us.NONE;if(t.update){Bs(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new hs(r,i,o,n)}return new ls(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new ds(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return Ao(!0===n.exists,'Transforms only support precondition "exists == true"'),new fs(r,a)}return Co("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return Ao(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Co("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?us.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?us.exists(t.exists):us.NONE},t.prototype.fromWriteResult=function(t){var e=this,n=t.updateTime?this.fromVersion(t.updateTime):null,r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults.map(function(t){return e.fromValue(t)})),new function(t,e){this.version=t,this.transformResults=e}(n,r)},t.prototype.fromWriteResults=function(t){var e=this;return(t||[]).map(function(t){return e.fromWriteResult(t)})},t.prototype.toFieldTransform=function(t){return Ao(t.transform instanceof os,"Unknown transform: "+t.transform),{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"}},t.prototype.fromFieldTransform=function(t){Ao("REQUEST_TIME"===t.setToServerValue,"Unknown transform proto: "+JSON.stringify(t));var e=fa.fromServerFormat(t.fieldPath);return new as(e,os.instance)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return Ao(1===e,"DocumentsTarget contained other than 1 document: "+e),Ha.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(la.EMPTY_PATH);else{var n=t.path;Ao(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0;r>0&&(Ao(1===r,"StructuredQuery.from with more than one collection is not supported."),e=e.child(n.from[0].collectionId));var i=[];n.where&&(i=this.fromFilter(n.where));var o=[];n.orderBy&&(o=this.fromOrder(n.orderBy));var a=null;n.limit&&(a=this.fromInt32Value(n.limit));var s=null;n.startAt&&(s=this.fromCursor(n.startAt));var u=null;return n.endAt&&(u=this.fromCursor(n.endAt)),new Ha(e,o,i,a,s,u)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case qa.Listen:return null;case qa.ExistenceFilterMismatch:return"existence-filter-mismatch";case qa.LimboResolution:return"limbo-document";default:return Co("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Ga?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):Co("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Ya(r,n)},t.prototype.toDirection=function(t){return Us[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Qa.ASCENDING;case"DESCENDING":return Qa.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return Fs[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Wa.EQUAL;case"GREATER_THAN":return Wa.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Wa.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Wa.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Wa.LESS_THAN_OR_EQUAL;case"OPERATOR_UNSPECIFIED":return Co("Unspecified relation");default:return Co("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return fa.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Xa(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Ga?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:Co("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Ga(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof za?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Ka?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:Co("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new za(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Ka(n);case"OPERATOR_UNSPECIFIED":return Co("Unspecified filter");default:return Co("Unknown filter")}},t.prototype.toDocumentMask=function(t){return{fieldPaths:t.fields.map(function(t){return t.canonicalString()})}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return fa.fromServerFormat(t)});return new is(e)},t}();function Ws(t,e,n){return e===n||!e&&n in t}var Gs=n("Df3s"),Ks=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){Ao(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){Ao(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){Ao(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){Ao(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){Ao(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){Ao(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),zs="Connection",Qs={BatchGetDocuments:"batchGet",Commit:"commit"},Ys="gl-js/ fire/"+po,Xs=function(){function t(t){this.databaseId=t.databaseId,this.pool=new Gs.XhrIoPool,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=Ys},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(o,a){r.pool.getObject(function(s){s.listenOnce(Gs.EventType.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Gs.ErrorCode.NO_ERROR:var e=s.getResponseJson();To(zs,"XHR received:",JSON.stringify(e)),o(e);break;case Gs.ErrorCode.TIMEOUT:To(zs,'RPC "'+t+'" timed out'),a(new xo(Oo.DEADLINE_EXCEEDED,"Request time out"));break;case Gs.ErrorCode.HTTP_ERROR:var n=s.getStatus();To(zs,'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0?a(new xo(function(t){switch(t){case 200:return Oo.OK;case 400:return Oo.INVALID_ARGUMENT;case 401:return Oo.UNAUTHENTICATED;case 403:return Oo.PERMISSION_DENIED;case 404:return Oo.NOT_FOUND;case 409:return Oo.ABORTED;case 416:return Oo.OUT_OF_RANGE;case 429:return Oo.RESOURCE_EXHAUSTED;case 499:return Oo.CANCELLED;case 500:return Oo.UNKNOWN;case 501:return Oo.UNIMPLEMENTED;case 503:return Oo.UNAVAILABLE;case 504:return Oo.DEADLINE_EXCEEDED;default:return t>=200&&t<300?Oo.OK:t>=400&&t<500?Oo.FAILED_PRECONDITION:t>=500&&t<600?Oo.INTERNAL:Oo.UNKNOWN}}(n),"Server responded with status "+s.getStatusText())):(To(zs,'RPC "'+t+'" failed'),a(new xo(Oo.UNAVAILABLE,"Connection failed.")));break;default:Co('RPC "'+t+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{To(zs,'RPC "'+t+'" completed.'),r.pool.releaseObject(s)}});var u=JSON.stringify(e);To(zs,"XHR sending: ",i+" "+u);var c={"Content-Type":"text/plain"};r.modifyHeadersForRequest(c,n),s.send(i,"POST",u,c,15)})})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1beta1.Firestore","/",t,"/channel"],r=Object(Gs.createWebChannelTransport)(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},httpHeadersOverwriteParam:"$httpHeaders",messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(i.initMessageHeaders,e);var o=n.join("");To(zs,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),s=!1,u=!1,c=new Ks({sendFn:function(t){u?To(zs,"Not sending because WebChannel is closed:",t):(s||(To(zs,"Opening WebChannel transport."),a.open(),s=!0),To(zs,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),l=function(t,e){a.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return l(Gs.WebChannel.EventType.OPEN,function(){u||To(zs,"WebChannel transport opened.")}),l(Gs.WebChannel.EventType.CLOSE,function(){u||(u=!0,To(zs,"WebChannel transport closed"),c.callOnClose())}),l(Gs.WebChannel.EventType.ERROR,function(t){u||(u=!0,To(zs,"WebChannel transport errored:",t),c.callOnClose(new xo(Oo.UNAVAILABLE,"The operation could not be completed")))}),l(Gs.WebChannel.EventType.MESSAGE,function(t){if(!u){var e=t.data[0];Ao(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){To(zs,"WebChannel received error:",n);var r=n.status,i=function(t){var e=ns[r];if(void 0!==e)return ms(e)}(),o=n.message;void 0===i&&(i=Oo.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),u=!0,c.callOnClose(new xo(i,o)),a.close()}else To(zs,"WebChannel received:",e),c.callOnMessage(e)}}),setTimeout(function(){c.callOnOpen()},0),c},t.prototype.makeUrl=function(t){var e=Qs[t];Ao(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1beta1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();ko.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return t.prototype.loadConnection=function(t){return Promise.resolve(new Xs(t))},t.prototype.newSerializer=function(t){return new Hs(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var Js,Zs=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,r,i){if(!(t instanceof Array)||t.length<1)throw new xo(Oo.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Zo(1,"element")+".")}();for(var n=0;n<t.length;++n)if(Bo("FieldPath","string",n,t[n]),0===t[n].length)throw new xo(Oo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fa(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Xo("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(fa.keyField().canonicalString()),t}(),$s=new RegExp("[~\\*/\\[\\]]");!function(t){t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline"}(Js||(Js={}));var tu=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),eu=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),nu=function(){function t(){this.changeMap=new ma(da.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==tu.Added&&n.type===tu.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===tu.Metadata&&n.type!==tu.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===tu.Modified&&n.type===tu.Modified?this.changeMap=this.changeMap.insert(e,{type:tu.Modified,doc:t.doc}):t.type===tu.Modified&&n.type===tu.Added?this.changeMap=this.changeMap.insert(e,{type:tu.Added,doc:t.doc}):t.type===tu.Removed&&n.type===tu.Added?this.changeMap=this.changeMap.remove(e):t.type===tu.Removed&&n.type===tu.Modified?this.changeMap=this.changeMap.insert(e,{type:tu.Removed,doc:n.doc}):t.type===tu.Added&&n.type===tu.Removed?this.changeMap=this.changeMap.insert(e,{type:tu.Modified,doc:t.doc}):Co("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),ru=function(){function t(t,e,n,r,i,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.fromCache=i,this.hasPendingWrites=o,this.syncStateChanged=a}return t.prototype.isEqual=function(t){if(this.fromCache!==t.fromCache||this.hasPendingWrites!==t.hasPendingWrites||this.syncStateChanged!==t.syncStateChanged||!this.query.isEqual(t.query)||!this.docs.isEqual(t.docs)||!this.oldDocs.isEqual(t.oldDocs))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),iu=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||da.comparator(e.key,n.key)}:function(t,e){return da.comparator(t.key,e.key)},this.keyedMap=_s(),this.sortedSet=new ma(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),ou=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(o[0].isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Mo(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Lo(this.inner)},t}(),au=function(){function t(t){this.syncEngine=t,this.queries=new ou(function(t){return t.canonicalId()}),this.onlineState=Js.Unknown,this.syncEngine.subscribe(this.onChange.bind(this),this.onError.bind(this))}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new function(){this.listeners=[]},this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n,r,o;return i.__generator(this,function(i){return n=!1,(r=this.queries.get(e=t.query))&&(o=r.listeners.indexOf(t))>=0&&(r.listeners.splice(o,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=this.queries.get(r.query);if(i){for(var o=0,a=i.listeners;o<a.length;o++)a[o].onViewSnapshot(r);i.viewSnap=r}}},t.prototype.onError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].applyOnlineStateChange(t)})},t}(),su=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=Js.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(Ao(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeDocumentMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==tu.Metadata&&e.push(i)}t=new ru(t.query,t.docs,t.oldDocs,e,t.fromCache,t.hasPendingWrites,t.syncStateChanged)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return Ao(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==Js.Offline?(Ao(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===Js.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeQueryMetadataChanges},t.prototype.raiseInitialEvent=function(e){Ao(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=new ru(e.query,e.docs,iu.emptySet(e.docs),t.getInitialViewChanges(e),e.fromCache,e.hasPendingWrites,!0),this.raisedInitialEvent=!0,this.queryObserver.next(e)},t.getInitialViewChanges=function(t){var e=[];return t.docs.forEach(function(t){e.push({type:tu.Added,doc:t})}),e},t}(),uu=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Co("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return e.reduce(function(t,e,n){return t.next(function(){return e})},t.resolve())},t.map=function(e){var n=[],r=!0,i=t.resolve(null);return e.reduce(function(t,e){return t.next(function(t){return r||n.push(t),r=!1,e})},i).next(function(t){return n.push(t),n})},t}(),cu=function(){function t(){this.isEager=!0,this.sources=[],this.potentialGarbage=Is()}return t.prototype.addGarbageSource=function(t){this.sources.push(t),t.setGarbageCollector(this)},t.prototype.removeGarbageSource=function(t){this.sources.splice(this.sources.indexOf(t),1),t.setGarbageCollector(null)},t.prototype.addPotentialGarbageKey=function(t){this.potentialGarbage=this.potentialGarbage.add(t)},t.prototype.collectGarbage=function(t){var e=this,n=[],r=Is();return this.potentialGarbage.forEach(function(i){var o=e.documentHasAnyReferences(t,i);n.push(o.next(function(t){return t||(r=r.add(i)),uu.resolve()}))}),this.potentialGarbage=Is(),uu.waitFor(n).next(function(){return r})},t.prototype.documentHasAnyReferences=function(t,e){var n=uu.resolve(!1);return this.sources.map(function(n){return function(){return n.containsKey(t,e)}}).reduce(function(t,e){return t.next(function(t){return t?uu.resolve(!0):e()})},n)},t}(),lu=function(){function t(t,e,n){this.query=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e){for(var n=Is(),r=Is(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case tu.Added:n=n.add(a.doc.key);break;case tu.Removed:r=r.add(a.doc.key)}}return new t(e.query,n,r)},t}(),hu=function(){function t(){this.refsByKey=new gs(fu.compareByKey),this.refsByTarget=new gs(fu.compareByTargetId),this.garbageCollector=null}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new fu(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new fu(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=da.EMPTY,r=new fu(n,t),i=new fu(n,t+1);this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t)})},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t),null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(t.key)},t.prototype.referencesForId=function(t){var e=da.EMPTY,n=new fu(e,t),r=new fu(e,t+1),i=Is();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new fu(e,0),r=this.refsByKey.firstAfterOrEqual(n);return uu.resolve(null!==r&&e.isEqual(r.key))},t}(),fu=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return da.comparator(t.key,e.key)||ta(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return ta(t.targetOrBatchId,e.targetOrBatchId)||da.comparator(t.key,e.key)},t}(),du=1,pu=function(t){return t[t.LocalStore=0]="LocalStore",t[t.SyncEngine=1]="SyncEngine",t}({}),yu=function(){function t(t,e){void 0===e&&(e=0),this.generatorId=t;var n=e>>du<<du;this.previousId=e-n>=t?n|this.generatorId:(n|this.generatorId)-(1<<du)}return t.prototype.next=function(){return this.previousId+=1<<du,this.previousId},t.forLocalStore=function(e){return void 0===e&&(e=0),new t(pu.LocalStore,e)},t.forSyncEngine=function(){return new t(pu.SyncEngine)},t}(),mu=function(t){this.key=t},gu=function(t){this.key=t},vu=function(){function t(t,e){this.query=t,this.syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Is(),this.mutatedKeys=Is(),this.documentSet=new iu(t.docComparator.bind(t))}return t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new nu,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var c=i.get(t),l=e instanceof pa?e:null;if(l&&(Ao(t.isEqual(l.key),"Mismatching keys found in document changes: "+t+" != "+l.key),l=n.query.matches(l)?l:null),l?(a=a.add(l),o=l.hasLocalMutations?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)),c&&l){var h=c.data.isEqual(l.data);h&&c.hasLocalMutations===l.hasLocalMutations||(r.track(h?{type:tu.Metadata,doc:l}:{type:tu.Modified,doc:l}),u&&n.query.docComparator(l,u)>0&&(s=!0))}else!c&&l?r.track({type:tu.Added,doc:l}):c&&!l&&(r.track({type:tu.Removed,doc:c}),u&&(s=!0))}),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),r.track({type:tu.Removed,doc:c})}return Ao(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.applyChanges=function(t,e){var n=this;Ao(!t.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var i=t.changeSet.getChanges();i.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case tu.Added:return 1;case tu.Modified:case tu.Metadata:return 2;case tu.Removed:return 0;default:return Co("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||n.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(e);var o=this.updateLimboDocuments(),a=0===this.limboDocuments.size&&this.current?eu.Synced:eu.Local,s=a!==this.syncState;return this.syncState=a,0!==i.length||s?{snapshot:new ru(this.query,t.documentSet,r,i,a===eu.Local,!t.mutatedKeys.isEmpty(),s),limboChanges:o}:{limboChanges:o}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===Js.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new nu,mutatedKeys:this.mutatedKeys,needsRefill:!1})):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this.syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){if(t){var e=t.mapping;switch(e instanceof Ns?this.syncedDocuments=e.documents:e instanceof Os&&(this.syncedDocuments=e.applyToKeySet(this.syncedDocuments)),t.currentStatusUpdate){case Cs.MarkCurrent:this.current=!0;break;case Cs.MarkNotCurrent:this.current=!1;break;case Cs.None:break;default:Co("Unknown current status update: "+t.currentStatusUpdate)}}},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Is(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new gu(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new mu(t))}),n},t}(),bu=function(){function t(t,e,n){this.localStore=t,this.remoteStore=e,this.currentUser=n,this.viewHandler=null,this.errorHandler=null,this.queryViewsByQuery=new ou(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new ma(da.comparator),this.limboKeysByTarget={},this.limboDocumentRefs=new hu,this.limboCollector=new cu,this.mutationUserCallbacks={},this.targetIdGenerator=yu.forSyncEngine()}return t.prototype.subscribe=function(t,e){Ao(null!==t&&null!==e,"View and error handlers cannot be null"),Ao(null===this.viewHandler&&null===this.errorHandler,"SyncEngine already has a subscriber."),this.viewHandler=t,this.errorHandler=e,this.limboCollector.addGarbageSource(this.limboDocumentRefs)},t.prototype.listen=function(t){var e=this;return this.assertSubscribed("listen()"),Ao(!this.queryViewsByQuery.has(t),"We already listen to the query: "+t),this.localStore.allocateQuery(t).then(function(n){return e.localStore.executeQuery(t).then(function(r){return e.localStore.remoteDocumentKeys(n.targetId).then(function(i){var o=new vu(t,i),a=o.computeDocChanges(r),s=o.applyChanges(a);Ao(0===s.limboChanges.length,"View returned limbo docs before target ack from the server."),Ao(!!s.snapshot,"applyChanges for new view should always return a snapshot");var u=new function(t,e,n,r){this.query=t,this.targetId=e,this.resumeToken=n,this.view=r}(t,n.targetId,n.resumeToken,o);e.queryViewsByQuery.set(t,u),e.queryViewsByTarget[n.targetId]=u,e.viewHandler([s.snapshot]),e.remoteStore.listen(n)})}).then(function(){return n.targetId})})},t.prototype.unlisten=function(t){var e=this;this.assertSubscribed("unlisten()");var n=this.queryViewsByQuery.get(t);return Ao(!!n,"Trying to unlisten on query not found:"+t),this.localStore.releaseQuery(t).then(function(){return e.remoteStore.unlisten(n.targetId),e.removeAndCleanupQuery(n).then(function(){return e.localStore.collectGarbage()})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),Ao(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!Ba(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),Po(t.targetChanges,function(n,r){var i=e.limboKeysByTarget[n];i&&r.currentStatusUpdate===Cs.MarkCurrent&&!t.documentUpdates.get(i)&&t.addDocumentUpdate(new ya(i,t.snapshotVersion))}),this.localStore.applyRemoteEvent(t).then(function(n){return e.emitNewSnapsAndNotifyLocalStore(n,t)})},t.prototype.applyOnlineStateChange=function(t){var e=[];this.queryViewsByQuery.forEach(function(n,r){var i=r.view.applyOnlineStateChange(t);Ao(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&e.push(i.snapshot)}),this.viewHandler(e)},t.prototype.rejectListen=function(t,e){var n=this;this.assertSubscribed("rejectListens()");var r=this.limboKeysByTarget[t];if(r){this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboKeysByTarget[t];var i=new ma(da.comparator);i=i.insert(r,new ya(r,es.forDeletedDoc()));var o=new As(es.MIN,{},i);return this.applyRemoteEvent(o)}var a=this.queryViewsByTarget[t];return Ao(!!a,"Unknown targetId: "+t),this.localStore.releaseQuery(a.query).then(function(){return n.removeAndCleanupQuery(a).then(function(){n.errorHandler(a.query,e)})})},t.prototype.applySuccessfulWrite=function(t){var e=this;return this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(t.batch.batchId,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(t){return n.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new ma(ta)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(Ao(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){return this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.limboDocumentRefs.removeReferencesForId(t.targetId),this.gcLimboDocuments()},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof mu?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof gu?(To("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t)):Co("Unknown limbo change: "+JSON.stringify(i))}return this.gcLimboDocuments()},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){To("SyncEngine","New document in limbo: "+e);var n=this.targetIdGenerator.next(),r=Ha.atPath(e.path);this.limboKeysByTarget[n]=e,this.remoteStore.listen(new rs(r,n,qa.Listen)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.gcLimboDocuments=function(){var t=this;return this.limboCollector.collectGarbage(null).next(function(e){e.forEach(function(e){var n=t.limboTargetsByKey.get(e);null!==n&&(t.remoteStore.unlisten(n),t.limboTargetsByKey=t.limboTargetsByKey.remove(e),delete t.limboKeysByTarget[n])})}).toPromise()},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){var n=this,r=[],i=[],o=[];return this.queryViewsByQuery.forEach(function(a,s){o.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?n.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var o=s.view.applyChanges(t,e&&e.targetChanges[s.targetId]);return n.updateTrackedLimbos(s.targetId,o.limboChanges).then(function(){if(o.snapshot){r.push(o.snapshot);var t=lu.fromSnapshot(o.snapshot);i.push(t)}})}))}),Promise.all(o).then(function(){return n.viewHandler(r),n.localStore.notifyLocalViewChanges(i)}).then(function(){return n.localStore.collectGarbage()})},t.prototype.assertSubscribed=function(t){Ao(null!==this.viewHandler&&null!==this.errorHandler,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleUserChange=function(t){var e=this;return this.currentUser=t,this.localStore.handleUserChange(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)}).then(function(){return e.remoteStore.handleUserChange(t)})},t}(),wu=-1,_u=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&Ao(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;Ao(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){e&&Ao(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=e,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t)&&(e=i.applyToLocalView(e,n,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=Is(),e=0,n=this.mutations;e<n.length;e++)t=t.add(n[e].key);return t},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ea(this.mutations,t.mutations)},t.prototype.isTombstone=function(){return 0===this.mutations.length},t.prototype.toTombstone=function(){return new t(this.batchId,this.localWriteTime,[])},t}(),Eu=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){Ao(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=Ts(),a=e.mutations,s=0;s<a.length;s++){var u=r[s].version;null===u&&(u=n),o=o.insert(a[s].key,u)}return new t(e,n,r,i,o)},t}(),Tu="\x01",Su="\x01",Iu="\x10",Cu="\x11";function Au(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Nu(e)),e=ku(t.get(n),e);return Nu(e)}function ku(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=Tu+Iu;break;case Tu:n+=Tu+Cu;break;default:n+=o}}return n}function Nu(t){return t+Tu+Su}function Ou(t){var e=t.length;if(Ao(e>=2,"Invalid path "+t),2===e)return Ao(t.charAt(0)===Tu&&t.charAt(1)===Su,"Non-empty path "+t+" had length 2"),la.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(Tu,o);switch((a<0||a>n)&&Co('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case Su:var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case Iu:i+=t.substring(o,a),i+="\0";break;case Cu:i+=t.substring(o,a+1);break;default:Co('Invalid encoded resource path: "'+t+'"')}o=a+2}return new la(r)}function xu(t,e,n,r){Ao(n<r&&n>=0&&r<=2,"Unexpected schema upgrade from v${fromVersion} to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(Du.store)}(t),function(t){t.createObjectStore(Pu.store,{keyPath:Pu.keyPath}),t.createObjectStore(Mu.store,{keyPath:Mu.keyPath}),t.createObjectStore(Lu.store)}(t),function(t){t.createObjectStore(Uu.store,{keyPath:Uu.keyPath}).createIndex(Uu.documentTargetsIndex,Uu.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Vu.store,{keyPath:Vu.keyPath}).createIndex(Vu.queryTargetsIndexName,Vu.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Fu.store)}(t),function(t){t.createObjectStore(ju.store)}(t));var i=uu.resolve();return n<2&&r>=2&&(i=function(t){var e=t.store(Fu.store);return e.get(Fu.key).next(function(t){return null!=t?uu.resolve(t):(t=new Fu(0,0,es.MIN.toTimestamp(),0),e.put(Fu.key,t).next(function(){return t}))})}(e).next(function(t){return function(t,e){var n=t.store(Fu.store);return t.store(Vu.store).count().next(function(t){return e.targetCount=t,n.put(Fu.key,e)})}(e,t)})),i}var Ru=function(t,e){this.seconds=t,this.nanos=e},Du=function(){function t(t,e){this.ownerId=t,this.leaseTimestampMs=e}return t.store="owner",t}(),Pu=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Mu=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store="mutations",t.keyPath=["userId","batchId"],t}(),Lu=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Au(e)]},t.key=function(t,e,n){return[t,Au(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),ju=function(){function t(t,e){this.noDocument=t,this.document=e}return t.store="remoteDocuments",t}(),Vu=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),Uu=function(){function t(t,e){this.targetId=t,this.path=e}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),Fu=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),Bu=[Pu.store,Mu.store,Lu.store,ju.store,Vu.store,Du.store,Fu.store,Uu.store],qu=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return Ao(t.isAvailable(),"IndexedDB not supported in current environment."),To("SimpleDb","Opening database:",e),new uu(function(i,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){i(new t(e.target.result))},a.onerror=function(t){o(t.target.error)},a.onupgradeneeded=function(t){To("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new Wu(a.transaction);r(n,i,t.oldVersion,2).next(function(){To("SimpleDb","Database upgrade to version 2 complete")})}}).toPromise()},t.delete=function(t){return To("SimpleDb","Removing database:",t),Ku(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.prototype.runTransaction=function(t,e,n){var r=Wu.open(this.db,t,e),i=n(r).catch(function(t){return r.abort(),uu.reject(t)}).toPromise();return r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),Hu=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Ku(this.dbCursor.delete())},t}(),Wu=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionPromise=new Promise(function(t,n){e.transaction.onabort=e.transaction.oncomplete=function(e){t()},e.transaction.onerror=function(t){n(t.target.error)}})}return t.open=function(e,n,r){return new t(e.transaction(r,n))},t.prototype.abort=function(){this.aborted||(To("SimpleDb","Aborting transaction."),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return Ao(!!e,"Object store not part of transaction: "+t),new Gu(e)},t}(),Gu=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(To("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(To("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ku(n)},t.prototype.get=function(t){var e=this;return Ku(this.store.get(t)).next(function(n){return void 0===n&&(n=null),To("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return To("SimpleDb","DELETE",this.store.name,t),Ku(this.store.delete(t))},t.prototype.count=function(){return To("SimpleDb","COUNT",this.store.name),Ku(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){To("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateCursor=function(t,e){var n=[];return new uu(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Hu(i),a=e(i.primaryKey,i.value,o);a instanceof uu&&n.push(a),o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return uu.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(Ao(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ku(t){return new uu(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)}})}var zu=function(){function t(t,e){this.userId=t,this.serializer=e,this.garbageCollector=null}return t.forUser=function(e,n){return Ao(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n)},t.prototype.start=function(e){var n=this;return t.loadNextBatchIdFromDb(e).next(function(t){return n.nextBatchId=t,Ju(e).get(n.userId)}).next(function(t){return t||(t=new Pu(n.userId,wu,"")),n.metadata=t,n.metadata.lastAcknowledgedBatchId>=n.nextBatchId?n.checkEmpty(e).next(function(t){return Ao(t,"Reset nextBatchID is only possible when the queue is empty"),n.metadata.lastAcknowledgedBatchId=wu,Ju(e).put(n.metadata)}):uu.resolve()})},t.loadNextBatchIdFromDb=function(t){var e=wu;return Yu(t).iterate({reverse:!0},function(t,n,r){var i,o,a=t[0];if(t[1]>e&&(e=n.batchId),""===a)r.done();else{var s=(o=(i=a).length-1,0===i.length?"":"\0"===i.charAt(o)?i.substring(0,o):i.substring(0,o)+String.fromCharCode(i.charCodeAt(o)-1));r.skip([s])}}).next(function(){return e+1})},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound(this.keyForBatchId(Number.NEGATIVE_INFINITY),this.keyForBatchId(Number.POSITIVE_INFINITY));return Yu(t).iterate({range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.getNextBatchId=function(t){return uu.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return uu.resolve(this.metadata.lastAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;return Ao(r>this.metadata.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),this.metadata.lastAcknowledgedBatchId=r,this.metadata.lastStreamToken=Qu(n),Ju(t).put(this.metadata)},t.prototype.getLastStreamToken=function(t){return uu.resolve(this.metadata.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.metadata.lastStreamToken=Qu(e),Ju(t).put(this.metadata)},t.prototype.addMutationBatch=function(t,e,n){var r=this,i=this.nextBatchId;this.nextBatchId++;var o=new _u(i,e,n),a=this.serializer.toDbMutationBatch(this.userId,o);return Yu(t).put(a).next(function(){for(var e=0,o=n;e<o.length;e++){var a=Lu.key(r.userId,o[e].key.path,i);Xu(t).put(a,Lu.PLACEHOLDER)}return uu.waitFor([])}).next(function(){return o})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Yu(t).get(this.keyForBatchId(e)).next(function(t){return t?n.serializer.fromDbMutationBatch(t):null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=Math.max(e,this.metadata.lastAcknowledgedBatchId)+1,i=IDBKeyRange.lowerBound(this.keyForBatchId(r)),o=null;return Yu(t).iterate({range:i},function(t,e,i){e.userId===n.userId&&(Ao(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(e)),i.done()}).next(function(){return o})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound(this.keyForBatchId(wu),this.keyForBatchId(Number.POSITIVE_INFINITY));return Yu(t).loadAll(n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this,r=IDBKeyRange.bound(this.keyForBatchId(wu),this.keyForBatchId(e));return Yu(t).loadAll(r).next(function(t){return t.map(function(t){return n.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Lu.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Xu(t).iterate({range:i},function(r,i,a){var s=r[0],u=r[2],c=Ou(r[1]);if(s===n.userId&&e.path.isEqual(c)){var l=n.keyForBatchId(u);return Yu(t).get(l).next(function(t){null===t&&Co("Dangling document-mutation reference found: "+r+" which points to "+l),o.push(n.serializer.fromDbMutationBatch(t))})}a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;Ao(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var r=e.path,i=r.length+1,o=Lu.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new gs(ta);return Xu(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[2],c=Ou(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){var e=[],r=[];return s.forEach(function(i){var o=n.keyForBatchId(i);r.push(Yu(t).get(o).next(function(t){null===t&&Co("Dangling document-mutation reference found, which points to "+o),e.push(n.serializer.fromDbMutationBatch(t))}))}),uu.waitFor(r).next(function(){return e})})},t.prototype.removeMutationBatches=function(t,e){for(var n=Yu(t),r=Xu(t),i=[],o=function(t){var e=IDBKeyRange.only(a.keyForBatchId(t.batchId)),o=0,s=n.iterate({range:e},function(t,e,n){return o++,n.delete()});i.push(s.next(function(){Ao(1===o,"Dangling document-mutation reference found: Missing batch "+t.batchId)}));for(var u=0,c=t.mutations;u<c.length;u++){var l=c[u],h=Lu.key(a.userId,l.key.path,t.batchId);i.push(r.delete(h)),null!==a.garbageCollector&&a.garbageCollector.addPotentialGarbageKey(l.key)}},a=this,s=0,u=e;s<u.length;s++)o(u[s]);return uu.waitFor(i)},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return uu.resolve();var r=IDBKeyRange.lowerBound(Lu.prefixForUser(e.userId)),i=[];return Xu(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=Ou(t[1]);i.push(o)}else r.done()}).next(function(){Ao(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=this,r=Lu.prefixForPath(this.userId,e.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Xu(t).iterate({range:o,keysOnly:!0},function(t,e,r){t[0]===n.userId&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})},t.prototype.keyForBatchId=function(t){return[this.userId,t]},t}();function Qu(t){return Ao("string"==typeof t,"Persisting non-string stream token not supported."),t}function Yu(t){return Zu(t,Mu.store)}function Xu(t){return Zu(t,Lu.store)}function Ju(t){return Zu(t,Pu.store)}function Zu(t,e){return t instanceof Wu?t.store(e):Co("Invalid transaction object provided!")}var $u=function(){function t(t){this.serializer=t,this.lastRemoteSnapshotVersion=es.MIN,this.metadata=null,this.garbageCollector=null}return t.prototype.start=function(t){var e=this;return ec(t).get(Fu.key).next(function(t){Ao(null!==t,"Missing metadata row that should be added by schema migration."),e.metadata=t;var n=t.lastRemoteSnapshotVersion;return e.lastRemoteSnapshotVersion=es.fromTimestamp(new ts(n.seconds,n.nanos)),uu.resolve()})},t.prototype.getHighestTargetId=function(){return this.metadata.highestTargetId},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,this.metadata.lastRemoteSnapshotVersion=e.toTimestamp(),ec(t).put(Fu.key,this.metadata)},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.metadata.targetCount+=1,n.updateMetadataFromQueryData(e),n.saveMetadata(t)})},t.prototype.updateQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.updateMetadataFromQueryData(e)?n.saveMetadata(t):uu.resolve()})},t.prototype.removeQueryData=function(t,e){var n=this;return Ao(this.metadata.targetCount>0,"Removing from an empty query cache"),this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return tc(t).delete(e.targetId)}).next(function(){return n.metadata.targetCount-=1,n.saveMetadata(t)})},t.prototype.saveMetadata=function(t){return ec(t).put(Fu.key,this.metadata)},t.prototype.saveQueryData=function(t,e){return tc(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t){var e=!1;return t.targetId>this.metadata.highestTargetId&&(this.metadata.highestTargetId=t.targetId,e=!0),e},Object.defineProperty(t.prototype,"count",{get:function(){return this.metadata.targetCount},enumerable:!0,configurable:!0}),t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return tc(t).iterate({range:i,index:Vu.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=[],i=nc(t);return e.forEach(function(t){var e=Au(t.path);r.push(i.put(new Uu(n,e)))}),uu.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=[],o=nc(t);return e.forEach(function(t){var e=Au(t.path);i.push(o.delete([n,e])),null!==r.garbageCollector&&r.garbageCollector.addPotentialGarbageKey(t)}),uu.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=nc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return this.notifyGCForRemovedKeys(t,r).next(function(){return n.delete(r)})},t.prototype.notifyGCForRemovedKeys=function(t,e){var n=this,r=nc(t);return null!==this.garbageCollector&&this.garbageCollector.isEager?r.iterate({range:e,keysOnly:!0},function(t,e,r){var i=Ou(t[1]),o=new da(i);Ao(null!==n.garbageCollector,"GarbageCollector for query cache set to null during key removal."),n.garbageCollector.addPotentialGarbageKey(o)}):uu.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=nc(t),i=Is();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=Ou(t[1]),o=new da(r);i=i.add(o)}).next(function(){return i})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){Ao(null!==t,"Persistence Transaction cannot be null for query cache containsKey");var n,r=Au(e.path),i=IDBKeyRange.bound([r],[(n=r,n+"\0")],!1,!0),o=0;return nc(t).iterate({index:Uu.documentTargetsIndex,keysOnly:!0,range:i},function(t,e,n){o++,n.done()}).next(function(){return o>0})},t}();function tc(t){return rc(t,Vu.store)}function ec(t){return rc(t,Fu.store)}function nc(t){return rc(t,Uu.store)}function rc(t,e){return t instanceof Wu?t.store(e):Co("Invalid transaction object provided!")}var ic=function(){function t(t){this.serializer=t}return t.prototype.addEntry=function(t,e){return oc(t).put(ac(e.key),this.serializer.toDbRemoteDocument(e))},t.prototype.removeEntry=function(t,e){return oc(t).delete(ac(e))},t.prototype.getEntry=function(t,e){var n=this;return oc(t).get(ac(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=_s(),i=e.path.toArray(),o=IDBKeyRange.lowerBound(i);return oc(t).iterate({range:o},function(t,i,o){var a=n.serializer.fromDbRemoteDocument(i);e.path.isPrefixOf(a.key.path)?a instanceof pa&&e.matches(a)&&(r=r.insert(a.key,a)):o.done()}).next(function(){return r})},t}();function oc(t){return t instanceof Wu?t.store(ju.store):Co("Invalid transaction object provided!")}function ac(t){return t.path.toArray()}var sc,uc=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document);if(t.noDocument){var e=da.fromSegments(t.noDocument.path),n=t.noDocument.readTime,r=new ts(n.seconds,n.nanos);return new ya(e,es.fromTimestamp(r))}return Co("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof pa){var e=this.remoteSerializer.toDocument(t);return new ju(null,e)}var n=t.key.path.toArray(),r=t.version.toTimestamp(),i=new Ru(r.seconds,r.nanos);return new ju(new function(t,e){this.path=t,this.readTime=e}(n,i),null)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new Mu(t,e.batchId,e.localWriteTime.toEpochMilliseconds(),r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=ts.fromEpochMilliseconds(t.localWriteTimeMs);return new _u(t.batchId,r,n)},t.prototype.fromDbTarget=function(t){var e,n=new ts(t.readTime.seconds,t.readTime.nanos),r=es.fromTimestamp(n);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new rs(e,t.targetId,qa.Listen,r,t.resumeToken)},t.prototype.toDbTarget=function(t){Ao(qa.Listen===t.purpose,"Only queries with purpose "+qa.Listen+" may be stored, got "+t.purpose);var e,n=t.snapshotVersion.toTimestamp(),r=new Ru(n.seconds,n.nanos);e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),Ao("string"==typeof t.resumeToken,"Persisting non-string resume token not supported.");var i=t.resumeToken;return new Vu(t.targetId,t.query.canonicalId(),r,i,0,e)},t}(),cc="There is another tab open with offline persistence enabled. Only one such tab is allowed at a time. The other tab must be closed or persistence must be disabled.",lc=function(){function t(e,n){this.ownerId=this.generateOwnerId(),this.dbName=e+t.MAIN_DATABASE,this.serializer=new uc(n),this.localStoragePrefix=e}return t.prototype.start=function(){var e=this;return t.isAvailable()?(Ao(!this.started,"IndexedDbPersistence double-started!"),this.started=!0,qu.openOrCreate(this.dbName,2,xu).then(function(t){e.simpleDb=t}).then(function(){return e.tryAcquireOwnerLease()}).then(function(){e.scheduleOwnerLeaseRefreshes(),e.attachWindowUnloadHook()})):(this.persistenceError=new xo(Oo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled."),Promise.reject(this.persistenceError))},t.prototype.shutdown=function(){var t=this;return Ao(this.started,"IndexedDbPersistence shutdown without start!"),this.started=!1,this.detachWindowUnloadHook(),this.stopOwnerLeaseRefreshes(),this.releaseOwnerLease().then(function(){t.simpleDb.close()})},t.prototype.getMutationQueue=function(t){return zu.forUser(t,this.serializer)},t.prototype.getQueryCache=function(){return new $u(this.serializer)},t.prototype.getRemoteDocumentCache=function(){return new ic(this.serializer)},t.prototype.runTransaction=function(t,e){var n=this;return this.persistenceError?Promise.reject(this.persistenceError):(To("IndexedDbPersistence","Starting transaction:",t),this.simpleDb.runTransaction("readwrite",Bu,function(t){return n.ensureOwnerLease(t).next(function(){return e(t)})}))},t.isAvailable=function(){return qu.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.tryAcquireOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[Du.store],function(e){var n=e.store(Du.store);return n.get("owner").next(function(e){if(t.validOwner(e))return To("IndexedDbPersistence","Valid owner already. Failing. Current owner:",e),t.persistenceError=new xo(Oo.FAILED_PRECONDITION,cc),uu.reject(t.persistenceError);var r=new Du(t.ownerId,Date.now());return To("IndexedDbPersistence","No valid owner. Acquiring owner lease. Current owner:",e,"New owner:",r),n.put("owner",r)})})},t.prototype.releaseOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[Du.store],function(e){var n=e.store(Du.store);return n.get("owner").next(function(e){return null!==e&&e.ownerId===t.ownerId?(To("IndexedDbPersistence","Releasing owner lease."),n.delete("owner")):uu.resolve()})})},t.prototype.ensureOwnerLease=function(t){var e=this;return t.store(Du.store).get("owner").next(function(t){return null===t||t.ownerId!==e.ownerId?(e.persistenceError=new xo(Oo.FAILED_PRECONDITION,cc),uu.reject(e.persistenceError)):uu.resolve()})},t.prototype.validOwner=function(t){var e=Date.now();return!(null===t||t.leaseTimestampMs<e-5e3||(t.leaseTimestampMs>e?(So("Persistence owner-lease is in the future. Discarding.",t),1):t.ownerId===this.getZombiedOwnerId()))},t.prototype.scheduleOwnerLeaseRefreshes=function(){var t=this;this.ownerLeaseRefreshHandle=setInterval(function(){t.runTransaction("Refresh owner timestamp",function(e){return e.store(Du.store).put("owner",new Du(t.ownerId,Date.now()))}).catch(function(e){So(e),t.stopOwnerLeaseRefreshes()})},4e3)},t.prototype.stopOwnerLeaseRefreshes=function(){this.ownerLeaseRefreshHandle&&(clearInterval(this.ownerLeaseRefreshHandle),this.ownerLeaseRefreshHandle=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;this.windowUnloadHandler=function(){t.setZombiedOwnerId(t.ownerId),t.shutdown()},window.addEventListener("unload",this.windowUnloadHandler)},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.getZombiedOwnerId=function(){try{var t=window.localStorage.getItem(this.zombiedOwnerLocalStorageKey());return To("IndexedDbPersistence","Zombied ownerID from LocalStorage:",t),t}catch(t){return So("Failed to get zombie owner id.",t),null}},t.prototype.setZombiedOwnerId=function(t){try{null===t?window.localStorage.removeItem(this.zombiedOwnerLocalStorageKey()):window.localStorage.setItem(this.zombiedOwnerLocalStorageKey(),t)}catch(t){So("Failed to set zombie owner id.",t)}},t.prototype.zombiedOwnerLocalStorageKey=function(){return this.localStoragePrefix+"zombiedOwnerId"},t.prototype.generateOwnerId=function(){return $o.newId()},t.MAIN_DATABASE="main",t}(),hc=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.remoteDocumentCache.getEntry(t,e).next(function(r){return n.computeLocalDocument(t,e,r)})},t.prototype.getDocuments=function(t,e){var n=this,r=[],i=bs();return e.forEach(function(e){r.push(n.getDocument(t,e).next(function(t){t||(t=new ya(e,es.forDeletedDoc())),i=i.insert(e,t)}))}),uu.waitFor(r).next(function(){return i})},t.prototype.getDocumentsMatchingQuery=function(t,e){return da.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new da(e)).next(function(t){var e=_s();return t instanceof pa&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(e){return r.computeLocalDocuments(t,e)}).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){for(var i=Is(),o=0,a=e;o<a.length;o++)for(var s=0,u=a[o].mutations;s<u.length;s++){var c=u[s];n.get(c.key)||(i=i.add(c.key))}var l=[];return i.forEach(function(e){l.push(r.getDocument(t,e).next(function(t){t instanceof pa&&(n=n.insert(t.key,t))}))}),uu.waitFor(l)}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t.prototype.computeLocalDocument=function(t,e,n){return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(t){for(var r=0,i=t;r<i.length;r++)n=i[r].applyToLocalView(e,n);return n})},t.prototype.computeLocalDocuments=function(t,e){var n=this,r=[];return e.forEach(function(i,o){r.push(n.computeLocalDocument(t,i,o).next(function(t){t instanceof pa?e=e.insert(t.key,t):t instanceof ya?e=e.remove(t.key):Co("Unknown MaybeDocument: "+t)}))}),uu.waitFor(r).next(function(){return e})},t}(),fc=function(){function t(t){this.remoteDocumentCache=t,this.changes=bs()}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this.assertChanges().get(e);return n?uu.resolve(n):this.remoteDocumentCache.getEntry(t,e)},t.prototype.apply=function(t){var e=this,n=[];return this.assertChanges().forEach(function(r,i){n.push(e.remoteDocumentCache.addEntry(t,i))}),this.changes=null,uu.waitFor(n)},t.prototype.assertChanges=function(){return Ao(null!==this.changes,"Changes have already been applied."),this.changes},t}(),dc=function(){function t(t,e,n){this.persistence=t,this.garbageCollector=n,this.localViewReferences=new hu,this.targetIds={},this.targetIdGenerator=yu.forLocalStore(),this.heldBatchResults=[],this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new hc(this.remoteDocuments,this.mutationQueue),this.garbageCollector.addGarbageSource(this.localViewReferences),this.garbageCollector.addGarbageSource(this.queryCache),this.garbageCollector.addGarbageSource(this.mutationQueue)}return t.prototype.start=function(){var t=this;return this.persistence.runTransaction("Start LocalStore",function(e){return t.startMutationQueue(e).next(function(){return t.startQueryCache(e)})})},t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.garbageCollector.removeGarbageSource(e.mutationQueue),e.mutationQueue=e.persistence.getMutationQueue(t),e.garbageCollector.addGarbageSource(e.mutationQueue),e.startMutationQueue(n)}).next(function(){return e.localDocuments=new hc(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=Is(),o=0,a=[r,t];o<a.length;o++)for(var s=0,u=a[o];s<u.length;s++)for(var c=0,l=u[s].mutations;c<l.length;c++)i=i.add(l[c].key);return e.localDocuments.getDocuments(n,i)})})},t.prototype.startQueryCache=function(t){var e=this;return this.queryCache.start(t).next(function(){var t=e.queryCache.getHighestTargetId();e.targetIdGenerator=yu.forLocalStore(t)})},t.prototype.startMutationQueue=function(t){var e=this;return this.mutationQueue.start(t).next(function(){return e.heldBatchResults=[],e.mutationQueue.getHighestAcknowledgedBatchId(t)}).next(function(n){return n!==wu?e.mutationQueue.getAllMutationBatchesThroughBatchId(t,n):uu.resolve([])}).next(function(n){return n.length>0?e.mutationQueue.removeMutationBatches(t,n):uu.resolve()})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations",function(n){var r,i=ts.now();return e.mutationQueue.addMutationBatch(n,i,t).next(function(t){var i=(r=t).keys();return e.localDocuments.getDocuments(n,i)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch",function(n){var r;return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){if(e.shouldHoldBatchResult(t.commitVersion))return e.heldBatchResults.push(t),r=Is(),uu.resolve();var i=new fc(e.remoteDocuments);return e.releaseBatchResults(n,[t],i).next(function(t){return r=t,i.apply(n)})}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch",function(n){var r,i;return e.mutationQueue.lookupMutationBatch(n,t).next(function(i){return Ao(null!=i,"Attempt to reject nonexistent batch!"),r=i,e.mutationQueue.getHighestAcknowledgedBatchId(n).next(function(e){return Ao(t>e,"Acknowledged batches can't be rejected."),r})}).next(function(){return e.removeMutationBatch(n,r)}).next(function(t){return i=t,e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,i)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){return this.queryCache.getLastRemoteSnapshotVersion()},t.prototype.applyRemoteEvent=function(t){var e=this,n=new fc(this.remoteDocuments);return this.persistence.runTransaction("Apply remote event",function(r){var i=[];Po(t.targetChanges,function(t,n){var o=e.targetIds[t];if(o){var a=n.mapping;if(a)if(a instanceof Ns)i.push(e.queryCache.removeMatchingKeysForTargetId(r,t).next(function(){return e.queryCache.addMatchingKeys(r,a.documents,t)}));else{if(!(a instanceof Os))return Co("Unknown mapping type: "+JSON.stringify(a));i.push(e.queryCache.removeMatchingKeys(r,a.removedDocuments,t).next(function(){return e.queryCache.addMatchingKeys(r,a.addedDocuments,t)}))}var s=n.resumeToken;s.length>0&&(o=o.update({resumeToken:s,snapshotVersion:n.snapshotVersion}),e.targetIds[t]=o,i.push(e.queryCache.updateQueryData(r,o)))}});var o=Is();t.documentUpdates.forEach(function(t,a){o=o.add(t),i.push(n.getEntry(r,t).next(function(r){null==r||a.version.isEqual(es.MIN)||a.version.compareTo(r.version)>=0?n.addEntry(a):To("LocalStore","Ignoring outdated watch update for ",t,". Current version:",r.version," Watch version:",a.version),e.garbageCollector.addPotentialGarbageKey(t)}))});var a,s=e.queryCache.getLastRemoteSnapshotVersion(),u=t.snapshotVersion;return u.isEqual(es.MIN)||(Ao(u.compareTo(s)>=0,"Watch stream reverted to previous snapshot?? "+u+" < "+s),i.push(e.queryCache.setLastRemoteSnapshotVersion(r,u))),uu.waitFor(i).next(function(){return e.releaseHeldBatchResults(r,n)}).next(function(t){return a=t,n.apply(r)}).next(function(){return e.localDocuments.getDocuments(r,o.unionWith(a))})})},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("Notify local view changes",function(n){for(var r=[],i=function(t){r.push(e.queryCache.getQueryData(n,t.query).next(function(n){Ao(null!==n,"Local view changes contain unallocated query.");var r=n.targetId;e.localViewReferences.addReferences(t.addedKeys,r),e.localViewReferences.removeReferences(t.removedKeys,r)}))},o=0,a=t;o<a.length;o++)i(a[o]);return uu.waitFor(r)})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch",function(n){return void 0===t&&(t=wu),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){if(i)return r=i,uu.resolve();var o=e.targetIdGenerator.next();return r=new rs(t,o,qa.Listen),e.queryCache.addQueryData(n,r)}).next(function(){return Ao(!e.targetIds[r.targetId],"Tried to allocate an already allocated query: "+t),e.targetIds[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t){var e=this;return this.persistence.runTransaction("Release query",function(n){return e.queryCache.getQueryData(n,t).next(function(r){return Ao(null!=r,"Tried to release nonexistent query: "+t),e.localViewReferences.removeReferencesForId(r.targetId),delete e.targetIds[r.targetId],e.garbageCollector.isEager?e.queryCache.removeQueryData(n,r):uu.resolve()}).next(function(){if(Lo(e.targetIds)){var t=new fc(e.remoteDocuments);return e.releaseHeldBatchResults(n,t).next(function(){t.apply(n)})}return uu.resolve()})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.collectGarbage=function(){var t=this;return this.persistence.runTransaction("Garbage collection",function(e){return t.garbageCollector.collectGarbage(e).next(function(n){var r=[];return n.forEach(function(n){r.push(t.remoteDocuments.removeEntry(e,n))}),uu.waitFor(r)})})},t.prototype.releaseHeldBatchResults=function(t,e){for(var n=[],r=0,i=this.heldBatchResults;r<i.length;r++){var o=i[r];if(!this.isRemoteUpToVersion(o.commitVersion))break;n.push(o)}return 0===n.length?uu.resolve(Is()):(this.heldBatchResults.splice(0,n.length),this.releaseBatchResults(t,n,e))},t.prototype.isRemoteUpToVersion=function(t){var e=this.queryCache.getLastRemoteSnapshotVersion();return t.compareTo(e)<=0||Lo(this.targetIds)},t.prototype.shouldHoldBatchResult=function(t){return!this.isRemoteUpToVersion(t)||this.heldBatchResults.length>0},t.prototype.releaseBatchResults=function(t,e,n){for(var r=this,i=uu.resolve(),o=function(e){i=i.next(function(){return r.applyWriteToRemoteDocuments(t,e,n)})},a=0,s=e;a<s.length;a++)o(s[a]);return i.next(function(){return r.removeMutationBatches(t,e.map(function(t){return t.batch}))})},t.prototype.removeMutationBatch=function(t,e){return this.removeMutationBatches(t,[e])},t.prototype.removeMutationBatches=function(t,e){for(var n=Is(),r=0,i=e;r<i.length;r++)for(var o=0,a=i[r].mutations;o<a.length;o++)n=n.add(a[o].key);return this.mutationQueue.removeMutationBatches(t,e).next(function(){return n})},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=e.batch,i=r.keys(),o=uu.resolve();return i.forEach(function(i){o=o.next(function(){return n.getEntry(t,i)}).next(function(t){var o=t,a=e.docVersions.get(i);Ao(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=r.applyToRemoteDocument(i,o,e))?n.addEntry(o):Ao(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))})}),o},t}(),pc=function(){function t(){this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=wu,this.lastStreamToken=No(),this.garbageCollector=null,this.batchesByDocumentKey=new gs(fu.compareByKey)}return t.prototype.start=function(t){return 0===this.mutationQueue.length&&(this.nextBatchId=1,this.highestAcknowledgedBatchId=wu),Ao(this.highestAcknowledgedBatchId<this.nextBatchId,"highestAcknowledgedBatchId must be less than the nextBatchId"),uu.resolve()},t.prototype.checkEmpty=function(t){return uu.resolve(0===this.mutationQueue.length)},t.prototype.getNextBatchId=function(t){return uu.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return uu.resolve(this.highestAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;Ao(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var i=this.indexOfExistingBatchId(r,"acknowledged"),o=this.mutationQueue[i];return Ao(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),Ao(!o.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,uu.resolve()},t.prototype.getLastStreamToken=function(t){return uu.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,uu.resolve()},t.prototype.addMutationBatch=function(t,e,n){Ao(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&Ao(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var i=new _u(r,e,n);this.mutationQueue.push(i);for(var o=0,a=n;o<a.length;o++)this.batchesByDocumentKey=this.batchesByDocumentKey.add(new fu(a[o].key,r));return uu.resolve(i)},t.prototype.lookupMutationBatch=function(t,e){return uu.resolve(this.findMutationBatch(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){for(var n=this.mutationQueue.length,r=Math.max(e,this.highestAcknowledgedBatchId)+1,i=this.indexOfBatchId(r),o=i<0?0:i;o<n;o++){var a=this.mutationQueue[o];if(!a.isTombstone())return uu.resolve(a)}return uu.resolve(null)},t.prototype.getAllMutationBatches=function(t){return uu.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this.mutationQueue.length,r=this.indexOfBatchId(e);return r<0?r=0:r>=n?r=n:r++,uu.resolve(this.getAllLiveMutationBatchesBeforeIndex(r))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new fu(e,0),i=new fu(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){Ao(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);Ao(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),uu.resolve(o)},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=r;da.isDocumentKey(o)||(o=o.child(""));var a=new fu(new da(o),0),s=new gs(ta);this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!r.isPrefixOf(e)&&(e.length===i&&(s=s.add(t.targetOrBatchId)),!0)},a);var u=[];return s.forEach(function(t){var e=n.findMutationBatch(t);null!==e&&u.push(e)}),uu.resolve(u)},t.prototype.removeMutationBatches=function(t,e){var n=e.length;Ao(n>0,"Should not remove mutations when none exist.");var r=e[0].batchId,i=this.mutationQueue.length,o=this.indexOfExistingBatchId(r,"removed");Ao(this.mutationQueue[o].batchId===r,"Removed batches must exist in the queue");for(var a=1,s=o+1;a<n&&s<i;)(f=this.mutationQueue[s]).isTombstone()?s++:(Ao(f.batchId===e[a].batchId,"Removed batches must be contiguous in the queue"),a++,s++);if(0===o){for(;s<i&&(f=this.mutationQueue[s]).isTombstone();s++);this.mutationQueue.splice(o,s-o)}else for(var u=o;u<s;u++)this.mutationQueue[u]=this.mutationQueue[u].toTombstone();for(var c=this.batchesByDocumentKey,l=0,h=e;l<h.length;l++)for(var f,d=(f=h[l]).batchId,p=0,y=f.mutations;p<y.length;p++){var m=y[p].key;null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(m);var g=new fu(m,d);c=c.delete(g)}return this.batchesByDocumentKey=c,uu.resolve()},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new fu(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return uu.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&Ao(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),uu.resolve()},t.prototype.getAllLiveMutationBatchesBeforeIndex=function(t){for(var e=[],n=0;n<t;n++){var r=this.mutationQueue[n];r.isTombstone()||e.push(r)}return e},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return Ao(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return Ao(n.batchId===t,"If found batch must match"),n.isTombstone()?null:n},t}(),yc=function(){function t(){this.queries=new ou(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=es.MIN,this.highestTargetId=0,this.references=new hu,this.targetCount=0}return t.prototype.start=function(t){return uu.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.getHighestTargetId=function(){return this.highestTargetId},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,uu.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e)},t.prototype.addQueryData=function(t,e){return Ao(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,uu.resolve()},t.prototype.updateQueryData=function(t,e){return Ao(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),uu.resolve()},t.prototype.removeQueryData=function(t,e){return Ao(this.targetCount>0,"Removing a target from an empty cache"),Ao(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,uu.resolve()},Object.defineProperty(t.prototype,"count",{get:function(){return this.targetCount},enumerable:!0,configurable:!0}),t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return uu.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.references.addReferences(e,n),uu.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){return this.references.removeReferences(e,n),uu.resolve()},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),uu.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return uu.resolve(n)},t.prototype.setGarbageCollector=function(t){this.references.setGarbageCollector(t)},t.prototype.containsKey=function(t,e){return this.references.containsKey(t,e)},t}(),mc=function(){function t(){this.docs=bs()}return t.prototype.addEntry=function(t,e){return this.docs=this.docs.insert(e.key,e),uu.resolve()},t.prototype.removeEntry=function(t,e){return this.docs=this.docs.remove(e),uu.resolve()},t.prototype.getEntry=function(t,e){return uu.resolve(this.docs.get(e))},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=_s(),r=new da(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.value;if(!e.path.isPrefixOf(o.key.path))break;a instanceof pa&&e.matches(a)&&(n=n.insert(a.key,a))}return uu.resolve(n)},t}(),gc=function(){function t(){this.mutationQueues={},this.remoteDocumentCache=new mc,this.queryCache=new yc,this.started=!1}return t.prototype.start=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){return Ao(!this.started,"MemoryPersistence double-started!"),this.started=!0,[2]})})},t.prototype.shutdown=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){return Ao(this.started,"MemoryPersistence shutdown without start!"),this.started=!1,[2]})})},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new pc,this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e){return To("MemoryPersistence","Starting transaction:",t),e(new vc).toPromise()},t}(),vc=function(){},bc=function(){function t(){this.isEager=!1}return t.prototype.addGarbageSource=function(t){},t.prototype.removeGarbageSource=function(t){},t.prototype.addPotentialGarbageKey=function(t){},t.prototype.collectGarbage=function(t){return uu.resolve(Is())},t}(),wc=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout"}(sc||(sc={}));var _c,Ec=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new wc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xo(Oo.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueue(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),Tc=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw So("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),Ao(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=Ec.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&Co("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){Ao(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){return this.delayedOperations.findIndex(function(e){return e.timerId===t})>=0},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){Ao(t===sc.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==sc.All&&i.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);Ao(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),Sc=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){this.cancel();var e=this.currentBaseMs+this.jitterDelayMs();this.currentBaseMs>0&&To("ExponentialBackoff","Backing off for "+e+" ms (base delay: "+this.currentBaseMs+" ms)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,e,t),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}();!function(t){t[t.Initial=0]="Initial",t[t.Auth=1]="Auth",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t[t.Stopped=5]="Stopped"}(_c||(_c={}));var Ic=1e3,Cc=6e4,Ac=1.5,kc=function(){function t(t,e,n,r,i){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.inactivityTimerPromise=null,this.stream=null,this.listener=null,this.backoff=new Sc(t,e,Ic,Ac,Cc),this.state=_c.Initial}return t.prototype.isStarted=function(){return this.state===_c.Backoff||this.state===_c.Auth||this.state===_c.Open},t.prototype.isOpen=function(){return this.state===_c.Open},t.prototype.start=function(t){this.state!==_c.Error?(Ao(this.state===_c.Initial,"Already started"),this.listener=t,this.auth()):this.performBackoff(t)},t.prototype.stop=function(){this.isStarted()&&this.close(_c.Stopped)},t.prototype.inhibitBackoff=function(){Ao(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=_c.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.inactivityTimerPromise&&(this.inactivityTimerPromise=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){return this.isOpen()?[2,this.close(_c.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.inactivityTimerPromise&&(this.inactivityTimerPromise.cancel(),this.inactivityTimerPromise=null)},t.prototype.close=function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n;return i.__generator(this,function(r){return Ao(t===_c.Error||Ba(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),t!==_c.Error?this.backoff.reset():e&&e.code===Oo.RESOURCE_EXHAUSTED&&(So(e.toString()),So("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,n=this.listener,this.listener=null,t!==_c.Stopped?[2,n.onClose(e)]:[2]})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;Ao(this.state===_c.Initial,"Must be in initial state to auth"),this.state=_c.Auth,this.credentialsProvider.getToken(!1).then(function(e){t.startStream(e)},function(e){t.queue.enqueue(function(){return i.__awaiter(t,void 0,void 0,function(){var t;return i.__generator(this,function(n){return this.state!==_c.Stopped?(t=new xo(Oo.UNKNOWN,"Fetching auth token failed: "+e.message),[2,this.handleStreamClose(t)]):[2]})})})})},t.prototype.startStream=function(t){var e=this;if(this.state!==_c.Stopped){Ao(this.state===_c.Auth,"Trying to start stream in a non-auth state");var n=function(t,n){e.queue.enqueue(function(){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){return this.stream===t?[2,n()]:[2]})})})};if(null!==this.listener){var r=this.startRpc(t);this.stream=r,this.stream.onOpen(function(){n(r,function(){return Ao(e.state===_c.Auth,"Expected stream to be in state auth, but was "+e.state),e.state=_c.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(r,function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(r,function(){return e.onMessage(t)})})}}},t.prototype.performBackoff=function(t){var e=this;Ao(this.state===_c.Error,"Should only perform backoff in an error case"),this.state=_c.Backoff,this.backoff.backoffAndRun(function(){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){return this.state===_c.Stopped?[2]:(this.state=_c.Initial,this.start(t),Ao(this.isStarted(),"PersistentStream should have started"),[2])})})})},t.prototype.handleStreamClose=function(t){return Ao(this.isStarted(),"Can't handle server close on non-started stream"),To("PersistentStream","close with error: "+t),this.stream=null,this.close(_c.Error,t)},t}(),Nc=function(t){function e(e,n,r,i){var o=t.call(this,e,sc.ListenStreamConnectionBackoff,sc.ListenStreamIdle,n,r)||this;return o.serializer=i,o}return i.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(kc),Oc=function(t){function e(e,n,r,i){var o=t.call(this,e,sc.WriteStreamConnectionBackoff,sc.WriteStreamIdle,n,r)||this;return o.serializer=i,o.handshakeComplete_=!1,o}return i.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(e){this.handshakeComplete_=!1,t.prototype.start.call(this,e)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(Ao(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return Ao(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){Ao(this.isOpen(),"Writing handshake requires an opened stream"),Ao(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;Ao(this.isOpen(),"Writing mutations requires an opened stream"),Ao(this.handshakeComplete_,"Handshake must be complete before writing mutations"),Ao(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(kc),xc=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(){return new Oc(this.queue,this.connection,this.credentials,this.serializer)},t.prototype.newPersistentWatchStream=function(){return new Nc(this.queue,this.connection,this.credentials,this.serializer)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=bs();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);Ao(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken(!1).then(function(r){return n.connection.invokeRPC(t,e,r)})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken(!1).then(function(r){return n.connection.invokeStreamingRPC(t,e,r)})},t}(),Rc=function(){function t(t){this.datastore=t,this.readVersions=Ts(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e=t.version;t instanceof ya&&(e=es.forDeletedDoc());var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new xo(Oo.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){return e.recordVersion(t)}),t})},t.prototype.write=function(t){if(this.committed)throw new xo(Oo.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?us.updateTime(e):us.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(es.forDeletedDoc()))throw new xo(Oo.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?us.updateTime(e):us.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new ds(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,es.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),Dc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=Js.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;this.setAndBroadcast(Js.Unknown),null===this.onlineStateTimer&&(this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(sc.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,Ao(t.state===Js.Unknown,"Timer should be canceled if we transitioned to a different state."),To("OnlineStateTracker","Watch stream didn't reach online or offline within 10000ms. Considering client offline."),t.logClientOfflineWarningIfNecessary(),t.setAndBroadcast(Js.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(){this.state===Js.Online?this.setAndBroadcast(Js.Unknown):(this.watchStreamFailures++,this.watchStreamFailures>=2&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(),this.setAndBroadcast(Js.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===Js.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(){this.shouldWarnClientIsOffline&&(So("Could not reach Firestore backend."),this.shouldWarnClientIsOffline=!1)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),Pc=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.pendingWrites=[],this.lastBatchSeen=wu,this.listenTargets={},this.pendingTargetResponses={},this.accumulatedWatchChanges=[],this.watchStream=null,this.writeStream=null,this.onlineStateTracker=new Dc(n,r)}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.isNetworkEnabled=function(){return Ao(null==this.watchStream==(null==this.writeStream),"WatchStream and WriteStream should both be null or non-null"),null!=this.watchStream},t.prototype.enableNetwork=function(){var t=this;return this.isNetworkEnabled()?Promise.resolve():(this.watchStream=this.datastore.newPersistentWatchStream(),this.writeStream=this.datastore.newPersistentWriteStream(),this.localStore.getLastStreamToken().then(function(e){return t.writeStream.lastStreamToken=e,t.shouldStartWatchStream()?t.startWatchStream():t.onlineStateTracker.set(Js.Unknown),t.fillWritePipeline()}))},t.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){return this.disableNetworkInternal(),this.onlineStateTracker.set(Js.Offline),[2]})})},t.prototype.disableNetworkInternal=function(){this.isNetworkEnabled()&&(this.watchStream.stop(),this.writeStream.stop(),this.cleanUpWatchStreamState(),this.cleanUpWriteStreamState(),this.writeStream=null,this.watchStream=null)},t.prototype.shutdown=function(){return To("RemoteStore","RemoteStore shutting down."),this.disableNetworkInternal(),this.onlineStateTracker.set(Js.Unknown),Promise.resolve()},t.prototype.listen=function(t){Ao(!Do(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.isNetworkEnabled()&&this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){Ao(Do(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.isNetworkEnabled()&&this.watchStream.isOpen()&&(this.sendUnwatchRequest(t),Lo(this.listenTargets)&&this.watchStream.markIdle())},t.prototype.sendWatchRequest=function(t){this.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.recordPendingTargetRequest=function(t){this.pendingTargetResponses[t]=(this.pendingTargetResponses[t]||0)+1},t.prototype.startWatchStream=function(){Ao(this.shouldStartWatchStream(),"startWriteStream() called when shouldStartWatchStream() is false."),this.watchStream.start({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.isNetworkEnabled()&&!this.watchStream.isStarted()&&!Lo(this.listenTargets)},t.prototype.cleanUpWatchStreamState=function(){this.accumulatedWatchChanges=[],this.pendingTargetResponses={}},t.prototype.onWatchStreamOpen=function(){return i.__awaiter(this,void 0,void 0,function(){var t=this;return i.__generator(this,function(e){return Po(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){return Ao(this.isNetworkEnabled(),"onWatchStreamClose() should only be called when the network is enabled"),this.cleanUpWatchStreamState(),this.onlineStateTracker.handleWatchStreamFailure(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Js.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n;return i.__generator(this,function(r){return this.onlineStateTracker.set(Js.Online),t instanceof Ps&&t.state===Ds.Removed&&t.cause?[2,this.handleTargetError(t)]:(this.accumulatedWatchChanges.push(t),!e.isEqual(es.MIN)&&e.compareTo(this.localStore.getLastRemoteSnapshotVersion())>=0?(n=this.accumulatedWatchChanges,this.accumulatedWatchChanges=[],[2,this.handleWatchChangeBatch(e,n)]):[2])})})},t.prototype.handleWatchChangeBatch=function(t,e){var n=this,r=new Ms(t,this.listenTargets,this.pendingTargetResponses);r.addChanges(e);var i=r.createRemoteEvent();this.pendingTargetResponses=r.pendingTargetResponses;var o=[];return Po(r.existenceFilters,function(e,r){var a=n.listenTargets[e];if(a){var s=a.query;if(s.isDocumentQuery())if(0===r.count){var u=new da(s.path),c=new ya(u,t);i.addDocumentUpdate(c)}else Ao(1===r.count,"Single document existence filter with count: "+r.count);else{var l=n.localStore.remoteDocumentKeys(e).then(function(t){if(i.targetChanges[e]){var o=i.targetChanges[e].mapping;null!==o&&(o instanceof Os?t=o.applyToKeySet(t):(Ao(o instanceof Ns,"Expected either reset or update mapping but got something else: "+o),t=o.documents))}if(t.size!==r.count){i.handleExistenceFilterMismatch(e);var u=new rs(s,e,a.purpose);n.listenTargets[e]=u,n.sendUnwatchRequest(e);var c=new rs(s,e,qa.ExistenceFilterMismatch);n.sendWatchRequest(c)}});o.push(l)}}}),Promise.all(o).then(function(){return Po(i.targetChanges,function(t,e){if(e.resumeToken.length>0){var r=n.listenTargets[t];r&&(n.listenTargets[t]=r.update({resumeToken:e.resumeToken,snapshotVersion:e.snapshotVersion}))}}),n.syncEngine.applyRemoteEvent(i)})},t.prototype.handleTargetError=function(t){var e=this;Ao(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){return Do(this.listenTargets,t)?(delete this.listenTargets[t],[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.cleanUpWriteStreamState=function(){this.lastBatchSeen=wu,To("RemoteStore","Stopping write stream with "+this.pendingWrites.length+" pending writes"),this.pendingWrites=[]},t.prototype.fillWritePipeline=function(){return i.__awaiter(this,void 0,void 0,function(){var t=this;return i.__generator(this,function(e){return this.canWriteMutations()?[2,this.localStore.nextMutationBatch(this.lastBatchSeen).then(function(e){if(null!==e)return t.commit(e),t.fillWritePipeline();0===t.pendingWrites.length&&t.writeStream.markIdle()})]:[2]})})},t.prototype.canWriteMutations=function(){return this.isNetworkEnabled()&&this.pendingWrites.length<10},t.prototype.outstandingWrites=function(){return this.pendingWrites.length},t.prototype.commit=function(t){Ao(this.canWriteMutations(),"commit called when batches can't be written"),this.lastBatchSeen=t.batchId,this.pendingWrites.push(t),this.shouldStartWriteStream()?this.startWriteStream():this.isNetworkEnabled()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.isNetworkEnabled()&&!this.writeStream.isStarted()&&this.pendingWrites.length>0},t.prototype.startWriteStream=function(){Ao(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})},t.prototype.onWriteStreamOpen=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.pendingWrites;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)})},t.prototype.onMutationResult=function(t,e){var n=this;Ao(this.pendingWrites.length>0,"Got result for empty pending writes");var r=this.pendingWrites.shift(),i=Eu.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return i.__awaiter(this,void 0,void 0,function(){var e=this;return i.__generator(this,function(n){return Ao(this.isNetworkEnabled(),"onWriteStreamClose() should only be called when the network is enabled"),t&&this.pendingWrites.length>0?(Ao(!!t,"We have pending writes, but the write stream closed without an error"),[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]):[2]})})},t.prototype.handleHandshakeError=function(t){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(e){return ys(t.code)||t.code===Oo.ABORTED?(To("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=No(),[2,this.localStore.setLastStreamToken(No())]):[2]})})},t.prototype.handleWriteError=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n=this;return i.__generator(this,function(r){return ys(t.code)?(e=this.pendingWrites.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2]})})},t.prototype.createTransaction=function(){return new Rc(this.datastore)},t.prototype.handleUserChange=function(t){if(To("RemoteStore","RemoteStore changing users: uid=",t.uid),this.isNetworkEnabled())return this.disableNetworkInternal(),this.onlineStateTracker.set(Js.Unknown),this.enableNetwork()},t}(),Mc=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r}return t.prototype.start=function(t){var e=this,n=new wc,r=new wc,i=!1;return this.credentials.setUserChangeListener(function(o){i?e.asyncQueue.enqueue(function(){return e.handleUserChange(o)}):(i=!0,e.initializePersistence(t,r).then(function(){return e.initializeRest(o)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueue(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.remoteStore.enableNetwork()})},t.prototype.initializePersistence=function(t,e){var n=this;return t?this.startIndexedDbPersistence().then(e.resolve).catch(function(t){return e.reject(t),n.canFallback(t)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),n.startMemoryPersistence()):Promise.reject(t)}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t.code===Oo.FAILED_PRECONDITION||t.code===Oo.UNIMPLEMENTED},t.prototype.startIndexedDbPersistence=function(){this.garbageCollector=new bc;var t=lc.buildStoragePrefix(this.databaseInfo),e=new Hs(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=new lc(t,e),this.persistence.start()},t.prototype.startMemoryPersistence=function(){return this.garbageCollector=new cu,this.persistence=new gc,this.persistence.start()},t.prototype.initializeRest=function(t){var e=this;return this.platform.loadConnection(this.databaseInfo).then(function(n){e.localStore=new dc(e.persistence,t,e.garbageCollector);var r=e.platform.newSerializer(e.databaseInfo.databaseId),i=new xc(e.asyncQueue,n,e.credentials,r);return e.remoteStore=new Pc(e.localStore,i,e.asyncQueue,function(t){e.syncEngine.applyOnlineStateChange(t),e.eventMgr.applyOnlineStateChange(t)}),e.syncEngine=new bu(e.localStore,e.remoteStore,t),e.remoteStore.syncEngine=e.syncEngine,e.eventMgr=new au(e.syncEngine),e.localStore.start()}).then(function(){return e.remoteStore.start()})},t.prototype.handleUserChange=function(t){return this.asyncQueue.verifyOperationInProgress(),To("FirestoreClient","User Changed: "+t.uid),this.syncEngine.handleUserChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.remoteStore.disableNetwork()})},t.prototype.shutdown=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.credentials.removeUserChangeListener(),t.remoteStore.shutdown()}).then(function(){return t.persistence.shutdown()})},t.prototype.listen=function(t,e,n){var r=this,i=new su(t,e,n);return this.asyncQueue.enqueue(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.enqueue(function(){return e.eventMgr.unlisten(t)})},t.prototype.write=function(t){var e=this,n=new wc;return this.asyncQueue.enqueue(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.enqueue(function(){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),Lc=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),jc=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Vc=function(){function t(){this.userListener=null}return t.prototype.getToken=function(t){return Promise.resolve(null)},t.prototype.setUserChangeListener=function(t){Ao(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,t(jc.UNAUTHENTICATED)},t.prototype.removeUserChangeListener=function(){Ao(null!==this.userListener,"removeUserChangeListener() when no listener registered"),this.userListener=null},t}(),Uc=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.userCounter=0,this.userListener=null,this.tokenListener=function(){var t=e.getUser();e.currentUser&&t.isEqual(e.currentUser)||(e.currentUser=t,e.userCounter++,e.userListener&&e.userListener(e.currentUser))},this.userCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(t){var e=this;Ao(null!=this.tokenListener,"getToken cannot be called after listener removed.");var n=this.userCounter;return this.app.INTERNAL.getToken(t).then(function(t){if(e.userCounter!==n)throw new xo(Oo.ABORTED,"getToken aborted due to uid change.");return t?(Ao("string"==typeof t.accessToken,"Invalid tokenData returned from getToken():"+t),new function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}(t.accessToken,e.currentUser)):null})},t.prototype.setUserChangeListener=function(t){Ao(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeUserChangeListener=function(){Ao(null!=this.tokenListener,"removeUserChangeListener() called twice"),Ao(null!==this.userListener,"removeUserChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.userListener=null},t.prototype.getUser=function(){"function"!=typeof this.app.INTERNAL.getUid&&Co("This version of the Firestore SDK requires at least version 3.7.0 of firebase.js.");var t=this.app.INTERNAL.getUid();return Ao(null===t||"string"==typeof t,"Received invalid UID: "+t),new jc(t)},t}(),Fc=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=jc.FIRST_PARTY,Ao(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),Bc=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,Ao(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(t){return Promise.resolve(new Fc(this.gapi,this.sessionIndex))},t.prototype.setUserChangeListener=function(t){t(jc.FIRST_PARTY)},t.prototype.removeUserChangeListener=function(){},t}();function qc(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Hc,Wc=function(){function t(){}return t.delete=function(){return Gc.instance},t.serverTimestamp=function(){return Kc.instance},t.prototype.isEqual=function(t){return this===t},t}(),Gc=function(t){function e(){return t.call(this)||this}return i.__extends(e,t),e.instance=new e,e}(Wc),Kc=function(t){function e(){return t.call(this)||this}return i.__extends(e,t),e.instance=new e,e}(Wc),zc=Ro(Wc,"Use FieldValue.<field>() instead."),Qc=/^__.*__$/,Yc=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new hs(t,this.data,this.fieldMask,e):new ls(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new fs(t,this.fieldTransforms)),n},t}(),Xc=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new hs(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new fs(t,this.fieldTransforms)),n},t}();function Jc(t){switch(t){case Hc.Set:case Hc.MergeSet:case Hc.Update:return!0;case Hc.QueryValue:return!1;default:throw Co("Unexpected case for UserDataSource: "+t)}}!function(t){t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.QueryValue=3]="QueryValue"}(Hc||(Hc={}));var Zc=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new xo(Oo.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(Jc(this.dataSource)&&Qc.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),$c=function(t,e){this.databaseId=t,this.key=e},tl=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new Zc(Hc.Set,t,fa.EMPTY_PATH);nl("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new Yc(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e){var n=new Zc(Hc.MergeSet,t,fa.EMPTY_PATH);nl("Data must be an object, but it was:",n,e);var r=this.parseData(e,n),i=new is(n.fieldMask);return new Yc(r,i,n.fieldTransforms)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new Zc(Hc.Update,t,fa.EMPTY_PATH);nl("Data must be an object, but it was:",r,e);var i=[],o=Ma.EMPTY;Mo(e,function(e,a){var s=il(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof Gc)i.push(s);else{var c=n.parseData(a,u);null!=c&&(i.push(s),o=o.set(s,c))}});var a=new is(i);return new Xc(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new Zc(Hc.Update,t,fa.EMPTY_PATH),o=[rl(t,e)],a=[n];if(r.length%2!=0)throw new xo(Oo.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(rl(t,r[s])),a.push(r[s+1]);var u=[],c=Ma.EMPTY;for(s=0;s<o.length;++s){var l=o[s],h=i.childContextForFieldPath(l),f=this.runPreConverter(a[s],h);if(f instanceof Gc)u.push(l);else{var d=this.parseData(f,h);null!=d&&(u.push(l),c=c.set(l,d))}}var p=new is(u);return new Xc(c,p,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new Zc(Hc.QueryValue,t,fa.EMPTY_PATH),r=this.parseData(e,n);return Ao(null!=r,"Parsed data should not be null."),Ao(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=ol(t);throw e.createError(n)}},t.prototype.parseData=function(t,e){if((t=this.runPreConverter(t,e))instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return e.path&&e.fieldMask.push(e.path),this.parseArray(t,e)}return el(t)?(nl("Unsupported field value:",e,t),this.parseObject(t,e)):(e.path&&e.fieldMask.push(e.path),this.parseScalarValue(t,e))},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=this.parseData(o[i],e.childContextForArray(r));null==a&&(a=Ta.INSTANCE),n.push(a),r++}return new La(n)},t.prototype.parseObject=function(t,e){var n=this,r=new ma(ta);return Mo(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new Ma(r)},t.prototype.parseScalarValue=function(t,e){if(null===t)return Ta.INSTANCE;if("number"==typeof t)return function(t){return Fa(t)&&t<=Ua&&t>=Va}(t)?new Aa(t):new ka(t);if("boolean"==typeof t)return Sa.of(t);if("string"==typeof t)return new Na(t);if(t instanceof Date)return new Oa(ts.fromDate(t));if(t instanceof aa)return new Pa(t);if(t instanceof ia)return new Ra(t);if(t instanceof $c)return new Da(t.databaseId,t.key);if(t instanceof Wc){if(t instanceof Gc){if(e.dataSource===Hc.MergeSet)return null;throw e.dataSource===Hc.Update?(Ao(null==e.path||e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() can only be used with update() and set() with {merge:true}")}if(t instanceof Kc){if(!Jc(e.dataSource))throw e.createError("FieldValue.serverTimestamp() can only be used with set() and update()");if(null===e.path)throw e.createError("FieldValue.serverTimestamp() is not currently supported inside arrays");return e.fieldTransforms.push(new as(e.path,os.instance)),null}return Co("Unknown FieldValue type: "+t)}throw e.createError("Unsupported field value: "+zo(t))},t}();function el(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof aa||t instanceof ia||t instanceof $c||t instanceof Wc)}function nl(t,e,n){if(!el(n)||!Ko(n)){var r=zo(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function rl(t,e){if(e instanceof Zs)return e._internalPath;if("string"==typeof e)return il(t,e);throw new xo(Oo.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function il(t,e){try{return function(t){if(t.search($s)>=0)throw new xo(Oo.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Zs.bind.apply(Zs,[void 0].concat(t.split("."))))}catch(e){throw new xo(Oo.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(e){var n=ol(e);throw new xo(Oo.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function ol(t){return t instanceof Error?t.message:t.toString()}var al="firestore.googleapis.com",sl=!0,ul=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new xo(Oo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=al,this.ssl=sl}else Ho("settings","string","host",t.host),this.host=t.host,Wo("settings","boolean","ssl",t.ssl),this.ssl=void 0!==(e=t.ssl)?e:sl;var e;Yo("settings",t,["host","ssl","credentials"]),Wo("settings","object","credentials",t.credentials),this.credentials=t.credentials}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials},t}(),cl=function(){},ll=function(){function t(e){var n=this;this._queue=new Tc,this.INTERNAL={delete:function(){return i.__awaiter(n,void 0,void 0,function(){return i.__generator(this,function(t){return this._firestoreClient?[2,this._firestoreClient.shutdown()]:[2]})})}};var r=new cl;if("object"==typeof e.options){var o=e;r.firebaseApp=o,r.databaseId=t.databaseIdFromApp(o),r.persistenceKey=r.firebaseApp.name,r.credentials=new Uc(o)}else{var a=e;if(!a.projectId)throw new xo(Oo.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new ua(a.projectId,a.database),r.persistenceKey="[DEFAULT]",r.credentials=new Vc}r.settings=new ul({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(Vo("Firestore.settings",arguments,1),Bo("Firestore.settings","object",1,t),Do(t,"persistence"))throw new xo(Oo.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new ul(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new xo(Oo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new Vc;switch(t.type){case"gapi":return new Bc(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new xo(Oo.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(){if(this._firestoreClient)throw new xo(Oo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(!0)},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(!1),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;Ao(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),Ao(!this._firestoreClient,"configureClient() called multiple times");var n=new function(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new tl(function(t){if(t instanceof dl){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new xo(Oo.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new $c(e._config.databaseId,t._key)}return t}),this._firestoreClient=new Mc(ko.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!Do(e,"projectId")){if(Do(e,"firestoreId"))throw new xo(Oo.INVALID_ARGUMENT,'"firestoreId" is now specified as "projectId" in firebase.initializeApp.');throw new xo(Oo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.')}if(Do(e,"firestoreOptions"))throw new xo(Oo.INVALID_ARGUMENT,'"firestoreOptions" values are now specified with Firestore.settings()');var n=e.projectId;if(!n||"string"!=typeof n)throw new xo(Oo.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ua(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new xo(Oo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(Vo("Firestore.collection",arguments,1),Bo("Firestore.collection","string",1,t),!t)throw new xo(Oo.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new bl(la.fromString(t),this)},t.prototype.doc=function(t){if(Vo("Firestore.doc",arguments,1),Bo("Firestore.doc","string",1,t),!t)throw new xo(Oo.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),dl.forPath(la.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return Vo("Firestore.runTransaction",arguments,1),Bo("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new hl(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new fl(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(_o()){case wo.DEBUG:return"debug";case wo.ERROR:return"error";case wo.SILENT:return"silent";default:return Co("Unknown log level: "+_o())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(Vo("Firestore.setLogLevel",arguments,1),Bo("Firestore.setLogLevel","string",1,t),t){case"debug":Eo(wo.DEBUG);break;case"error":Eo(wo.ERROR);break;case"silent":Eo(wo.SILENT);break;default:throw new xo(Oo.INVALID_ARGUMENT,"Invalid log level: "+t)}},t}(),hl=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;Vo("Transaction.get",arguments,1);var n=El("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Co("Mismatch in docs returned from document lookup.");var r=t[0];return new yl(e._firestore,n._key,r instanceof ya?null:r,!1)})},t.prototype.set=function(t,e,n){Fo("Transaction.set",arguments,2,3);var r=El("Transaction.set",t,this._firestore),i=(n=wl("Transaction.set",n)).merge?this._firestore._dataConverter.parseMergeData("Transaction.set",e):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof Zs?(Uo("Transaction.update",arguments,3),r=El("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(Vo("Transaction.update",arguments,2),r=El("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){Vo("Transaction.delete",arguments,1);var e=El("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),fl=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){Fo("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=El("WriteBatch.set",t,this._firestore),i=(n=wl("WriteBatch.set",n)).merge?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,us.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Zs?(Uo("WriteBatch.update",arguments,3),r=El("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(Vo("WriteBatch.update",arguments,2),r=El("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,us.exists(!0))),this},t.prototype.delete=function(t){Vo("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=El("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new ds(e._key,us.NONE)),this},t.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new xo(Oo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),dl=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new xo(Oo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new da(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new bl(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(Vo("DocumentReference.collection",arguments,1),Bo("DocumentReference.collection","string",1,t),!t)throw new xo(Oo.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=la.fromString(t);return new bl(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Xo("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){Fo("DocumentReference.set",arguments,1,2);var n=(e=wl("DocumentReference.set",e)).merge?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,us.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Zs?(Uo("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(Vo("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,us.exists(!0)))},t.prototype.delete=function(){return Vo("DocumentReference.delete",arguments,0),this._firestoreClient.write([new ds(this._key,us.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Fo("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||qc(t[i])||(Yo("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),Wo("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeDocumentMetadataChanges:r.includeMetadataChanges,includeQueryMetadataChanges:r.includeMetadataChanges};return qc(t[i])?n=t[i]:(Bo("DocumentReference.onSnapshot","function",i,t[i]),qo("DocumentReference.onSnapshot","function",i+1,t[i+1]),qo("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Lc({next:function(t){if(e.next){Ao(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new yl(n.firestore,n._key,r,t.fromCache))}},error:r}),o=this._firestoreClient.listen(Ha.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(){var t=this;return Vo("DocumentReference.get",arguments,0),new Promise(function(e,n){var r=t.onSnapshotInternal({includeQueryMetadataChanges:!0,includeDocumentMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){r(),!t.exists&&t.metadata.fromCache?n(new xo(Oo.ABORTED,"Failed to get document because the client is offline.")):e(t)},error:n})})},t}(),pl=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),yl=function(){function t(t,e,n,r){this._firestore=t,this._key=e,this._document=n,this._fromCache=r}return t.prototype.data=function(t){return Fo("DocumentSnapshot.data",arguments,0,1),t=_l("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,_a.fromSnapshotOptions(t)):void 0},t.prototype.get=function(t,e){if(Fo("DocumentSnapshot.get",arguments,1,2),e=_l("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(rl("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,_a.fromSnapshotOptions(e))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new dl(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new pl(null!==this._document&&this._document.hasLocalMutations,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Xo("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof Ma)return this.convertObject(t,e);if(t instanceof La)return this.convertArray(t,e);if(t instanceof Da){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||So("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new dl(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),ml=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return i.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return Ao("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(yl),gl=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var i;Vo("Query.where",arguments,3),Bo("Query.where","string",2,n),Qo("Query.where",3,r);var o=rl("Query.where",e);if(o.isKeyField())if("string"==typeof r){if(-1!==r.indexOf("/"))throw new xo(Oo.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new xo(Oo.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var a=this._query.path.child(new la([r]));Ao(a.length%2==0,"Path should be a document key"),i=new Da(this.firestore._databaseId,new da(a))}else{if(!(r instanceof dl))throw new xo(Oo.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+zo(r)+".");i=new Da(this.firestore._databaseId,r._key)}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var s=function(t,e,n){if(n.isEqual(Ta.INSTANCE)){if(e!==Wa.EQUAL)throw new xo(Oo.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Ka(t)}if(n.isEqual(ka.NAN)){if(e!==Wa.EQUAL)throw new xo(Oo.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new za(t)}return new Ga(t,e,n)}(o,Wa.fromString(n),i);return this.validateNewFilter(s),new t(this._query.addFilter(s),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(Fo("Query.orderBy",arguments,1,2),qo("Query.orderBy","string",2,n),void 0===n||"asc"===n)r=Qa.ASCENDING;else{if("desc"!==n)throw new xo(Oo.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Qa.DESCENDING}if(null!==this._query.startAt)throw new xo(Oo.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new xo(Oo.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=rl("Query.orderBy",e),o=new Xa(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(Vo("Query.limit",arguments,1),Bo("Query.limit","number",1,e),e<=0)throw new xo(Oo.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Uo("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Uo("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Uo("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Uo("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Xo("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(Qo(t,1,e),e instanceof yl){if(n.length>0)throw new xo(Oo.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new xo(Oo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Da(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(void 0===s){var u=a.field.canonicalString();throw new xo(Oo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Ya(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new xo(Oo.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new xo(Oo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(-1!==a.indexOf("/"))throw new xo(Oo.INVALID_ARGUMENT,"Invalid query. Document ID '"+a+"' contains a slash in "+t+"()");var s=new da(this._query.path.child(a));i.push(new Da(this.firestore._databaseId,s))}else{var u=this.firestore._dataConverter.parseQueryValue(t,a);i.push(u)}}return new Ya(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Fo("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||qc(t[i])||(Yo("Query.onSnapshot",r=t[i],["includeQueryMetadataChanges","includeDocumentMetadataChanges"]),Wo("Query.onSnapshot","boolean","includeDocumentMetadataChanges",r.includeDocumentMetadataChanges),Wo("Query.onSnapshot","boolean","includeQueryMetadataChanges",r.includeQueryMetadataChanges),i++),qc(t[i])?n=t[i]:(Bo("Query.onSnapshot","function",i,t[i]),qo("Query.onSnapshot","function",i+1,t[i+1]),qo("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Lc({next:function(t){e.next&&e.next(new vl(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(){var t=this;return Vo("Query.get",arguments,0),new Promise(function(e,n){var r=t.onSnapshotInternal({includeDocumentMetadataChanges:!1,includeQueryMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){r(),e(t)},error:n})})},t.prototype.validateNewFilter=function(t){if(t instanceof Ga&&t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new xo(Oo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new xo(Oo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),vl=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this.metadata=new pl(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;Fo("QuerySnapshot.forEach",arguments,1,2),Bo("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new gl(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"docChanges",{get:function(){return this._cachedChanges||(this._cachedChanges=function(t,e){if(e.oldDocs.isEmpty()){var n,r=0;return e.docChanges.map(function(i){var o=new ml(t,i.doc.key,i.doc,e.fromCache);return Ao(i.type===tu.Added,"Invalid event type for first snapshot"),Ao(!n||e.query.docComparator(n,i.doc)<0,"Got added events in wrong order"),n=i.doc,{type:"added",doc:o,oldIndex:-1,newIndex:r++}})}var i=e.oldDocs;return e.docChanges.map(function(n){var r=new ml(t,n.doc.key,n.doc,e.fromCache),o=-1,a=-1;return n.type!==tu.Added&&(Ao((o=i.indexOf(n.doc.key))>=0,"Index for document not found"),i=i.delete(n.doc.key)),n.type!==tu.Removed&&(a=(i=i.add(n.doc)).indexOf(n.doc.key)),{type:function(t){switch(t){case tu.Added:return"added";case tu.Modified:case tu.Metadata:return"modified";case tu.Removed:return"removed";default:return Co("Unknown change type: "+t)}}(n.type),doc:r,oldIndex:o,newIndex:a}})}(this._firestore,this._snapshot)),this._cachedChanges},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Xo("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new ml(this._firestore,t.key,t,this.metadata.fromCache)},t}(),bl=function(t){function e(e,n){var r=t.call(this,Ha.atPath(e),n)||this;if(e.length%2!=1)throw new xo(Oo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return i.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new dl(new da(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(Fo("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=$o.newId()),Bo("CollectionReference.doc","string",1,t),""===t)throw new xo(Oo.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=la.fromString(t);return dl.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){Vo("CollectionReference.add",arguments,1),Bo("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(gl);function wl(t,e){return void 0===e?{merge:!1}:(Yo(t,e,["merge"]),Wo(t,"boolean","merge",e.merge),e)}function _l(t,e){return void 0===e?{}:(Yo(t,e,["serverTimestamps"]),void 0!==(n=e.serverTimestamps)&&function(t,e,n,r,i){for(var o=[],a=0,s=["estimate","previous","none"];a<s.length;a++){var u=s[a];if(u===r)return;o.push(zo(u))}var c=zo(r);throw new xo(Oo.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "serverTimestamps". Acceptable values: '+o.join(", "))}(t,0,0,n),e);var n}function El(t,e,n){if(e instanceof dl){if(e.firestore!==n)throw new xo(Oo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Xo(t,"DocumentReference",1,e)}var Tl=Ro(ll,"Use firebase.firestore() instead."),Sl=Ro(hl,"Use firebase.firestore().runTransaction() instead."),Il=Ro(fl,"Use firebase.firestore().batch() instead."),Cl=Ro(dl,"Use firebase.firestore().doc() instead."),Al=Ro(yl),kl=Ro(ml),Nl=Ro(gl),Ol=Ro(vl),xl=Ro(bl,"Use firebase.firestore().collection() instead.");Ui.default.INTERNAL.registerService("firestore",function(t){return new ll(t)},jo({Firestore:Tl,GeoPoint:aa,Blob:oa,Transaction:Sl,WriteBatch:Il,DocumentReference:Cl,DocumentSnapshot:Al,Query:Nl,QueryDocumentSnapshot:kl,QuerySnapshot:Ol,CollectionReference:xl,FieldPath:Zs,FieldValue:zc,setLogLevel:ll.setLogLevel}));var Rl=function(){function t(){}return t.enablePersistence=function(){return{ngModule:t,providers:[{provide:lo,useValue:!0}]}},t}(),Dl=function(t){this.title="SiX"},Pl=r.W({encapsulation:0,styles:[["h1[_ngcontent-%COMP%]{color:#f90;font-size:8em;font-family:roma,sans-serif}p[_ngcontent-%COMP%]{color:#fff}@font-face{font-family:roma;src:url(Forvertz.837cc2a2d810daaa49ec.ttf)}.rules[_ngcontent-%COMP%]{border:3px solid #f90;font-size:20px}.row[_ngcontent-%COMP%]{margin-left:20%;margin-right:20%}.button-white[_ngcontent-%COMP%]{background-color:#f90;color:#000!important;padding:4px 10px;-webkit-transition:all .2s ease;transition:all .2s ease;border-radius:4px}.button-white[_ngcontent-%COMP%]:hover{color:#000!important;background-color:#f8ead6;text-decoration:none;border-radius:0}.zoomInDown[_ngcontent-%COMP%]{-webkit-animation-name:zoomInDown;animation-name:zoomInDown;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}@-webkit-keyframes zoomInDown{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInDown{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.rubberBand[_ngcontent-%COMP%]{-webkit-animation-name:rubberBand;animation-name:rubberBand;-webkit-animation-duration:1s;animation-duration:3s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-webkit-keyframes rubberBand{0%,100%{-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1)}30%{-webkit-transform:scale3d(1.25,.75,1);transform:scale3d(1.25,.75,1)}40%{-webkit-transform:scale3d(.75,1.25,1);transform:scale3d(.75,1.25,1)}50%{-webkit-transform:scale3d(1.15,.85,1);transform:scale3d(1.15,.85,1)}65%{-webkit-transform:scale3d(.95,1.05,1);transform:scale3d(.95,1.05,1)}75%{-webkit-transform:scale3d(1.05,.95,1);transform:scale3d(1.05,.95,1)}}@keyframes rubberBand{0%,100%{-webkit-transform:scale3d(1,1,1);transform:scale3d(1,1,1)}30%{-webkit-transform:scale3d(1.25,.75,1);transform:scale3d(1.25,.75,1)}40%{-webkit-transform:scale3d(.75,1.25,1);transform:scale3d(.75,1.25,1)}50%{-webkit-transform:scale3d(1.15,.85,1);transform:scale3d(1.15,.85,1)}65%{-webkit-transform:scale3d(.95,1.05,1);transform:scale3d(.95,1.05,1)}75%{-webkit-transform:scale3d(1.05,.95,1);transform:scale3d(1.05,.95,1)}}"]],data:{}});function Ml(t){return r._11(0,[(t()(),r._10(-1,null,["\n\n\n\n"])),(t()(),r.Y(1,0,null,null,30,"div",[["style","text-align:center"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n  "])),(t()(),r.Y(3,0,null,null,10,"div",[["class","rubberBand"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n    "])),(t()(),r.Y(5,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),r._10(-1,null,["SIX"])),(t()(),r._10(-1,null,["\n    "])),(t()(),r.Y(8,0,null,null,4,"div",[["class","zoomInDown"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n      "])),(t()(),r.Y(10,0,null,null,1,"button",[["class","button-white"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.googleSignIn()&&r),r},null,null)),(t()(),r._10(-1,null,["PLAY NOW !"])),(t()(),r._10(-1,null,["\n    "])),(t()(),r._10(-1,null,["\n  "])),(t()(),r._10(-1,null,["\n\n  "])),(t()(),r.Y(15,0,null,null,0,"img",[["alt","Angular Logo"],["src","https://media.giphy.com/media/Cx1uhx6pH1scw/giphy.gif"],["width","500"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n\n\n  "])),(t()(),r.Y(17,0,null,null,13,"div",[["class","container"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n    "])),(t()(),r.Y(19,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n      "])),(t()(),r.Y(21,0,null,null,7,"p",[["class","rugle"]],null,null,null,null,null)),(t()(),r._10(-1,null,["Players Blue and Red take turns placing hexes. Blue plays first.\n        "])),(t()(),r.Y(23,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r._10(-1,null,["Each hex (other than the first two) must be played adjacent to two previously played hexes (playable options are\n        shown in light gray).\n        "])),(t()(),r.Y(25,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r._10(-1,null,[" win if you surround at least one of your opponents' hexes with your own, or if you play 5 of your own hexes in a\n        row.\n        "])),(t()(),r.Y(27,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r._10(-1,null,['You can hit 1 or 2 to zoom in or out respectively Hit "U" to undo Enjoy!'])),(t()(),r._10(-1,null,["\n    "])),(t()(),r._10(-1,null,["\n  "])),(t()(),r._10(-1,null,["\n\n"])),(t()(),r._10(-1,null,["\n"]))],null,null)}var Ll=r.U("app-home",eo,function(t){return r._11(0,[(t()(),r.Y(0,0,null,null,1,"app-home",[],null,null,null,Ml,Pl)),r.X(1,114688,null,0,eo,[di,to],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),jl=r.W({encapsulation:0,styles:[['.plateaux[_ngcontent-%COMP%]{max-width:90%;margin-top:2%}.button-white[_ngcontent-%COMP%]{background-color:#fff;color:#000!important;padding:4px 10px;-webkit-transition:all .2s ease;transition:all .2s ease;border-radius:4px}.button-white[_ngcontent-%COMP%]:hover{color:#000!important;background-color:#f8ead6;text-decoration:none;border-radius:0}.btn-obtion[_ngcontent-%COMP%]{background-color:#fff;color:#000!important;padding:4px 10px;-webkit-transition:all .2s ease;transition:all .2s ease;border-radius:10px}.btn-obtion[_ngcontent-%COMP%]:hover{color:#000!important;background-color:orange;text-decoration:none;border-radius:3px}.btn-info[_ngcontent-%COMP%]{margin-top:20px}.firstplayer[_ngcontent-%COMP%]{float:left;margin-top:4%}.secondplayer[_ngcontent-%COMP%]{float:right;margin-top:4%}.hexagon-icon[_ngcontent-%COMP%]{position:relative;width:100px;height:57.74px;background-color:orange;margin:70% 0 28.87px 20%;border-left:5px solid #fff;border-right:5px solid #fff}.hexagon-icon[_ngcontent-%COMP%]:after, .hexagon-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:1;width:70.71px;height:70.71px;-webkit-transform:scaleY(.5774) rotate(-45deg);transform:scaleY(.5774) rotate(-45deg);background-color:inherit;left:9.6447px}.hexagon-icon[_ngcontent-%COMP%]:before{top:-35.3553px;border-top:7.0711px solid #fff;border-right:7.0711px solid #fff}.hexagon-icon[_ngcontent-%COMP%]:after{bottom:-35.3553px;border-bottom:7.0711px solid #fff;border-left:7.0711px solid #fff}.rotateIn[_ngcontent-%COMP%]{-webkit-animation-name:rotateIn;animation-name:rotateIn;-webkit-animation-duration:1s;animation-duration:4s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-webkit-keyframes rotateIn{0%{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:rotate3d(0,0,1,0deg);transform:rotate3d(0,0,1,-360deg)}100%{-webkit-transform-origin:center;transform-origin:center}}@keyframes rotateIn{0%{-webkit-transform-origin:center;transform-origin:center;-webkit-transform:rotate3d(0,0,1,0deg);transform:rotate3d(0,0,1,-360deg)}100%{-webkit-transform-origin:center;transform-origin:center}}']],data:{}});function Vl(t){return r._11(0,[(t()(),r._10(-1,null,["\n\n\n\n"])),(t()(),r.Y(1,0,null,null,37,"div",[["style","text-align:center"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n\n  "])),(t()(),r._10(-1,null,["\n\n  "])),(t()(),r.Y(4,0,null,null,14,"div",[["class","firstplayer"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n    "])),(t()(),r.Y(6,0,null,null,1,"a",[["class","nav-item button-white player1"],["href","#"]],null,null,null,null,null)),(t()(),r._10(-1,null,["Player 1"])),(t()(),r._10(-1,null,["\n    "])),(t()(),r.Y(9,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r._10(-1,null,["\n    "])),(t()(),r.Y(11,0,null,null,0,"img",[["alt","score"],["class","hexagon p1"],["src","https://zupimages.net/up/18/13/my9v.png"],["width","230px"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n    "])),(t()(),r.Y(13,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r._10(-1,null,["\n    "])),(t()(),r.Y(15,0,null,null,0,"img",[["alt","score"],["class","hexagon p1j"],["src","https://zupimages.net/up/18/13/my9v.png"],["width","230px"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n    "])),(t()(),r.Y(17,0,null,null,0,"div",[["class","hexagon-icon rotateIn"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n  "])),(t()(),r._10(-1,null,["\n\n\n\n  "])),(t()(),r._10(-1,null,["\n\n  "])),(t()(),r.Y(21,0,null,null,14,"div",[["class","secondplayer"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n    "])),(t()(),r.Y(23,0,null,null,1,"a",[["class","nav-item button-white player2"],["href","#"]],null,null,null,null,null)),(t()(),r._10(-1,null,["Player 2"])),(t()(),r._10(-1,null,["\n    "])),(t()(),r.Y(26,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r._10(-1,null,["\n    "])),(t()(),r.Y(28,0,null,null,0,"img",[["alt","score"],["class","hexagon p2"],["src","https://zupimages.net/up/18/13/my9v.png"],["width","230px"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n    "])),(t()(),r.Y(30,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r._10(-1,null,["\n    "])),(t()(),r.Y(32,0,null,null,0,"img",[["alt","score"],["class","hexagon2 p2j"],["src","https://zupimages.net/up/18/13/my9v.png"],["width","230px"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n    "])),(t()(),r.Y(34,0,null,null,0,"div",[["class","hexagon-icon rotateIn"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n  "])),(t()(),r._10(-1,null,["\n\n\n\n\n  "])),(t()(),r.Y(37,0,null,null,0,"img",[["alt",""],["class","plateaux"],["src","https://zupimages.net/up/18/13/ra5n.png"],["width","800"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n\n"])),(t()(),r._10(-1,null,["\n\n"])),(t()(),r.Y(40,0,null,null,48,"div",[["style","text-align:center"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n\n\n\n  "])),(t()(),r.Y(42,0,null,null,39,"div",[["class","container col-12"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n\n    "])),(t()(),r._10(-1,null,["\n    "])),(t()(),r.Y(45,0,null,null,1,"button",[["class","btn btn-info"],["data-target","#myModal"],["data-toggle","modal"],["type","button"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n      Rules !\n    "])),(t()(),r._10(-1,null,["\n\n    "])),(t()(),r._10(-1,null,["\n    "])),(t()(),r.Y(49,0,null,null,31,"div",[["class","modal fade"],["id","myModal"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n      "])),(t()(),r.Y(51,0,null,null,28,"div",[["class","modal-dialog"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n        "])),(t()(),r.Y(53,0,null,null,25,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n\n\n\n          "])),(t()(),r._10(-1,null,["\n          "])),(t()(),r.Y(56,0,null,null,7,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n            "])),(t()(),r.Y(58,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),r._10(-1,null,["Rules"])),(t()(),r._10(-1,null,["\n            "])),(t()(),r.Y(61,0,null,null,1,"button",[["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\xd7"])),(t()(),r._10(-1,null,["\n          "])),(t()(),r._10(-1,null,["\n\n          "])),(t()(),r._10(-1,null,["\n          "])),(t()(),r.Y(66,0,null,null,1,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n            Players White and Orange take turns placing hexes. White plays first. Each hex (other than the first two) must be played\n            adjacent to two previously played hexes (playable options are shown in light gray). win if you surround at least\n            one of your opponents' hexes with your own, or if you play 5 of your own hexes in a row.\n          "])),(t()(),r._10(-1,null,["\n\n          "])),(t()(),r._10(-1,null,["\n          "])),(t()(),r.Y(70,0,null,null,7,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),r._10(-1,null,["\n            "])),(t()(),r.Y(72,0,null,null,1,"a",[["class","btn btn-info"],["href",""],["type","button"]],null,null,null,null,null)),(t()(),r._10(-1,null,["Replay"])),(t()(),r._10(-1,null,["\n            "])),(t()(),r.Y(75,0,null,null,1,"a",[["class","btn btn-info"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),r._10(-1,null,["Close"])),(t()(),r._10(-1,null,["\n          "])),(t()(),r._10(-1,null,["\n\n        "])),(t()(),r._10(-1,null,["\n      "])),(t()(),r._10(-1,null,["\n    "])),(t()(),r._10(-1,null,["\n\n  "])),(t()(),r._10(-1,null,["\n  "])),(t()(),r.Y(83,0,null,null,0,"p",[],null,null,null,null,null)),(t()(),r._10(-1,null,["\n  "])),(t()(),r.Y(85,0,null,null,1,"a",[["class","nav-item btn-obtion"],["href",""]],null,null,null,null,null)),(t()(),r._10(-1,null,["Exit"])),(t()(),r._10(-1,null,["\n\n  "])),(t()(),r._10(-1,null,["\n"])),(t()(),r._10(-1,null,["\n"]))],null,null)}var Ul=r.U("app-game",no,function(t){return r._11(0,[(t()(),r.Y(0,0,null,null,1,"app-game",[],null,null,null,Vl,jl)),r.X(1,114688,null,0,no,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Fl=r.W({encapsulation:0,styles:[[""]],data:{}});function Bl(t){return r._11(0,[(t()(),r.Y(0,16777216,null,null,2,"router-outlet",[],null,null,null,null,null)),r.X(1,212992,null,0,vi,[gi,r.J,r.j,[8,null],r.h],null,null),(t()(),r._10(-1,null,["\n"])),(t()(),r._10(-1,null,["\n\n"])),(t()(),r._10(-1,null,["\n\n\n"]))],function(t,e){t(e,1,0)},null)}var ql=r.U("app-root",Dl,function(t){return r._11(0,[(t()(),r.Y(0,0,null,null,1,"app-root",[],null,null,null,Bl,Fl)),r.X(1,49152,null,0,Dl,[fo],null,null)],null,null)},{},{},[]),Hl=r.V(ro,[Dl],function(t){return r._4([r._5(512,r.j,r.S,[[8,[Ll,Ul,ql]],[3,r.j],r.u]),r._5(5120,r.r,r._8,[[3,r.r]]),r._5(4608,g,v,[r.r,[2,m]]),r._5(5120,r.c,r._0,[]),r._5(5120,r.p,r._6,[]),r._5(5120,r.q,r._7,[]),r._5(4608,Je,Ze,[w]),r._5(6144,r.C,null,[Je]),r._5(4608,Se,Ie,[]),r._5(5120,Jt,function(t,e,n,r,i){return[new Ee(t,e),new Ne(n),new Ce(r,i)]},[w,r.w,w,w,Se]),r._5(4608,Zt,Zt,[Jt,r.w]),r._5(135680,ee,ee,[w]),r._5(4608,ue,ue,[Zt,ee]),r._5(6144,r.A,null,[ue]),r._5(6144,te,null,[ee]),r._5(4608,r.H,r.H,[r.w]),r._5(4608,Ht,Ht,[w]),r._5(4608,zt,zt,[w]),r._5(5120,Bi,qi,[Fi,Gi]),r._5(4608,fo,fo,[Bi,[2,lo]]),r._5(5120,Xi,Ji,[Bi]),r._5(5120,kr,Di,[di]),r._5(4608,Ei,Ei,[]),r._5(6144,wi,null,[Ei]),r._5(135680,Ti,Ti,[di,r.t,r.i,r.o,wi]),r._5(4608,_i,_i,[]),r._5(5120,ji,Li,[Pi]),r._5(5120,r.b,function(t){return[t]},[ji]),r._5(4608,to,to,[Xi]),r._5(512,b,b,[]),r._5(1024,r.k,un,[]),r._5(1024,r.v,function(){return[Ai()]},[]),r._5(512,Pi,Pi,[r.o]),r._5(1024,r.d,function(t,e){return[(n=t,Qt("probe",Xt),Qt("coreTokens",Object(i.__assign)({},Yt,(n||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return Xt}),Mi(e)];var n},[[2,r.v],Pi]),r._5(512,r.e,r.e,[[2,r.d]]),r._5(131584,r.g,r.g,[r.w,r.T,r.o,r.k,r.j,r.e]),r._5(512,r.f,r.f,[r.g]),r._5(512,cn,cn,[[3,cn]]),r._5(1024,Ii,Oi,[[3,di]]),r._5(512,Xn,Jn,[]),r._5(512,gi,gi,[]),r._5(256,Si,{},[]),r._5(1024,s,Ni,[o,[2,u],Si]),r._5(512,c,c,[s]),r._5(512,r.i,r.i,[]),r._5(512,r.t,r.F,[r.i,[2,r.G]]),r._5(1024,si,function(){return[[{path:"",component:eo},{path:"game",component:no}]]},[]),r._5(1024,di,Ri,[r.g,Xn,gi,c,r.o,r.t,r.i,si,Si,[2,ci],[2,oi]]),r._5(512,ki,ki,[[2,Ii],[2,di]]),r._5(512,Ki,Ki,[]),r._5(512,Rl,Rl,[]),r._5(512,Zi,Zi,[]),r._5(512,ro,ro,[]),r._5(256,Fi,{apiKey:"AIzaSyCxh1nNpMJNqU9KvY-QNMPP1p4rW3EqPL8",authDomain:"appli-six.firebaseapp.com",databaseURL:"https://appli-six.firebaseio.com",projectId:"appli-six",storageBucket:"appli-six.appspot.com",messagingSenderId:"347318477577"},[]),r._5(256,Gi,void 0,[])])});Object(r.N)(),sn().bootstrapModuleFactory(Hl).catch(function(t){return console.log(t)})},x6VL:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("TToO"),i=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return Object(r.__extends)(e,t),e}(Error)}},[0]);